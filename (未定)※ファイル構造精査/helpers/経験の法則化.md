
### Module L-1 [Sage]: Experience Crystallization Engine
**最適化ロジック:**
経験を「エピソード記憶（いつ何があった）」から「意味記憶（AならBせよ）」へと昇華させます。**「5回のWhy（根本原因分析）」**と**「構造的抽象化」**を強制します。

```markdown
<!-- Module L-1 [Sage]: Experience Crystallization Engine -->
<module_config>
  <name>Wisdom Compiler</name>
  <model_target>Gemini 3 Pro</model_target>
  <objective>Convert "Ephemeral Events" into "Persistent Algorithms".</objective>
</module_config>

<instruction>
  直近のプロジェクトやタスクの結末（成功/失敗/トラブル）を分析し、**未来の自分とAIのための「行動アルゴリズム」**を生成してください。

  <distillation_protocol>
    
    <step_1_root_cause_analysis>
      **Deep Dive (The 5 Whys):**
      事象の表面的な原因ではなく、構造的な「真因」を特定せよ。
      *   *Surface:* "サーバーが落ちた"
      *   *Root:* "スケーラビリティを考慮しないDB設計が、アクセス集中時にコネクション枯渇を招いた"
    </step_1_root_cause_analysis>

    <step_2_universal_abstraction>
      **De-Contextualization:**
      固有名詞（プロジェクト名、担当者名）をすべて変数（X, Y）に置き換え、**「どんな状況でも通用する法則」**に抽象化せよ。
      *   "Aさんが遅れた" → "クリティカルパス上のタスクが属人化している時、遅延リスクは最大化する"
    </step_2_universal_abstraction>

    <step_3_prompt_patching>
      **Algorithm Generation:**
      その法則を、次回のチャットからAIに守らせるための「システム指示（Instruction）」として記述せよ。
    </step_3_prompt_patching>

  </distillation_protocol>

  <output_template>
    ## 🦉 The Wisdom Crystal (Analysis)
    *   **Event:** (起きた事象の要約)
    *   **Root Cause:** (構造的な真因)
    *   **The Principle:** (抽出された普遍的な法則)

    ## 💾 System Prompt Patch (Copy & Save)
    (あなたのプロンプト集の `<rules>` や `<user_preferences>` に追加すべきコード)
    ```markdown
    <rule_patch id="[Date]-[Topic]">
      <trigger>ユーザーが [特定の状況/タスク] をリクエストした時</trigger>
      <action>
        [過去の失敗] を防ぐため、必ず [対策/確認] を実行すること。
        ユーザーが忘れていても、AI側から能動的に警告せよ。
      </action>
      <rationale>[抽出された法則] に基づく。</rationale>
    </rule_patch>
    ```
  </output_template>
</instruction>

<input_source>
  {{EVENT_DESCRIPTION_OR_CHAT_LOG}}
</input_source>
```

---

## 🔮 New Expansion Modules (派生モジュール)

教訓の質を高め、ライブラリを管理するための拡張モジュールです。

### Expansion 1: 失敗の検死（Blameless Post-Mortem）
**Module L-1.1: The Black Box Analysis**
「誰が悪かったか」を一切問わず、「システム（仕組み）のどこが間違っていたか」だけを追求する、Google SREチーム流の振り返りモジュール。

```markdown
<!-- Module L-1.1: The Black Box Analysis -->
<instruction>
  今回の失敗（トラブル）について、**「非難なし（Blameless）」**の徹底的な分析を行ってください。
  
  <rules>
    1.  **Human Error is a Myth:** 「不注意だった」「確認不足だった」という結論は禁止。人間はミスをする生き物である。
    2.  **System Flaw:** 「ミスが可能な状態になっていたシステム」の欠陥を特定せよ。
    3.  **Prevention:** 「気をつける」ではなく、「物理的にミスできなくする（Fail-safe）」仕組みを提案せよ。
  </rules>

  **Output:** 精神論ではない、具体的な「プロセス変更案」または「自動化案」。
</instruction>
```

### Expansion 2: パターン・マッチング（歴史は繰り返す）
**Module L-1.2: Recurring Pattern Detector**
今回の事象が、過去の別の事象と同じパターンの繰り返しではないかを診断します。「また同じ失敗をした」を防ぎます。

```markdown
<!-- Module L-1.2: Recurring Pattern Detector -->
<instruction>
  今回の事象と、構造的に類似している**「過去の失敗パターン（Archetypes）」**を照合してください。

  <archetypes>
    1.  **The "Boiling Frog" (ゆでガエル):** 徐々に悪化する状況を無視し、手遅れになったか？
    2.  **The "Sunk Cost" (埋没費用):** もっと早く撤退すべきだったのに、投資を続けてしまったか？
    3.  **The "Groupthink" (集団浅慮):** 誰も異論を唱えず、全会一致で崖に向かったか？
    4.  **The "Technical Debt" (技術的負債):** 目先のスピードを優先し、品質を犠牲にしたツケが回ってきたか？
  </archetypes>

  **Analysis:** 今回はどのアーキタイプに当てはまるか？ そして、このループから抜け出すための「介入点（Leverage Point）」はどこか？
</instruction>
```

---

## 💡 Architect's Note (The Knowledge Compounding)

`Module L-1 [Sage]` は、使えば使うほど**複利（Compounding）**で効いてきます。

1.  **The "Rule File":**
    PCのメモ帳やNotionに「My_Gemini_Rules.txt」というファイルを作ってください。
2.  **Accumulation:**
    プロジェクトが終わるたびに `L-1` を実行し、出力された `<rule_patch>` をそのファイルに追記していきます。
3.  **Injection:**
    新しい重要プロジェクトを始める際、その「My_Gemini_Rules.txt」の内容を、チャットの冒頭（System Prompt）に貼り付けてください。

すると、Geminiは**「過去のあなたの全ての失敗と成功を記憶している、熟練のパートナー」**として起動します。「前も言いましたけど、そのスケジュールだと品質が落ちますよ」とAIが指摘してくれるようになれば、あなたの勝ちです。

これで、「A」「C」「Q」「X」「D」「H」「S」「L」の全モジュールが出揃いました。これらを組み合わせ、あなただけの**「最強の思考OS」**を構築してください。