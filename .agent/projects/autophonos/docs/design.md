# AutophÅnos: è©³ç´°è¨­è¨ˆ

> **Proactive Benefit Push Engine**

---

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      AutophÅnos Engine                          â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Context         â”‚    â”‚ Benefit         â”‚    â”‚ Self-      â”‚  â”‚
â”‚  â”‚ Detector        â”‚â”€â”€â”€â–¶â”‚ Estimator       â”‚â”€â”€â”€â–¶â”‚ Advocate   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚          â”‚                      â”‚                     â”‚         â”‚
â”‚          â–¼                      â–¼                     â–¼         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Handoff/Context â”‚    â”‚ GnÅsis Index    â”‚    â”‚ LLM        â”‚  â”‚
â”‚  â”‚ Parser          â”‚    â”‚ (AIDB, Brain)   â”‚    â”‚ (Gemini)   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Push Candidates â”‚
                    â”‚ (å„ªå…ˆåº¦ä»˜ããƒªã‚¹ãƒˆ) â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â–¼               â–¼               â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ /boot    â”‚   â”‚ CLI      â”‚   â”‚ Obsidian â”‚
        â”‚ çµ±åˆ     â”‚   â”‚ Command  â”‚   â”‚ Sync     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè©³ç´°

### 1. Context Detector

**å½¹å‰²**: ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰ã€Œãƒ‹ãƒ¼ã‚ºã€ã‚’æŠ½å‡º

**å…¥åŠ›**:

- æœ€æ–° Handoff (YAML frontmatter + æœ¬æ–‡)
- ç¾åœ¨ã® /boot ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
- ç›´è¿‘ã®ä¼šè©±å±¥æ­´ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

**å‡ºåŠ›**:

```python
@dataclass
class DetectedContext:
    needs: List[str]           # ã€Œã€‡ã€‡ã—ãŸã„ã€ã€Œã€‡ã€‡ã«å›°ã£ã¦ã„ã‚‹ã€
    topics: List[str]          # é–¢é€£ãƒˆãƒ”ãƒƒã‚¯
    urgency: float             # 0.0-1.0
    confidence: float          # 0.0-1.0
```

---

### 2. Benefit Estimator

**å½¹å‰²**: å„è«–æ–‡ã«å¯¾ã—ã¦ã€Œä»Šã“ã®ç¬é–“ã®æœ‰ç”¨æ€§ã€ã‚’æ¨å®š

**å…¥åŠ›**:

- DetectedContext
- GnÅsis Index (å…¨è«–æ–‡)

**å‡¦ç†**:

1. Context ã® needs/topics ã‚’ã‚¯ã‚¨ãƒªã¨ã—ã¦ GnÅsis æ¤œç´¢
2. å„ãƒ’ãƒƒãƒˆã«å¯¾ã—ã¦ã€Œè§£æ±ºå¯èƒ½æ€§ã‚¹ã‚³ã‚¢ã€ã‚’è¨ˆç®—
3. é¡ä¼¼åº¦ã ã‘ã§ãªãã€**å…·ä½“çš„ãªè²¢çŒ®åº¦**ã‚’æ¨å®š

**å‡ºåŠ›**:

```python
@dataclass
class BenefitScore:
    paper_id: str
    similarity: float          # é¡ä¼¼åº¦ (0.0-1.0)
    actionability: float       # å®Ÿè¡Œå¯èƒ½æ€§ (0.0-1.0)
    novelty: float             # æ–°è¦æ€§ï¼ˆéå»ã«æç¤ºã—ãŸã‹ï¼‰(0.0-1.0)
    composite: float           # ç·åˆã‚¹ã‚³ã‚¢
```

---

### 3. Self-Advocate (Self-Advocacy Generator)

**å½¹å‰²**: è«–æ–‡ãŒã€Œè‡ªåˆ†ã®ä¾¡å€¤ã‚’ä¸»å¼µã™ã‚‹ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”Ÿæˆ

**å…¥åŠ›**:

- è«–æ–‡ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ (title, abstract, authors)
- DetectedContext
- BenefitScore

**å‡ºåŠ›**:

```python
@dataclass
class SelfAdvocacy:
    paper_id: str
    message: str               # è«–æ–‡è¦–ç‚¹ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
    key_contribution: str      # å…·ä½“çš„ãªè²¢çŒ®
    how_to_use: str            # ä½¿ã„æ–¹ã®ææ¡ˆ
```

**ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¾‹**:

```
ğŸ“„ **[è«–æ–‡ã‚¿ã‚¤ãƒˆãƒ«]** ãŒèªã‚Šã‹ã‘ã¦ã„ã¾ã™:

ã€Œã‚ãªãŸãŒä»Šå–ã‚Šçµ„ã‚“ã§ã„ã‚‹ **CCL æ¼”ç®—å­ã®å½¢å¼åŒ–** ã«é–¢ã—ã¦ã€
ç§ã¯ **åœè«–çš„ãƒ¢ãƒŠãƒ‰ã‚’ç”¨ã„ãŸåˆ¶å¾¡ãƒ•ãƒ­ãƒ¼è¨˜è¿°** ã‚’æä¾›ã§ãã¾ã™ã€‚

å…·ä½“çš„ã«ã¯ã€ç§ã® Â§3 ã§è¿°ã¹ã¦ã„ã‚‹ Operational Monad ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’
CCL ã® `/` æ¼”ç®—å­ã«é©ç”¨ã§ãã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ã€
```

---

## ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```mermaid
sequenceDiagram
    participant User
    participant Boot as /boot
    participant CD as Context Detector
    participant BE as Benefit Estimator
    participant SA as Self-Advocate
    participant Gnosis as GnÅsis Index

    User->>Boot: ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹
    Boot->>CD: Handoff + Context
    CD->>CD: ãƒ‹ãƒ¼ã‚ºæŠ½å‡º
    CD->>BE: DetectedContext
    BE->>Gnosis: ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢
    Gnosis-->>BE: å€™è£œè«–æ–‡
    BE->>BE: ã‚¹ã‚³ã‚¢è¨ˆç®—
    BE->>SA: ä¸Šä½ N ä»¶
    SA->>SA: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆ
    SA-->>Boot: Push Candidates
    Boot-->>User: ã€Œä»Šæ—¥èªã‚Šã‹ã‘ã¦ã„ã‚‹è«–æ–‡ã€è¡¨ç¤º
```

---

## å®Ÿè£…è¨ˆç”»

### Phase 1: Core Engine (MVP)

| ãƒ•ã‚¡ã‚¤ãƒ« | å†…å®¹ |
|:---------|:-----|
| `mekhane/autophonos/__init__.py` | ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åˆæœŸåŒ– |
| `mekhane/autophonos/context_detector.py` | Context Detector |
| `mekhane/autophonos/benefit_estimator.py` | Benefit Estimator |
| `mekhane/autophonos/self_advocate.py` | Self-Advocate |
| `mekhane/autophonos/engine.py` | çµ±åˆã‚¨ãƒ³ã‚¸ãƒ³ |

### Phase 2: /boot çµ±åˆ

- `boot.md` ã« Phase 5.5 ã‚’è¿½åŠ 
- `boot_integration.py` ã‹ã‚‰ AutophÅnos Engine ã‚’å‘¼ã³å‡ºã—

### Phase 3: CLI

- `mekhane/autophonos/cli.py` â€” ã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒ­ãƒ³å®Ÿè¡Œ

---

## è¨­å®š

```yaml
# autophonos_config.yaml
context_detection:
  handoff_lookback: 3          # ç›´è¿‘ N ä»¶ã® Handoff ã‚’å‚ç…§
  confidence_threshold: 0.6    # ã“ã‚Œä»¥ä¸‹ã¯ç„¡è¦–

benefit_estimation:
  top_k: 10                    # ä¸Šä½ N ä»¶ã‚’å€™è£œã«
  similarity_weight: 0.3       # é¡ä¼¼åº¦ã®é‡ã¿
  actionability_weight: 0.5    # å®Ÿè¡Œå¯èƒ½æ€§ã®é‡ã¿
  novelty_weight: 0.2          # æ–°è¦æ€§ã®é‡ã¿

self_advocacy:
  message_style: "first_person" # è«–æ–‡ä¸€äººç§°è¦–ç‚¹
  max_length: 300              # æœ€å¤§æ–‡å­—æ•°
```

---

*Last updated: 2026-02-06*
