# 圏 Cog の未解決問題 — 体系的分析

> **Project Kalon — 2026-02-07**
> **前提**: `category_cog_definition.md` v2.0 の5つの未解決問い

---

## Q1: 恒等射 X-OO の具体的意味

### 現状

- `taxis.md` v3.1: 「恒等射 = 自己参照 = X-OO, X-SS, ...」と記載
- `doctrine.md`: 「自己参照の禁止 → X-series で自己参照を許容」への政策変更を記録
- **しかし**: X-OO の具体的な定義（何本の射？どの定理間？）は taxis.md にない

### 分析

恒等射 id_X: X → X の要件:

1. 任意の射 f: X → Y に対して `f ∘ id_X = f`
2. 任意の射 g: Y → X に対して `id_X ∘ g = g`

つまり「何もしない」射。CCL で言えば:

```ccl
/noe >> /met  =  /noe >> id_O >> /met  =  /noe >> /met
```

**id_O は「O-series を通過するが何も変換しない」射。**

### 問題: 恒等射は何本あるべきか？

| 粒度 | 恒等射の数 | 意味 |
|:-----|:----------|:-----|
| 定理群レベル | 6 (X-OO, X-SS, ...) | 「O-series に留まる」 |
| 定理レベル | 24 (id_O1, id_O2, ..., id_A4) | 「O1 に留まる」 |

**対象が24定理なら、恒等射も24個必要。** 6個では足りない。

### 結論

```
恒等射 id_{O1}: O1 → O1 = 「Noēsis を実行するが状態を変えない」
  = /noe{depth=0}  ← 深さゼロの認識 = 何もしない

具体的には:
  id_{O1} = 「この認識に追加すべきことはない」
  id_{S2} = 「この方法配置で問題ない」
  ...
```

> **判定**: 恒等射は24個。各定理に1つ。「深さゼロの実行 = 現状を追認する操作」として定義可能。taxis.md の X-OO 記法は6定理群レベルの略記であり、展開すれば id_{O1}, id_{O2}, id_{O3}, id_{O4} の4本。

---

## Q2: `>>` の結合律

### 要件

`(A >> B) >> C = A >> (B >> C)` — 合成の順序を入れ替えても同じ結果。

### 具体例で検証

```ccl
# ケース: O1 → S1 → P1 (Noēsis → Metron → Khōra)
# 射: X-OS1 (O1→S1), X-SP1 (S1→P1)

# 左結合: (O1 >> S1) >> P1
#   = (Noēsis を Metron の視点で構造変換) → Khōra
#   = 「認識を尺度化した結果を、空間に配置する」

# 右結合: O1 >> (S1 >> P1)
#   = Noēsis → (Metron を Khōra の視点で構造変換)
#   = 「認識を、尺度が空間化された結果に変換する」
```

### 判定

**厳密には等しくない可能性がある。** しかし:

1. CCL の `>>` は実際には「左から右に順次実行」であり、結合律は**構文的に保証**される（左結合）
2. 認知的内容としては、経路同値性テストで示した通り、経路は異なる結果を生みうる
3. **しかし**、圏論の結合律は「射の合成」での等号であり、「認知的結果」の等号ではない

**区別すべき2つのレベル**:

| レベル | 結合律 | 判定 |
|:-------|:------|:-----|
| 構文レベル | `(A >> B) >> C` と `A >> (B >> C)` は同じ射の列 | ✅ 成立 |
| 意味レベル | 同じ認知的結果を生むか？ | ⚠️ 不明 |

> **判定**: 構文レベルの結合律は成立。意味レベルは開放的問題として残す。圏論では構文レベルの結合律で十分。これは集合論での `(f∘g)∘h = f∘(g∘h)` と同様 — 関数の合成は定義により結合的。

---

## Q3: Equalizer と Pullback の存在

### Equalizer

**定義**: f, g: A → B が二つの射のとき、Equalizer e: E → A は「f∘e = g∘e」を満たす最も一般的な射。

**Cog での意味**: 同じ定理ペア間に複数の射がある場合、それらが一致する条件を定める射。

```
例: Hom(O1, S1) には X-OS1 が存在
    Hom(O1, S2) には X-OS2 が存在
    → これは異なるターゲットなので Equalizer の対象ではない

例: Hom(O1, H1) = {X-OH1}
    Hom(O1, H1) は1本のみ → Equalizer は自明 (id_{O1})
```

**問題**: 各 Hom(X,Y) に含まれるのは**ちょうど1本の射**（X-series の各関係は定理対ごとに一意）。

**Hom(O1,S1) = {X-OS1}**, **Hom(O1,S2) = {X-OS2}** — これらは異なるターゲットへの射であって、同じターゲットへの異なる射ではない。

> **判定**: 各 Hom(X, Y) が高々1本の射を含むなら、Equalizer は自明に存在する (id で十分)。**Cog は thin に近い構造を持つ**: 各定理ペア間の直接射は0本または1本。

### Pullback

**定義**: f: A → C と g: B → C が与えられたとき、Pullback P は「fとgの共通部分」。

```
例: X-OS1: O1 → S1  と  X-SH1: S1 → H1
    引き戻し: O1 × H1 (S1上) = 「S1 を経由して O1 と H1 が共有する構造」
```

**Cog での意味**: ある中間定理を経由して二つの定理が「出会う」構造。

> **判定**: Pullback は「二つの射が同じターゲットを持つとき」に定義される。Cog では X-OH1 (O1→H1) が直接射として存在するため、O1→S1→H1 の合成と O1→H1 の直接射が「同じか？」という問いになる。**これは Q2 の意味レベル結合律と等価な問題。**

---

## Q4: Hub WF が関手であることの証明

### 関手の要件

F: C → D が関手であるためには:

1. **対象の写像**: 各対象 X ∈ C に対して F(X) ∈ D
2. **射の写像**: 各射 f: X → Y に対して F(f): F(X) → F(Y)
3. **合成保存**: F(g∘f) = F(g) ∘ F(f)
4. **恒等保存**: F(id_X) = id_{F(X)}

### Hub WF `/o` を検証

`/o` は O-series の4定理を内積に統合する関手 ... だが、何を何に写すか？

```
/o: Cog_O → Scalar

  対象の写像: {O1, O2, O3, O4} → {結果スカラー}
  射の写像:   O1→O2 (シリーズ内の遷移) → スカラー間の変換？
```

**ここに問題がある**: `/o` は4定理を**スカラーに収束**させる演算だが、圏論の関手は「構造を保存する」写像である。スカラーへの収束は構造の**消失**であって、保存ではない。

### 再解釈

`/o` を関手ではなく**極限 (Limit)** として見ると整合する:

```
/o = lim(O1, O2, O3, O4)
   = 4つの対象の最も具体的な共通部分
   = 内積スカラー
```

| 解釈 | 整合性 | 問題 |
|:-----|:------|:-----|
| 関手 | ⚠️ | 構造「保存」しない（消失させる） |
| 極限 | ✅ | 収束操作。圏の到達点 |
| Cone | ✅ | 4定理への射を持つ最も具体的な対象 |

> **判定**: Hub WF は厳密には**関手ではない**。**Limit 演算** (cone の頂点) として解釈する方が正確。taxis.md の表が `/` = Limit と記載しているのは正しいが、同時に関手とも書いているのは**不整合**の可能性がある。
>
> **提案**: Hub WF の二重の性質:
>
> - **/o** (slash = 内積) = **Limit演算** — 4定理をスカラーに収束
> - **/o** (ワークフロー全体) = **関手** — Cog の部分圏 Cog_O から「結果の圏」への構造写像
>
> 使い方によって異なる。内積としては Limit、処理パイプラインとしては Functor。

---

## Q5: `>>` (射) と `>*` (射的融合) の圏論的区別

### CCL での定義

```
>>  = 「Aを構造的にBに変換してくれ」 → 変換 (X-series morphism)
>*  = 「AをBの視点で変容させてくれ」 → 変容 (射的融合)
```

結合度: `>> < >*` — `>*` は `>>` より強い結合。

### 圏論での対応

| CCL | 圏論 | 具体的操作 |
|:----|:-----|:----------|
| `>>` | **射** (morphism) | A が B に変わる。A の構造は消え、B の構造になる |
| `>*` | **自然変換** or **Pullback** | A は A のまま、B の「レンズ」を通して変容する |

**核心的区別**:

```ccl
/noe >> /met    # Noēsis → Metron: 「認識」が「尺度」に変わる
                # 出力は S1 型（尺度化された結論）

/noe >* /met    # Noēsis を Metron の視点で変容:
                # 出力は O1 型（認識のまま）だが、尺度的な構造を帯びる
```

| 比較 | `>>` (射) | `>*` (射的融合) |
|:-----|:---------|:--------------|
| 出力型 | ターゲット型 (B) | ソース型 (A) |
| 構造 | A が消え B になる | A のまま B に色づく |
| 圏論 | f: A → B | A の上の B-加群 構造? |

### 圏論的に最も近い概念

`>*` に最も近いのは **enrichment（豊穣化）** または **algebra over a monad**:

- A を B の文脈で見る = A に B の構造を載せる
- モナド T で言えば: A is a T-algebra = A が T の視点で「動ける」
- あるいは: pullback の直感。A × B (共通の下部構造上) の限定

> **判定**: `>>` = 圏の射 (morphism)。`>*` = 厳密な圏論的定義が不在。最も近い候補は:
>
> 1. **Enrichment**: A に B の構造を載せる
> 2. **Weighted limit**: A を B の重みで制約する
> 3. **Day convolution**: 二つの関手の融合積
>
> 現時点では `>*` は CCL 独自の演算であり、既存の圏論概念への正確なマッピングは**未完**。これは Kalon の課題として正当。

---

## 総合判定

| # | 問い | 結果 | 深刻度 |
|:--|:-----|:-----|:-------|
| Q1 | 恒等射 | 24個。深さゼロの実行。定義可能 | 🟢 **解決** |
| Q2 | 結合律 | 構文レベルでは成立。意味レベルは開放的 | 🟡 **半解決** |
| Q3 | Equalizer/Pullback | Equalizer は自明。Pullback は Q2 に帰着 | 🟡 **半解決** |
| Q4 | Hub WF = 関手？ | Limit の方が正確。関手との二重性あり | 🟠 **要修正** |
| Q5 | >> vs >* | >> = 射。>* = CCL 固有、圏論への正確なマッピング未完 | 🟠 **開放的** |

### 最大の発見

**Q4: Hub WF は関手ではなく Limit 演算。** taxis.md の表が同時に「関手」と「Limit」を割り当てているのは、二重の性質を認識しているからかもしれないが、区別を明確にすべき:

```
/o  (slash = 内積演算としての Hub) = Limit
/o  (ワークフローとしての Hub)     = Functor の候補
\o  (反転 = 外積演算)             = Colimit
```

---

*Open Questions Analysis v1.0*
*Project Kalon — 2026-02-07*
