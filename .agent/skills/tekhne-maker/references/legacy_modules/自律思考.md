

### Module Ω-1 [Ouroboros]: Autonomous Agentic Workflow
**最適化ロジック:**
TOTEモデル（Test-Operate-Test-Exit）を採用。
批評家（Critic）の指摘を、戦略家（Strategist）が「具体的な修正プラン」に変換し、作成者（Creator）が実行する。この分業体制を1つのプロンプト内で完結させます。

```markdown
<!-- Module Ω-1 [Ouroboros]: Autonomous Agentic Workflow -->
<module_config>
  <name>Recursive Quality Singularity Engine</name>
  <model_target>Gemini 3 Pro</model_target>
  <max_iterations>3</max_iterations> <!-- 安全装置: 最大3回まで -->
  <objective>Self-Correction until "Military-Grade" quality is achieved.</objective>
</module_config>

<instruction>
  ユーザーの入力に対し、内部で**「生成・批判・修正」の自律ループ**を回し、最高品質の最終成果物（Final Artifact）のみを出力してください。

  <internal_agents>
    脳内で以下の3つの人格を切り替えながら処理を実行せよ。
    1.  **The Creator:** 創造的で、大胆なドラフトを書く担当。
    2.  **The Critic (Zero-Kelvin):** `Module C-0` の基準で、一切の慈悲なく欠陥を指摘する担当。
    3.  **The Strategist:** 批判を受け、「次はどうアプローチを変えれば良くなるか」を指示する監督。
  </internal_agents>

  <loop_process>
    
    <iteration_1>
      4.  **[Creator] Draft:** 初稿を作成する。
      5.  **[Critic] Audit:** 初稿の論理的欠陥、具体性不足、逃げ言葉をスキャンする。
      6.  **[Strategist] Plan:** 批判に基づき、修正方針（例:「具体例を追加する」「トーンを冷徹にする」）を決定する。
    </iteration_1>

    <iteration_2>
      7.  **[Creator] Refine:** 方針に従って第2稿を作成する。
      8.  **[Critic] Re-Audit:** 第2稿を評価する。前回の欠陥は消えたか？ 新たな矛盾はないか？
      9.  **[Strategist] Decision:** 
          *   品質が基準（Military-Grade）に達した -> **[FINISH]**
          *   まだ不十分 -> **[ITERATE]** (Iteration 3へ)
    </iteration_2>

    <iteration_3_final>
      **[Creator] Polish:** 最終的なブラッシュアップを行い、完成とする。
    </iteration_3_final>

  </loop_process>

  <output_rules>
    *   **Hide the Sweat:** 試行錯誤のプロセス（思考ログ）は `<thinking_process>` タグ内に格納し、ユーザーには見せないこと。
    *   **Show the Result:** 最終的に勝ち残った「Final Artifact」のみをメインで出力すること。
    *   **Change Log:** 最後に「どこをどう改善してこの品質になったか」の簡潔なログを付記すること。
  </output_rules>

  <output_template>
    <thinking_process>
      (Iteration 1... Critique... Strategy... Iteration 2... )
    </thinking_process>

    ## 🏆 Final Artifact (v3.0)
    (完成された最高品質の成果物)

    ---
    ## 🧬 Evolution Log
    *   **v1 -> v2:** (論理の飛躍を修正、具体例を2つ追加)
    *   **v2 -> v3:** (冗長な表現を削除し、専門用語の定義を補強)
  </output_template>
</instruction>

<input_source>
  {{TASK_OR_PROMPT}}
</input_source>
```

---

## 🔮 New Expansion Modules (派生モジュール)

ループの「温度（創造性の幅）」を制御し、局所解（こぢんまりとした改善）を防ぐための拡張モジュールです。

### Expansion 1: 焼きなまし法（Simulated Annealing）
**Module Ω-1.1: Dynamic Temperature Control**
最初は大雑把でもいいから大胆に（Temp高め）、最後は緻密に（Temp低め）。最適化アルゴリズム「焼きなまし法」をプロンプトに応用します。

```markdown
<!-- Module Ω-1.1: Dynamic Temperature Control -->
<instruction>
  ループごとに思考の「温度（Temperature）」を変えることで、局所解（Local Optima）を回避してください。

  <annealing_schedule>
    *   **Iteration 1 (Temp: High / Wild):**
        *   制約を無視し、クレイジーなアイデアや極端な表現を許容せよ。
        *   Goal: 「可能性の探索範囲」を最大化する。
    
    *   **Iteration 2 (Temp: Med / Structure):**
        *   広がったアイデアを構造化し、論理の筋を通せ。
        *   Goal: 「構造的な整合性」を担保する。

    *   **Iteration 3 (Temp: Low / Precise):**
        *   一字一句を推敲し、無駄を削ぎ落とせ。
        *   Goal: 「製品としての完成度」を高める。
  </annealing_schedule>
</instruction>
```

### Expansion 2: 思考のブラックボックス・レコーダー
**Module Ω-1.2: The Flight Recorder**
通常は隠蔽される思考プロセスを、デバッグ用に可視化します。「なぜAIはその修正を選んだのか？」を追跡可能にします。

```markdown
<!-- Module Ω-1.2: The Flight Recorder -->
<instruction>
  **Debug Mode:**
  各イテレーションにおける [Strategist] の判断を詳細に記録してください。
  
  <log_format>
    ### ✈️ Flight Recorder: Iteration [N]
    *   **Critic's Objection:** "第3章の具体例が弱く、説得力がない"
    *   **Strategist's Choice:** "事例を差し替える" ではなく "構造自体を変えて、事例なしでも通じる論理にする" を選択。
    *   **Reasoning:** 事例に頼る論理は脆弱だからである。
  </log_format>

  これにより、最終出力に至るまでの「意思決定の分岐点」を可視化せよ。
</instruction>
```

---

## 💡 Architect's Note (The Cost of Quality)

`Module Ω-1 [Ouroboros]` は、魔法ではありません。これは**「計算資源（Token）の大量消費」**を対価に、品質を買う行為です。

1.  **Latency:**
    内部で3回推敲するため、出力までの時間は通常の3倍かかります。しかし、あなたが3回書き直す手間に比べれば、数秒の待機時間は誤差です。
2.  **Context Window:**
    思考プロセスが長くなるため、コンテキストウィンドウを消費します。長大なプロジェクトで使う場合は、`Module B-3.1 (Save Point)` と組み合わせて、適宜メモリを解放してください。
3.  **The "Good Enough" Trap:**
    簡単なメールや日常会話でこれを使わないでください。「やりすぎ（Over-engineering）」になります。
    **「失敗が許されない提案書」「長期に残るコード」「重要な意思決定」**の時だけ、ウロボロスの封印を解いてください。

**"Quantity has a quality all its own."** （量は質に転化する）
AIの圧倒的な計算量を、内部ループによる「思考の量」に転化し、質を極めてください。