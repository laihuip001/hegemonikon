# Hegemonikón Tools Registry
# 利用可能な機構の一元管理ファイル
# /boot で自動読み込みされ、セッション開始時にリマインドされる

version: "1.0.0"
updated: "2026-01-24"

# =============================================================================
# MCP Servers
# =============================================================================
mcp:
  gnosis:
    path: mcp/gnosis_mcp_server.py
    description: "Gnōsis知識ベース + モデル推奨"
    tools:
      - name: search
        description: "論文検索（ベクトル類似度）"
        usage: "@mcp:gnosis で「query」を検索して"
      - name: stats
        description: "知識ベース統計情報"
        usage: "@mcp:gnosis で stats を実行"
      - name: recommend_model
        description: "タスクからモデル推奨（T2 Krisis）"
        usage: "@mcp:gnosis で recommend_model「タスク説明」"

# =============================================================================
# CLI Scripts
# =============================================================================
scripts:
  chat-history-sync:
    path: mekhane/peira/scripts/chat-history-kb.py
    command: "python {path} sync --report"
    description: "チャット履歴を LanceDB に同期"
    purpose: "セッション間の情報共有"
    workflow: "/hist"
    
  gnosis-cli:
    path: mekhane/anamnesis/cli.py
    commands:
      - "search \"query\"  # 論文検索"
      - "stats            # 統計情報"
      - "collect -s arxiv # arXiv収集"
    description: "Gnōsis知識ベースCLI"
    
  gnosis-auto-collect:
    path: .agent/scripts/gnosis-auto-collect.ps1
    command: "& \"{path}\""
    description: "Gnōsis自動収集（ローテーション）"
    purpose: "10トピックを順番に収集"
    workflow: "/boot Step 5"

# =============================================================================
# Workflows (quick reference)
# =============================================================================
workflows:
  boot:
    purpose: "セッション初期化、履歴同期、レビュー生成"
    modules: [T1, T8]
    
  hist:
    purpose: "チャット履歴を LanceDB に同期"
    modules: [T8]
    depends: [chat-history-sync]
    
  plan:
    purpose: "設計計画策定（コード前に必須）"
    modules: [T4, T3]
    includes: "Step 0.1 モデル適性チェック"
    
  ask:
    purpose: "パプ君への調査依頼書作成"
    modules: [T5]
    
  src:
    purpose: "Web検索実行（Perplexity API）"
    modules: [T5]
    
  think:
    purpose: "深い熟考（壁にぶつかった時）"
    modules: [T3, T7]
    
  rev:
    purpose: "レビュー生成"
    modules: [T7, T8]
    
  chk:
    purpose: "検証・批評（Synedrion評議会）"
    modules: [T7]

  axiom:
    purpose: "O/T/K/X 定理群統合分析"
    modules: [O1-O4, T1-T8, K1-K12, X-O, X-T, X-K]
    description: "問題を本質→様態→文脈→関係の順で多層分析"

  o:
    purpose: "O-series（純粋定理）"
    modules: [O1, O2, O3, O4]

  t:
    purpose: "T-series（拡張定理）"
    modules: [T1-T8]

  k:
    purpose: "K-series（文脈定理）"
    modules: [K1-K12]

  x:
    purpose: "X-series（関係層）"
    modules: [X-O, X-T, X-K]

# =============================================================================
# Key Directories
# =============================================================================
directories:
  mcp: "mcp/"
  skills: ".agent/skills/"
  workflows: ".agent/workflows/"
  rules: ".agent/rules/"
  mekhane: "mekhane/"
  kernel: "kernel/"

# =============================================================================
# Skills (manual reference)
# =============================================================================
skills:
  prompt-lang-generator:
    path: .agent/skills/utils/prompt-lang-generator/SKILL.md
    purpose: "Prompt-Lang v2.0 コード生成"
    trigger: "「Prompt-Lang でスキルを作成」「.prompt ファイルを作って」"
    templates:
      - templates/domain_templates/technical.yaml
      - templates/domain_templates/rag.yaml
      - templates/domain_templates/summarization.yaml
    status: production
    
  meta-prompt-generator:
    path: .agent/skills/utils/meta-prompt-generator/SKILL.md
    purpose: "汎用 SKILL.md 生成（アーキタイプ駆動）"
    trigger: "「〇〇用のスキルを作成」「このプロンプトを診断」"
    status: production
