# 予測誤差操作ツール — Limit Apex 定義 & Kalon 距離測定

> **参照元**: /noe (圏論), /bou (FEP), /zet (モナド) — 各 WF 固有の理論言語で使用
> **FEP 操作**: MQ = EFE の P(o|C) 確定 / SQ = VFE の D_KL 測定
> **臨床心理学的出典**: SFBT (de Shazer & Berg) のミラクル・クエスチョン & スケーリング・クエスチョン
> **HGK**: 建設的認知原則 (C-1, C-3) の操作的実装

---

## ミラクル・クエスチョン (MQ)

> **タイミング**: WF 冒頭 (Phase 0 の直後、Phase 1 の前)
> **目的**: 成功状態を具体的にイメージさせ、探索の方向を明確化する

### WF 別の問い — 固有理論言語との対応

| WF | MQ の問い | 消化後の名称 | 圏論/FEP/モナド的意味 |
|:---|:---------|:-----------|:-------------------|
| **/noe** (認識) | 「この本質が完全に見えた朝、世界はどう違って見えるか？」 | **Limit Apex 先行定義** | lim D の apex を事前に描く |
| **/bou** (意志) | 「望む状態が完全に実現した朝、何が違うか？」 | **P(o\|C) 具体化** | EFE の preferred outcome を鮮明化 |
| **/zet** (探求) | 「正しい問いが見つかった朝、何が変わるか？」 | **T の到達型定義** | η の射先を事前宣言 |

### 実行手順

1. Phase 0 完了後、MQ を提示する
2. 回答を**具体的に**描かせる (抽象回答は再質問)
3. 回答を以降の Phase のゴール指標として使用する

---

## スケーリング・クエスチョン (SQ)

> **タイミング**: WF 中間チェック + 終了時
> **目的**: 進捗を定量化し、次の一歩を具体化する

### 問いの構造

```
「0-10のスケールで、{WF の目標} にどれだけ近いですか？
 今が N だとして、N+1 にするには何が必要ですか？」
```

### WF 別の問い

| WF | SQ の問い | 消化後の名称 | 圏論/FEP/モナド的意味 |
|:---|:---------|:-----------|:-------------------|
| **/noe** (認識) | 「0-10で本質にどれだけ近いか？ +1には？」 | **Kalon 距離測定** | d(結論, lim D) の測定 |
| **/bou** (意志) | 「0-10で目的にどれだけ近いか？ +1には？」 | **VFE 外在化** | D_KL[Q(s)\|\|P(s\|o)] の言語化 |
| **/zet** (探求) | 「0-10で問いの質はどこにあるか？ +1には？」 | **Kleisli 射の評価** | f: X → T(Y) の精度測定 |

### 実行タイミング

| タイミング | 発動条件 | 目的 |
|:---------|:---------|:-----|
| **中間** | Phase 2 完了後 | 方向修正の機会 |
| **終了** | 最終 Phase 完了後 | 成果の定量評価 + 次の一歩 |

### SQ の効果

- **「+1」の問い**が建設的認知 C-1 (可能性の探索) を自然に発動させる
- 全体の成功/失敗ではなく、**差分**に注目させる = わらしべ長者の論理
- 0 でも「0→1 にするには？」と問えば**行動が生まれる**

---

## FEP 理論的根拠 — MQ/SQ は予測誤差の操作的定義

> **洞察 (Creator, 2026-02-18)**:
> MQ も SQ も究極的には「逆算」—— 予測誤差の測定方法である。
> バックキャストは類推と同じく普遍的な認知活動。

### MQ = EFE、SQ = VFE

| SFBT | 操作 | FEP 対応 | 数学 |
|:-----|:-----|:---------|:-----|
| **MQ** | 望む未来の知覚状態を具体化 | **EFE** (Expected Free Energy) | G(π) の P(o\|C) を鮮明にする |
| **SQ** | 現在と目標の距離を外在化 | **VFE** (Variational Free Energy) | D_KL[Q(s)\|\|P(s\|o)] を測定する |

### なぜ「逆算」が普遍的か

FEP における行動選択は**常にバックキャスト**:

```
1. 望む状態 P(o|C) を定義する    ← MQ
2. 現在の状態 Q(s) を推定する     ← SQ の「今は N」
3. 差分 ε = P - Q を計算する      ← SQ の「+1には？」
4. ε を最小化する行動 π を選択する ← 次のアクション
```

これはアクティブ・インファレンスの定義そのもの:
> "Agent selects actions to minimize expected free energy —
> actions that bring observations closer to preferred outcomes."

### 構造的同型のパターン

| 経験的発見 | FEP 対応 | HGK での証明箇所 |
|:---------|:---------|:--------------|
| ニーバーの祈り | Function 公理 | kernel/constructive_cognition.md |
| 認知歪み (CBT) | 近似推論の系統的誤差 | kernel/cognitive_distortion_universality.md |
| **MQ (SFBT)** | **EFE の P(o\|C) 確定** | **本モジュール** |
| **SQ (SFBT)** | **VFE の D_KL 測定** | **本モジュール** |

> SFBT は「FEP の認知的操作を日常言語で実装した技法」である。

---

## 出力フォーマット

### MQ 出力

```markdown
🔮 ミラクル・クエスチョン
Q: {WF 別の問い}
A: {Creator の回答 or 自己回答}
→ ゴール指標: {具体的な成功イメージ}
```

### SQ 出力

```markdown
📏 スケーリング・クエスチョン
  現在: {N}/10
  +1 に必要なこと: {具体的な次の一歩}
  MQ との距離: {ゴール指標との差分}
```

---

*v0.1 — 初版。/noe, /bou, /zet 共通サブモジュール。臨床心理学統合 Phase 1 (2026-02-18)*
