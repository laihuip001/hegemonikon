---
description: セッション終了時に引き継ぎドキュメントを生成する。次回セッションの/bootで読み込まれる。
hegemonikon: Anamnēsis-H
modules: [T8]
---

# /bye ワークフロー

> **Hegemonikón T-series**: T8 Anamnēsis（記憶・引き継ぎ）
> **/bootの対となるセッション終了コマンド**

---

## 本質

- `/boot` = セッション開始、文脈の読み込み
- `/bye` = セッション終了、文脈の保存

---

## 発動条件

| トリガー | 説明 |
|----------|------|
| `/bye` | 手動でセッション終了・引き継ぎ生成 |
| 自動発動 | （将来実装）長時間無操作時 |

---

## Process

// turbo-all

### Step 1: Git状態取得

```powershell
git -C "m:\Hegemonikon" log -1 --oneline
git -C "m:\Hegemonikon" status --short
```

### Step 2: セッション情報収集

以下を自動収集:

- 今日のAntigravityセッションのtask.md
- 完了したタスク（[x]マーク）
- 未完了タスク（[ ]マーク）
- 決定事項（会話から抽出）

### Step 3: Handoff生成

Prompt-Lang定義（`session-handoff.prompt`）に基づきHandoffドキュメントを生成。

出力先: `M:\Brain\.hegemonikon\sessions\handoff_{YYYY-MM-DD}_{HHMM}.md`

### Step 3.5: チャット履歴エクスポート

現在のセッションのチャット履歴を Markdown にエクスポート。

```powershell
python M:\Hegemonikon\mekhane\anamnesis\export_chats.py --single "Session_$(Get-Date -Format 'yyyyMMdd_HHmm')"
```

出力先: `M:\Brain\.hegemonikon\sessions\{date}_conv_{title}.md`

> **注意**: Antigravity が `--remote-debugging-port=9222` で起動している必要あり

### Step 4: 確認

生成されたHandoffを表示し、ユーザーに確認を求める。

---

## 出力形式

```markdown
# 🔄 Session Handoff (YYYY-MM-DD HH:MM)

## 完了タスク
- [x] タスク1
- [x] タスク2

## 未完了・継続タスク
- [ ] タスク3（優先度: P1）

## 決定事項
| 項目 | 決定内容 | 根拠 |
|------|----------|------|
| ... | ... | ... |

## 未決定・要確認
- 質問1

## Git状態
- 最新コミット: `{hash}` {message}
- 未コミット変更: あり/なし

## 次回セッションへの提案
1. 最初にやるべきこと
2. 検討すべきこと

---
*Generated by Hegemonikón T8 Anamnēsis*
```

---

## /boot との連携

1. `/bye` で生成されたHandoffは `M:\Brain\.hegemonikon\sessions\` に保存
2. 次回 `/boot` 実行時、最新のHandoffを自動読み込み
3. 「前回の続きから」スムーズに開始可能

---

## Hegemonikon Status

| Module | Workflow | Status |
|--------|----------|--------|
| T8 | /bye | Ready |
