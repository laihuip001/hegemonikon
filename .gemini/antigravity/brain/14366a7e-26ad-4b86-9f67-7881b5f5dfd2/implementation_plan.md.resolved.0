# Implementation Plan: Prompt Engineering Literacy Skill + Feedback Mechanism

> **Session**: 2026-01-30 11:34 JST
> **Mode**: CLL/mek+ 運用
> **Goal**: プロンプトエンジニアリングの教養を教える Skill を追加し、チャット履歴からの改善フィードバック機構を実装

---

## Background & Context

CLL/mek+ の運用前提に基づき、以下のニーズに対応する:

1. **教養教育（言葉遣い・推奨フレーズ）** — 「◯◯を教えて」vs「◯◯を考えて」の違いと作用機序を含む
2. **フィードバック機構** — AIチャット履歴を解析し、改善すべき表現と取り入れるべき技法を提案

---

## User Review Required

> [!IMPORTANT]
> **配置決定**: この Skill を Akribeia Series（精度系）に配置することを提案します。
> - 根拠: プロンプト表現の「精度」を高めるという性質が A1-A4 系と一致
> - 代替案: Schema Series（S2 Mekhanē 派生）への配置も検討可能
>
> **命名**: `a5-lexis` (Λέξις = 言葉遣い、表現) または `prompt-literacy` を提案
>
> これでよろしいですか？

> [!NOTE]
> **既存との関係**:
> - A2 Krisis: 検証・判定 → この Skill は「表現の検証」として A2 と連携可能
> - A3 Gnōmē: 原則抽出 → この Skill は「表現の原則」を教える

---

## Proposed Changes

### Akribeia Series (精度系)

---

#### [NEW] prompt-literacy/SKILL.md

**Path**: `.agent/skills/akribeia/prompt-literacy/SKILL.md`

**仕様概要**:

| 項目 | 内容 |
|:-----|:-----|
| **ID** | A5-Lexis（仮） |
| **Greek** | Λέξις (表現、言葉遣い) |
| **Purpose** | プロンプト表現の教養を教える。指示の違いが出力にどう作用するかを解説 |
| **Derivatives** | `dict` (辞書参照), `mech` (作用機序解説), `feed` (フィードバック解析) |
| **Triggers** | 「言葉遣い」「プロンプトの書き方」「表現の違い」「教えてvs考えて」 |

**3派生モード**:

| 派生 | 意味 | 出力 |
|:-----|:-----|:-----|
| **dict** (Dictionary) | 表現辞書参照 | 推奨表現・避けるべき表現の一覧 |
| **mech** (Mechanism) | 作用機序解説 | 「なぜそう書くとそう出力されるか」の因果解説 |
| **feed** (Feedback) | 履歴解析 | チャット履歴から改善点・技法提案を抽出 |

---

### 仕様詳細

#### A. 解説フォーマット（作用機序込み）

「◯◯を教えて」vs「◯◯を考えて」の例:

```markdown
## 📚 表現比較: 「教えて」vs「考えて」

### 意図差

| 表現 | 意図 | 期待出力 |
|:-----|:-----|:---------|
| 「◯◯を教えて」 | 既知情報の**取得** | 事実ベースの回答、訓練データからの抽出 |
| 「◯◯を考えて」 | 新規情報の**生成** | 推論・分析ベースの回答、思考過程の展開 |

### 出力の違い（具体例）

| 入力 | 教えて 出力 | 考えて 出力 |
|:-----|:-----------|:-----------|
| 「日本の首都」 | 「東京です」 | 「首都の定義から考えると...」 |
| 「良い設計とは」 | 「一般的に...という原則があります」 | 「あなたの文脈では...を検討すべき」 |

### 作用機序（なぜ差が生じるか）

1. **Retrieval Mode vs Generation Mode**
   - 「教えて」→ 訓練データからの情報検索を優先
   - 「考えて」→ 推論・Chain-of-Thought の発動を促進

2. **Token Probability Shift**
   - 「教えて」→ 高確信の事実トークンが優先
   - 「考えて」→ 分析・比較・仮説のトークンチェーンが発動

3. **Output Structure**
   - 「教えて」→ 簡潔・結論先行（情報伝達型）
   - 「考えて」→ 過程展開・多角的（思考展開型）

### 使い分けの指針

| 状況 | 推奨表現 | 理由 |
|:-----|:---------|:-----|
| 事実を知りたい | 「◯◯を教えて」 | 効率的な情報取得 |
| 分析してほしい | 「◯◯を考えて」 | 思考過程の展開 |
| 提案がほしい | 「◯◯を提案して」 | 創造的出力の促進 |
| 検証してほしい | 「◯◯を検証して」 | 批判的思考の発動 |
```

---

#### B. フィードバック機構の出力形式

**入力**: チャット履歴（Antigravity brain/ ディレクトリ内のログ）

**出力**:

```markdown
# 🔍 Prompt Literacy Feedback Report

## 解析対象
- セッション数: N
- 分析対象ターン: M
- 期間: YYYY-MM-DD ～ YYYY-MM-DD

---

## 1. 改善すべき表現

| # | 現在の表現 | 問題 | 改善案 | 理由 |
|:--|:-----------|:-----|:-------|:-----|
| 1 | 「適切に処理して」 | 曖昧指示 | 「Xの条件でYを返す処理を実装して」 | 具体性が出力精度に直結 |
| 2 | 「良い感じに」 | 主観依存 | 「Aの観点でBを優先して」 | 評価軸の明示化 |
| 3 | 「できれば〜」 | 弱い指示 | 「必ず〜すること」 | 制約の明確化 |

---

## 2. 取り入れるべき技法

| 技法 | 説明 | 適用例 | 効果 |
|:-----|:-----|:-------|:-----|
| **構造化指示** | 番号リスト・表で指示 | `1. X 2. Y 3. Z` | 抜け漏れ防止 |
| **ロール設定** | 専門家として振る舞わせる | 「〇〇の専門家として」 | 出力の専門性向上 |
| **出力形式指定** | 形式を事前定義 | 「JSON形式で出力」 | 後処理の容易化 |
| **思考過程可視化** | ステップを展開させる | 「ステップバイステップで」 | 論理的一貫性向上 |

---

## 3. CCL/mek+ 技法マッピング

| 技法 | 対応CCL演算子/マクロ | 使用例 |
|:-----|:---------------------|:-------|
| 深掘り | `+` (Deepening) | `/noe+` |
| メタ分析 | `^` (Ascension) | `/dia^` |
| 段階実行 | `_` (Sequence) | `/s _/ene` |
| 融合思考 | `*` (Fusion) | `/bou*zet` |

---

## 4. 優先改善アクション

> 回答品質への影響度順

1. **[HIGH]** 曖昧指示 → 具体化（事例3件）
2. **[MEDIUM]** 構造化技法の導入（事例5件）
3. **[LOW]** ロール設定の追加（事例2件）
```

---

### ワークフローとの連携

---

#### [MODIFY] workflows/mek.md

**追加するトリガー**: `/mek lit` または `/mek lexis`

```text
/mek lit \"履歴を分析して改善点を教えて\"
→ A5-Lexis の feed 派生が発動
→ フィードバックレポートを生成
```

---

## Proposed Architecture

```mermaid
graph TD
    subgraph "A5-Lexis Skill"
        DICT[dict: 表現辞書]
        MECH[mech: 作用機序]
        FEED[feed: 履歴解析]
    end
    
    subgraph "入力"
        Q1[言葉遣いの質問]
        Q2[作用機序の質問]
        H1[チャット履歴]
    end
    
    subgraph "出力"
        O1[推奨表現リスト]
        O2[作用機序解説]
        O3[改善フィードバック]
    end
    
    Q1 --> DICT --> O1
    Q2 --> MECH --> O2
    H1 --> FEED --> O3
    
    A2[A2 Krisis] -.->|検証連携| FEED
    S2[S2 Mekhanē] -.->|生成連携| MECH
```

---

## Verification Plan

### Automated Tests

このSkillはドキュメンテーション/知識提供が主目的のため、自動テストは限定的。

**形式検証**:

```bash
# SKILL.md のフロントマターが正しい形式であることを確認
grep -E '^---$' .agent/skills/akribeia/prompt-literacy/SKILL.md | wc -l
# 期待値: 2 (開始と終了)
```

---

### Manual Verification

1. **表現辞書モード (dict)**: 「教えてと考えての違いを教えて」と入力し、Skill が正しく発動するか確認
2. **作用機序モード (mech)**: 「教えてと考えてで出力がどう変わるか、そのメカニズムを教えて」と入力し、因果解説が得られるか確認
3. **フィードバックモード (feed)**: チャット履歴を入力として、改善点と技法提案が出力されるか確認

---

## Success Criteria

| 基準 | 達成条件 |
|:-----|:---------|
| Skill 仕様完成 | SKILL.md が既存 A2/A3 と同等の構造を持つ |
| 解説フォーマット | 作用機序込みの比較解説が出力可能 |
| フィードバック機構 | 履歴入力から改善案を抽出可能 |
| CLL 統合 | `/mek lit` でトリガー可能 |

---

*Generated by Hegemonikón PLANNING mode @ 2026-01-30*
