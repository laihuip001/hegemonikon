# sophia_backlinker ã‚°ãƒ©ãƒ•ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½è¿½åŠ 

## ç›®çš„

sophia_backlinker.py ã« Mermaid/JSON ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½ã‚’è¿½åŠ ã—ã€çŸ¥è­˜ã‚°ãƒ©ãƒ•ã‚’å¯è¦–åŒ–å¯èƒ½ã«ã™ã‚‹ã€‚

---

## STAGE 0: Blindspot + Scale

| ã‚«ãƒ†ã‚´ãƒª | ç›²ç‚¹ | è§£æ±º |
|:---------|:-----|:-----|
| Framing | âœ… æ˜ç¢º | ã‚°ãƒ©ãƒ•å¯è¦–åŒ–ã®ç¬¬ä¸€æ­© |
| Scope | âœ… é©åˆ‡ | 2ãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ ã®ã¿ |
| Dependencies | âœ… ãªã— | æ—¢å­˜ NetworkX ã®ã¿ä½¿ç”¨ |

**ğŸ“ Scale: ğŸ”¬ Micro** â€” å˜ä¸€ãƒ•ã‚¡ã‚¤ãƒ«ã€2ãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ 

---

## STAGE 1: Strategy

- **Explore/Exploit**: Exploit (æ—¢å­˜ãƒ‘ã‚¿ãƒ¼ãƒ³æ´»ç”¨)
- **é¸æŠ**: Plan A (Conservative) â€” æœ€å°é™ã®å¤‰æ›´

---

## STAGE 2: Success Criteria

| è»¸ | Must | Should |
|:---|:-----|:-------|
| æ©Ÿèƒ½ | `to_mermaid()` ãŒ Mermaid æ§‹æ–‡ã‚’è¿”ã™ | `--mermaid` CLI ã‚ªãƒ—ã‚·ãƒ§ãƒ³ |
| å“è³ª | ç©ºã‚°ãƒ©ãƒ•ã§ã‚¨ãƒ©ãƒ¼ãªã— | ãƒãƒ¼ãƒ‰åã®ã‚¨ã‚¹ã‚±ãƒ¼ãƒ— |

---

## STAGE 3: Blueprint

### è¿½åŠ ãƒ¡ã‚½ãƒƒãƒ‰

```python
def to_mermaid(self, direction: str = "LR") -> str:
    """Mermaid.js å½¢å¼ã§ã‚°ãƒ©ãƒ•ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ"""
    lines = [f"graph {direction}"]
    for src, dst in self.graph.edges():
        # ãƒãƒ¼ãƒ‰åã®ã‚µãƒ‹ã‚¿ã‚¤ã‚º (ç‰¹æ®Šæ–‡å­—å¯¾å¿œ)
        safe_src = src.replace("-", "_").replace(" ", "_")
        safe_dst = dst.replace("-", "_").replace(" ", "_")
        lines.append(f"    {safe_src} --> {safe_dst}")
    return "\n".join(lines)

def to_json_for_d3(self) -> dict:
    """D3.js force-directed ç”¨ JSON"""
    return {
        "nodes": [{"id": n} for n in self.graph.nodes()],
        "links": [{"source": s, "target": t} for s, t in self.graph.edges()]
    }
```

### CLI ã‚ªãƒ—ã‚·ãƒ§ãƒ³è¿½åŠ 

```python
parser.add_argument("--mermaid", action="store_true", help="Output Mermaid diagram")
parser.add_argument("--json", action="store_true", help="Output D3.js JSON")
```

---

## STAGE 4: Devil's Advocate

| è¦–ç‚¹ | çµæœ |
|:-----|:-----|
| Feasibility | âœ… PASS |
| Necessity | âœ… PASS â€” Perplexityèª¿æŸ»ã§ Priority 2 |
| Risks | âœ… PASS â€” è¿½åŠ ã®ã¿ã€æ—¢å­˜æ©Ÿèƒ½ã«å½±éŸ¿ãªã— |

---

## æ¤œè¨¼è¨ˆç”»

1. `python sophia_backlinker.py --mermaid` ã§ Mermaid å‡ºåŠ›ç¢ºèª
2. Mermaid Live Editor ã§å¯è¦–åŒ–ç¢ºèª
