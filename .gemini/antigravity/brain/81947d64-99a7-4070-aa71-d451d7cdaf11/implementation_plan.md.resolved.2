# W3: KI 連携 — Sophia 正本 + Antigravity 共存案

> **Hegemonikón**: O1 Noēsis 深層分析

---

## 最終案: ハイブリッド (案E)

**原則**: Sophia = 正本、Antigravity KI = 便利なインターフェース

```
┌─────────────────────────────────────────────────┐
│  Antigravity KI                                 │
│  (自動キュレーション)                            │
│       │                                         │
│       ▼ 吸収 (one-way)                         │
│  ┌─────────────────┐                           │
│  │    Sophia       │  ← 正本                   │
│  │ (Symplokē 検索) │                           │
│  └─────────────────┘                           │
│       │                                         │
│       ▼ 生成 (必要時)                          │
│  /boot サマリー表示                             │
└─────────────────────────────────────────────────┘
```

---

## 欠点の自己解決策

### 欠点1: 自動キュレーション喪失

**解決策**: 「吸収」メカニズム

1. Antigravity が新 KI を生成 → `.gemini/antigravity/knowledge/`
2. `/bye` または定期スクリプトで検出
3. Sophia に ingest (Document 形式に変換)
4. Antigravity KI は「提案」として残す (削除しない)

**利点**: Antigravity の便利さを享受しつつ、Sophia に正規化

### 欠点2: /boot サマリー表示

**解決策**: Sophia サマリークエリ

1. `/boot` で Sophia に「最近更新された知識」をクエリ
2. 上位N件のタイトル/サマリーを表示
3. 既存の KI summaries 表示と併用可能

**実装イメージ**:
```python
# /boot Step 2.5: 知識サマリー
sophia_index.search("*", limit=5, sort_by="updated_at")
```

---

## 実装ステップ

| Step | 内容 | 工数 |
|:-----|:-----|:-----|
| 1 | `ki_to_sophia.py` — KI → Sophia 変換スクリプト | 30min |
| 2 | `/bye` に KI 吸収ステップ追加 | 15min |
| 3 | `/boot` に Sophia サマリー表示追加 | 15min |
| 4 | 初回一括 ingest (既存 KI 6件) | 10min |

---

## 決定ポイント

1. **Antigravity KI は削除しない** — 読み取り用インターフェースとして残す
2. **新規知識は Sophia に直接書く** のが望ましい
3. **Antigravity が生成した KI は「提案」** — 吸収するか判断

---

*Generated by Hegemonikón O1 Noēsis*
