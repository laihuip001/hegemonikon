# Sophia Backlinker Phase 1 â€” Implementation Plan

> **/plan v3.0 å‡ºåŠ›**

---

## STAGE 0: Blindspot + Scale

```
[Hegemonikon] STAGE 0: Blindspot + Scale
  ğŸ” Blindspots Identified: 2
    - [x] Scope: æ—¢å­˜ KI ã« [[wikilink]] ãªã— â†’ æ–°ãƒ‘ã‚¿ãƒ¼ãƒ³å°å…¥
    - [x] Dependencies: NetworkX æœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« â†’ ç¢ºèªå¿…è¦
  ğŸ“ Scale: Meso (æ–°ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è¿½åŠ )
  ç†ç”±: Symploke å†…ã«æ–°ãƒ•ã‚¡ã‚¤ãƒ«è¿½åŠ ã€æ—¢å­˜æ©Ÿèƒ½ã¸ã®å½±éŸ¿ãªã—
```

---

## STAGE 1: Strategy Selection

```
[Hegemonikon] STAGE 1: Strategy Selection
  ğŸ“‚ Files Read: sophia_ingest.py, search_helper.py, sophia_mcp_server
  ğŸ“š KI Referenced: knowledge_curation_and_activation
  ğŸ” Concerns: å…¨è§£æ±º

  âš–ï¸ Explore/Exploit: Exploit (æ—¢å­˜ãƒ‘ã‚¿ãƒ¼ãƒ³è¸è¥²)
    å¤±æ•—ã‚³ã‚¹ãƒˆ: ä½
    ç’°å¢ƒç¢ºå®Ÿæ€§: é«˜ (Perplexity èª¿æŸ»æ¸ˆã¿)
    æ™‚é–“åˆ¶ç´„: ä»Šæ—¥ä¸­

  ğŸ“‹ Plans:
    A: Conservative â€” æ¤œå‡ºã®ã¿ã€è¡¨ç¤ºãªã—
    B: Robust â€” æ¤œå‡º + MCPçµ±åˆ â† æ¨å¥¨
    C: Aggressive â€” + Web UI ã‚°ãƒ©ãƒ•ãƒ“ãƒ¥ãƒ¼
```

**é¸æŠ**: Plan B (Robust)

---

## STAGE 2: Success Criteria

| è»¸ | Must | Should | Could |
|:---|:-----|:-------|:------|
| æ©Ÿèƒ½æ€§ | ãƒãƒƒã‚¯ãƒªãƒ³ã‚¯æ¤œå‡ºå‹•ä½œ | MCP ã‹ã‚‰æ¤œç´¢å¯èƒ½ | ã‚°ãƒ©ãƒ•å¯è¦–åŒ– |
| å“è³ª | 10 KI ã§ãƒ†ã‚¹ãƒˆé€šé | 100% ãƒªãƒ³ã‚¯æ¤œå‡º | æš—é»™çš„ãƒªãƒ³ã‚¯ |
| æ€§èƒ½ | < 1ç§’ åˆæœŸæ§‹ç¯‰ | O(1) æ¤œç´¢ | å·®åˆ†æ›´æ–° |

**å®Œäº†æ¡ä»¶**: Must ãŒå…¨ã¦æº€ãŸã•ã‚ŒãŸæ™‚ç‚¹

---

## STAGE 3: Blueprint

```
ğŸ¯ Goal Decomposition:
  æœ€çµ‚ç›®æ¨™: MCP ã‹ã‚‰ã€Œã“ã® KI ã‚’å‚ç…§ã—ã¦ã„ã‚‹ä»–ã® KIã€ã‚’æ¤œç´¢å¯èƒ½
    â† ãƒãƒƒã‚¯ãƒªãƒ³ã‚¯ã‚’ MCP stats/search ã«è¿½åŠ 
    â† NetworkX ã‚°ãƒ©ãƒ•æ§‹ç¯‰ + ã‚­ãƒ£ãƒƒã‚·ãƒ¥
    â† [[wikilink]] ãƒ‘ã‚¿ãƒ¼ãƒ³æŠ½å‡º
    â† ç¾åœ¨åœ°
```

### å¤‰æ›´å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«

| File | Action | æ¦‚è¦ |
|:-----|:-------|:-----|
| `sophia_backlinker.py` | [NEW] | NetworkX ã‚°ãƒ©ãƒ• + ãƒãƒƒã‚¯ãƒªãƒ³ã‚¯æ¤œå‡º |
| [sophia_mcp_server.py](file:///home/laihuip001/oikos/hegemonikon/mcp/sophia_mcp_server.py) | [MODIFY] | backlinks ãƒ„ãƒ¼ãƒ«è¿½åŠ  |
| `test_backlinker.py` | [NEW] | ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ |

### ä¾å­˜é–¢ä¿‚

- `networkx` (pip install networkx)

---

## STAGE 4: Devil's Advocate

```
[Hegemonikon] STAGE 4: Devil's Advocate
  ğŸ˜ˆ Adversarial Check:
    - Feasibility: PASS â€” NetworkX ã¯è»½é‡ã€å®Ÿè£…å˜ç´”
    - Necessity: PASS â€” ã‚°ãƒ©ãƒ•æ©Ÿèƒ½ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦æœ›
    - Alternatives: PASS â€” igraph ã‚‚å¯èƒ½ã ãŒ NetworkX ã§ååˆ†
    - Risks: PASS â€” æ—¢å­˜æ©Ÿèƒ½ã«å½±éŸ¿ãªã—
    - Dependencies: PASS â€” networkx ã®ã¿

  â˜ ï¸ Pre-mortem:
    1. [[wikilink]] æ§‹æ–‡ãŒæ—¢å­˜ KI ã«ãªã„ â†’ ä»Šå¾Œã® KI ã§ä½¿ç”¨é–‹å§‹
    2. å¤§é‡ãƒ•ã‚¡ã‚¤ãƒ«æ™‚ã®æ€§èƒ½ â†’ 10k ä»¥ä¸‹ãªã‚‰å•é¡Œãªã—

  âœ… All Checks Passed
```

---

## å®Ÿè£…è¨ˆç”»

### Step 1: `sophia_backlinker.py` ä½œæˆ

```python
class SophiaBacklinker:
    def __init__(self):
        self.graph = nx.DiGraph()
    
    def extract_links(self, content: str) -> Set[str]
    def build_graph(self, ki_dir: Path) -> None
    def get_backlinks(self, note_name: str) -> Set[str]
```

### Step 2: MCP çµ±åˆ

```python
# sophia_mcp_server.py ã«è¿½åŠ 
Tool(name="backlinks", ...)
```

### Step 3: ãƒ†ã‚¹ãƒˆ

```bash
python -m pytest mekhane/symploke/tests/test_backlinker.py
```

---

```
â”Œâ”€[HegemonikÃ³n]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ /plan v3.0 å®Œäº†                                        â”‚
â”‚                                                        â”‚
â”‚ STAGE 0: âœ… Blindspots [2] resolved, Scale: Meso       â”‚
â”‚ STAGE 1: âœ… Strategy: Exploit, Plan: B (Robust)        â”‚
â”‚ STAGE 2: âœ… Rubric: Must 3 / Should 2 / Could 2        â”‚
â”‚ STAGE 3: âœ… Blueprint: 3 files                         â”‚
â”‚ STAGE 4: âœ… Devil's Advocate: All PASS                 â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â¸ï¸ æ‰¿èªå¾…ã¡: è¨ˆç”»ã‚’æ‰¿èªã—ã¾ã™ã‹ï¼Ÿ (y)
```
