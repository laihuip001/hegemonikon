# 調査依頼書: Obsidian/Roam 知識グラフ実装パターン

## Step 0: 目的確認（必須）

> **この調査の結果、何を決定しますか？**
> → Sophia に知識グラフ機能を追加する際の実装アーキテクチャを決定する
>
> **仮説**: バックリンク検出は正規表現での `[[wikilink]]` パースが基本だが、
> ベクトル検索と組み合わせることで「暗黙的リンク」も発見できるのではないか

---

## 【出力形式】← Claude digest 最適化

```xml
<findings>
  <section name="バックリンク実装">
    <implementation>具体的な実装手法</implementation>
    <data_structure>使用データ構造</data_structure>
    <complexity>計算量・パフォーマンス特性</complexity>
  </section>
  <section name="グラフビュー">
    <algorithm>レイアウトアルゴリズム</algorithm>
    <scaling>大規模グラフでの対応</scaling>
  </section>
  <section name="ベクトル×グラフ融合">
    <state_of_art>最新手法（2024-2025）</state_of_art>
    <papers>関連論文</papers>
  </section>
  <recommendations>
    <item priority="1">最優先適用項目</item>
    <item priority="2">中期適用項目</item>
  </recommendations>
</findings>
```

---

## 【調査目的】

Hegemonikón の Sophia (知識ベース) に Obsidian 風のグラフビュー機能を追加したい。
既存のベクトル検索 (sentence-transformers) と組み合わせ、
明示的リンク + 暗黙的関連の両方を発見できるシステムを設計する。

---

## 【時間制約】

⚠️ **情報カットオフ**:
- **採用範囲**: 2024年1月〜2025年1月の情報を優先
- **歴史的参考**: 2023年以前は「参考」としてのみ言及可
- **最新優先**: 特に LLM + Knowledge Graph の融合手法は最新を重視

---

## 【質問】

### Q1: バックリンク検出

```
How does Obsidian implement bidirectional linking and backlink detection?
- What data structures are used for efficient graph traversal?
- How is the backlink index maintained incrementally?
- What is the performance with 10,000+ notes?
```

### Q2: グラフビューレンダリング

```
Obsidian graph view rendering implementation:
- What force-directed layout algorithms are used?
- How does it handle large graphs (performance optimizations)?
- What clustering/grouping strategies are applied?
```

### Q3: ベクトル検索 × ナレッジグラフ融合

```
State of the art 2024-2025: Combining vector similarity search with 
knowledge graphs for enhanced discoverability.
- Academic papers on hybrid retrieval (vector + graph)
- Production implementations (mem.ai, Notion AI, Reflect)
- Best practices for LLM integration
```

---

## 【調査対象の定義】

| 対象 | 定義 |
|:-----|:-----|
| Obsidian | v1.4+ (2024年版) |
| Roam Research | 最新版 |
| ベクトル検索 | sentence-transformers (all-MiniLM-L6-v2) |
| グラフDB | 軽量オプション（NetworkX, igraph, or in-memory） |

---

## 【成果物構成】

1. **結論サマリー**（10行以内）
2. **実装パターン比較テーブル**（列: 手法, 利点, 欠点, 実装難度, URL）
3. **Sophia への適用推奨**（優先度付き）
4. **根拠リンク**（GitHub, 論文, ブログ）

---

## 【調査ルール】

- **Chronotopic Precision**: 2024年以降の情報を優先
- **事実/推測分離**: 推測は「推測:」とラベル
- **根拠必須**: 各主張にソースURL

---

*Generated by /zet v3.0*
