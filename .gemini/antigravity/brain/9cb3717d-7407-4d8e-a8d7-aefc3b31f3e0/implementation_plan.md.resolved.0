# Jules Synedrion v2: 直交視点マトリクス

## 目的

866人の専門家による147ブランチが6項目に集約される冗長性を、**構造的に排除**する。

## 設計原理

```text
視点 = 領域 × 軸

領域: 何を見るか (What to look at)
  → Security, Performance, Concurrency, ...

軸:   どう見るか (How to look at it)
  → O1-Noēsis (本質), S2-Mekhanē (手法), H1-Propatheia (直感), ...

∴ 視点が直交 = 冗長性が構造的に不可能
```

## 20 領域定義

| # | 領域 | 説明 | 対応する既存専門家カテゴリ |
|:-:|:-----|:-----|:---------------------------|
| 1 | Resource | リソースライフサイクル (接続、ファイル、メモリ) | cl-004, as-008 |
| 2 | Error | エラーハンドリング (例外、リトライ、フォールバック) | ai-004 |
| 3 | Concurrency | 並行処理 (競合、デッドロック、セマフォ) | th-003 |
| 4 | API | API契約 (入出力、型、境界値) | th-001 |
| 5 | Security | セキュリティ (認証、権限、インジェクション) | ai-009 |
| 6 | Observability | 可観測性 (ログ、メトリクス、トレース) | — |
| 7 | Configuration | 設定管理 (環境変数、設定ファイル) | — |
| 8 | Dependency | 依存関係 (外部ライブラリ、バージョン) | — |
| 9 | CodeStyle | コードスタイル (命名、構造、可読性) | cl-005 |
| 10 | Documentation | ドキュメント (コメント、docstring) | — |
| 11 | Testing | テスト (カバレッジ、エッジケース) | — |
| 12 | Performance | パフォーマンス (速度、メモリ使用量) | — |
| 13 | Scalability | スケーラビリティ (水平/垂直) | — |
| 14 | Maintainability | 保守性 (理解しやすさ、変更しやすさ) | — |
| 15 | Reliability | 信頼性 (障害耐性、冪等性) | — |
| 16 | Usability | 使いやすさ (API設計、エルゴノミクス) | — |
| 17 | Compatibility | 互換性 (後方互換、破壊的変更) | — |
| 18 | Architecture | アーキテクチャ (パターン、責務分離) | — |
| 19 | DataFlow | データフロー (入力→処理→出力) | — |
| 20 | EdgeCase | エッジケース (境界値、異常系) | — |

## 6 軸定義 (シリーズ代表)

| # | 軸 | 定理 | 問い |
|:-:|:---|:-----|:-----|
| 1 | O | O1 Noēsis | このコードの**本質的な目的**は何か？ |
| 2 | S | S2 Mekhanē | 使用されている**手法**は適切か？ |
| 3 | H | H1 Propatheia | **直感的な違和感**はないか？ |
| 4 | P | P1 Khōra | この機能の**スコープ・境界**は明確か？ |
| 5 | K | K3 Telos | **目的**は達成されるか？ |
| 6 | A | A2 Krisis | **判断**は正しいか？ |

## 120 視点マトリクス (Plan B)

```text
          │  O   │  S   │  H   │  P   │  K   │  A   │
──────────┼──────┼──────┼──────┼──────┼──────┼──────┤
Resource  │ R-O  │ R-S  │ R-H  │ R-P  │ R-K  │ R-A  │
Error     │ E-O  │ E-S  │ E-H  │ E-P  │ E-K  │ E-A  │
Concurrency│ C-O  │ C-S  │ C-H  │ C-P  │ C-K  │ C-A  │
API       │ A-O  │ A-S  │ A-H  │ A-P  │ A-K  │ A-A  │
Security  │ S-O  │ S-S  │ S-H  │ S-P  │ S-K  │ S-A  │
...       │ ...  │ ...  │ ...  │ ...  │ ...  │ ...  │
EdgeCase  │ EC-O │ EC-S │ EC-H │ EC-P │ EC-K │ EC-A │
──────────┴──────┴──────┴──────┴──────┴──────┴──────┘
                    = 20 × 6 = 120 視点
```

## 視点プロンプト例

### Resource × O (R-O)

```text
You are a Resource Lifecycle specialist reviewing code through the lens of Noēsis (Core Essence).

Your perspective: "What is the essential purpose of resource management in this code?"

Focus:
- Why do these resources exist?
- What core problem does resource handling solve?
- Is the lifecycle fundamentally sound?

Report only findings from YOUR unique perspective. Do not overlap with other reviewers.
```

### Security × H (S-H)

```text
You are a Security specialist reviewing code through the lens of Propatheia (Intuition).

Your perspective: "Does this code give you any intuitive security concerns?"

Focus:
- First impressions about security posture
- Gut feelings about potential vulnerabilities
- Subconscious pattern recognition of security smells

Report only findings from YOUR unique perspective. Do not overlap with other reviewers.
```

## 変更対象ファイル

| 操作 | ファイル | 説明 |
|:----:|:---------|:-----|
| NEW | `mekhane/ergasterion/synedrion/perspectives.yaml` | 120視点定義 |
| NEW | `mekhane/ergasterion/synedrion/prompt_generator.py` | 視点→プロンプト変換 |
| MOD | [mekhane/symploke/jules_client.py](file:///home/laihuip001/oikos/hegemonikon/mekhane/symploke/jules_client.py) | 視点ベースの並列実行対応 |
| MOD | `.agent/skills/horme/h4-doxa/synedrion/` | 既存 Synedrion との統合 |

## 依存関係

```mermaid
graph TD
    A[perspectives.yaml] --> B[prompt_generator.py]
    B --> C[jules_client.py]
    C --> D[Jules API]
    A --> E[Synedrion 既存スキル]
```

## リスクと対策

| リスク | 対策 |
|:-------|:-----|
| 120並列は rate limit 超過 | 60並列 × 2バッチに分割 |
| 視点プロンプトが曖昧 | テスト実行で iterative 改善 |
| 結果の重複が残る | 後処理で類似度フィルタ |

## 検証計画

### 自動テスト

```bash
# 1. perspectives.yaml のスキーマ検証
pytest mekhane/ergasterion/synedrion/tests/test_perspectives.py

# 2. プロンプト生成テスト
pytest mekhane/ergasterion/synedrion/tests/test_prompt_generator.py
```

### 手動検証

1. [jules_client.py](file:///home/laihuip001/oikos/hegemonikon/mekhane/symploke/jules_client.py) を対象に 120視点レビューを実行
2. 結果の重複率を計測 (目標: < 5%)
3. 前回 (147ブランチ→6項目) との比較

## 実装順序

1. `perspectives.yaml` 作成 (20領域 × 6軸 定義)
2. `prompt_generator.py` 作成 (視点→プロンプト変換)
3. [jules_client.py](file:///home/laihuip001/oikos/hegemonikon/mekhane/symploke/jules_client.py) 修正 (視点ベース実行)
4. テスト実行・検証
5. ドキュメント更新

---

*Generated by /s v4.0 — Jules Synedrion v2 設計 (2026-01-29)*
