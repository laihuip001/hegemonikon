# /tak â€” ã‚¿ã‚¹ã‚¯ç®¡ç†æ©Ÿæ§‹ å®Ÿè£…è¨ˆç”»

> **CCL Signature**: `[TASK]/tak+`
> **HegemonikÃ³n å®šç†**: K2 Chronos (æ™‚é–“) Ã— O2 BoulÄ“sis (æ„å¿—) Ã— S3 Stathmos (åŸºæº–)
> **Version**: v1.0

---

## 1. å•é¡Œå®šç¾©

**å…¥åŠ›**: ã‚¿ã‚¹ã‚¯ã€TODOã€æ€ã„ã¤ãã®ã‚¢ã‚¤ãƒ‡ã‚¢ï¼ˆæ–­ç‰‡ãƒ»ç®‡æ¡æ›¸ããƒ»é›‘æ–‡ã‚’å«ã‚€ï¼‰

**å‡ºåŠ›**: 
- å„ªå…ˆé †ä½ / ç·Šæ€¥åº¦ã®åˆ†é¡
- éšå±¤æ§‹é€  (ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ â†’ ã‚¨ãƒ”ãƒƒã‚¯ â†’ ã‚¿ã‚¹ã‚¯)
- å®Ÿè¡Œé †åºã¨ä¾å­˜é–¢ä¿‚
- ä¸è¶³æƒ…å ±ã®ç‰¹å®šã¨åé›†ææ¡ˆ
- å·¥æ•°è¦‹ç©
- æœŸé™åˆ¥ Must/Should æç¤º

**æœŸé™åŒºåˆ†**:
| åŒºåˆ† | ã‚¿ã‚¤ãƒ ãƒœãƒƒã‚¯ã‚¹ | è‰²åˆ†ã‘ |
|:-----|:--------------|:-------|
| ğŸ”´ TODAY | ä»Šæ—¥ä¸­ | Critical |
| ğŸŸ  3DAYS | ä¸‰æ—¥ä»¥å†… | High |
| ğŸŸ¡ WEEK | ä»Šé€±ä¸­ | Medium |
| ğŸŸ¢ 3WEEKS | 3é€±é–“ä»¥å†… | Normal |
| ğŸ”µ 2MONTHS | 2ãƒ¶æœˆä»¥å†… | Low |

---

## 2. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        /tak Workflow                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   INTAKE    â”‚â”€â”€â”€â”€â–¶â”‚  CLASSIFY   â”‚â”€â”€â”€â”€â–¶â”‚  STRUCTURE  â”‚         â”‚
â”‚  â”‚   Parser    â”‚     â”‚  Priority   â”‚     â”‚  Hierarchy  â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚         â”‚                   â”‚                   â”‚                 â”‚
â”‚         â–¼                   â–¼                   â–¼                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   DEPEND    â”‚â”€â”€â”€â”€â–¶â”‚    GAP      â”‚â”€â”€â”€â”€â–¶â”‚  ESTIMATE   â”‚         â”‚
â”‚  â”‚  Resolver   â”‚     â”‚  Analyzer   â”‚     â”‚   Effort    â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                             â”‚                   â”‚                 â”‚
â”‚                             â–¼                   â–¼                 â”‚
â”‚                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚                      â”‚  SCHEDULE   â”‚â”€â”€â”€â”€â–¶â”‚   OUTPUT    â”‚         â”‚
â”‚                      â”‚   Matcher   â”‚     â”‚ Must/Should â”‚         â”‚
â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. å‡¦ç†ãƒ•ãƒ­ãƒ¼è©³ç´°

### PHASE 1: INTAKE â€” å…¥åŠ›è§£æ

**æ©Ÿèƒ½**: é›‘å¤šãªå…¥åŠ›ã‚’ãƒ‘ãƒ¼ã‚¹ã—ã€å€‹åˆ¥ã‚¿ã‚¹ã‚¯ã«åˆ†é›¢

```python
@dataclass
class RawTaskItem:
    text: str           # å…ƒãƒ†ã‚­ã‚¹ãƒˆ
    source: str         # å…¥åŠ›å…ƒ (chat, file, api)
    timestamp: datetime

@dataclass  
class ParsedTask:
    id: str             # UUID
    title: str          # æ­£è¦åŒ–ã‚¿ã‚¤ãƒˆãƒ«
    description: str    # è©³ç´°
    raw_text: str       # å…ƒãƒ†ã‚­ã‚¹ãƒˆä¿æŒ
    keywords: list[str] # æŠ½å‡ºã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰
    implicit_deadline: Optional[str]  # "ä»Šé€±", "æ€¥ã" ãªã©ã‹ã‚‰æ¨å®š
```

**ãƒ‘ãƒ¼ã‚µãƒ¼ãƒ«ãƒ¼ãƒ«**:
1. ç®‡æ¡æ›¸ãåˆ†å‰² (-, *, ãƒ», â–¡, 1.)
2. å¥ç‚¹/æ”¹è¡Œã§ã®åˆ†å‰²
3. ã€Œã€œã—ãŸã„ã€ã€Œã€œå¿…è¦ã€ã€Œã€œã‚„ã‚‹ã€ãªã©ã®æ„å›³æŠ½å‡º
4. æ—¥ä»˜/æœŸé™ã®æ¤œå‡º ("ä»Šé€±", "é‡‘æ›œã¾ã§", "1/31")

---

### PHASE 2: CLASSIFY â€” å„ªå…ˆåº¦ãƒ»ç·Šæ€¥åº¦åˆ†é¡

**Eisenhower Matrix æ‹¡å¼µ**:

```
           ç·Šæ€¥ (Urgent)
              â†‘
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Q2      â”‚ Q1      â”‚
    â”‚ Should  â”‚ Must    â”‚
é‡è¦â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ Q4      â”‚ Q3      â”‚
    â”‚ Defer   â”‚ Delegateâ”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
           éç·Šæ€¥
```

**åˆ†é¡ãƒ­ã‚¸ãƒƒã‚¯**:

```python
def classify(task: ParsedTask, context: dict) -> Classification:
    urgency = calculate_urgency(task, context)  # 0-100
    importance = calculate_importance(task, context)  # 0-100
    
    if urgency >= 70 and importance >= 70:
        return Classification.MUST
    elif importance >= 70:
        return Classification.SHOULD
    elif urgency >= 70:
        return Classification.DELEGATE
    else:
        return Classification.DEFER
```

**ç·Šæ€¥åº¦ã‚·ã‚°ãƒŠãƒ«**:
- æ˜ç¤ºçš„æœŸé™ (ä»Šæ—¥, æ˜æ—¥, ä»Šé€±)
- ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ (æ€¥ã, ASAP, ç·Šæ€¥, ãƒ–ãƒ­ãƒƒã‚«ãƒ¼)
- ä¾å­˜ã‚¿ã‚¹ã‚¯ã®ç· ã‚åˆ‡ã‚Š

**é‡è¦åº¦ã‚·ã‚°ãƒŠãƒ«**:
- ç›®çš„ã¨ã®æ•´åˆ (/bou é€£æº)
- å½±éŸ¿ç¯„å›² (å¤šãã®ã‚¿ã‚¹ã‚¯ãŒãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã‚‹)
- ä¾¡å€¤å‰µå‡ºåº¦ (åç›Š, å­¦ç¿’, æˆé•·)

---

### PHASE 3: STRUCTURE â€” éšå±¤åŒ–

**éšå±¤ãƒ¬ãƒ™ãƒ«**:

```
PROJECT (ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ)
  â””â”€â”€ EPIC (ã‚¨ãƒ”ãƒƒã‚¯)
       â””â”€â”€ STORY (ã‚¹ãƒˆãƒ¼ãƒªãƒ¼)
            â””â”€â”€ TASK (ã‚¿ã‚¹ã‚¯)
                 â””â”€â”€ SUBTASK (ã‚µãƒ–ã‚¿ã‚¹ã‚¯)
```

**è‡ªå‹•éšå±¤åŒ–ãƒ­ã‚¸ãƒƒã‚¯**:

1. **ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°**: ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰é¡ä¼¼åº¦ã§ã‚°ãƒ«ãƒ¼ãƒ—åŒ–
2. **è¦ªå­æ¨å®š**: "ã€œã®ãŸã‚ã«" "ã€œã«å¿…è¦" ãªã©ã®ä¾å­˜è¡¨ç¾
3. **æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®ãƒãƒƒãƒãƒ³ã‚°**: éå»ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã¨ã®é¡ä¼¼åº¦

```python
def build_hierarchy(tasks: list[ParsedTask]) -> TaskTree:
    # Step 1: é¡ä¼¼åº¦ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°
    clusters = cluster_by_keywords(tasks)
    
    # Step 2: è¦ªå­é–¢ä¿‚æ¨å®š
    for cluster in clusters:
        parent = identify_parent(cluster)
        children = cluster - {parent}
        tree.add_node(parent, children)
    
    return tree
```

---

### PHASE 4: DEPEND â€” ä¾å­˜é–¢ä¿‚è§£æ±º

**ä¾å­˜ã‚¿ã‚¤ãƒ—**:

| ä¾å­˜ | æ„å‘³ | ä¾‹ |
|:-----|:-----|:---|
| **FS** (Finish-to-Start) | Açµ‚äº†å¾Œã«Bé–‹å§‹ | APIã§ããŸã‚‰UIä½œæˆ |
| **SS** (Start-to-Start) | Aé–‹å§‹å¾Œã«Bé–‹å§‹å¯ | è¨­è¨ˆã¨å®Ÿè£…ä¸¦è¡Œ |
| **FF** (Finish-to-Finish) | Açµ‚äº†å¾Œã«Bçµ‚äº† | ãƒ†ã‚¹ãƒˆã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ |
| **BLOCKER** | Aå®Œäº†ã¾ã§Bç€æ‰‹ä¸å¯ | ç’°å¢ƒæ§‹ç¯‰â†’é–‹ç™º |

**ä¾å­˜æ¤œå‡ºãƒ­ã‚¸ãƒƒã‚¯**:

1. **æ˜ç¤ºçš„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰**: "ã€œã®å¾Œã«", "ã€œãŒçµ‚ã‚ã£ãŸã‚‰", "ã€œã«ä¾å­˜"
2. **æš—é»™çš„æ¨è«–**: æŠ€è¡“çš„ä¾å­˜ (DB â†’ API â†’ UI)
3. **Creator ç¢ºèª**: ä¸æ˜ç¢ºãªä¾å­˜ã¯è³ªå•

```python
def resolve_dependencies(tasks: list[ParsedTask]) -> DependencyGraph:
    graph = DependencyGraph()
    
    for task in tasks:
        explicit = extract_explicit_deps(task)
        implicit = infer_implicit_deps(task, tasks)
        graph.add_edges(task.id, explicit + implicit)
    
    # å¾ªç’°æ¤œå‡º
    if graph.has_cycle():
        raise DependencyCycleError(graph.find_cycle())
    
    return graph
```

---

### PHASE 5: GAP â€” ä¸è¶³æƒ…å ±åˆ†æ

**ä¸è¶³æƒ…å ±ã‚«ãƒ†ã‚´ãƒª**:

| ã‚«ãƒ†ã‚´ãƒª | ä¾‹ | åé›†æ–¹æ³• |
|:---------|:---|:---------|
| **SCOPE** | ã‚´ãƒ¼ãƒ«ãŒæ›–æ˜§ | Creator ã«è³ªå• |
| **TECHNICAL** | æŠ€è¡“é¸å®šæœªå®š | /sop ã§èª¿æŸ» |
| **RESOURCE** | æ‹…å½“è€…æœªå®š | Creator ã«ç¢ºèª |
| **DEADLINE** | æœŸé™æœªè¨­å®š | /chr ã§è©•ä¾¡ |
| **DEPENDENCY** | å‰ææ¡ä»¶ä¸æ˜ | ä¾å­˜ã‚°ãƒ©ãƒ•åˆ†æ |

**è‡ªå‹•åé›†æ©Ÿæ§‹**:

```python
def analyze_gaps(task: ParsedTask) -> list[Gap]:
    gaps = []
    
    # ã‚¹ã‚³ãƒ¼ãƒ—ä¸è¶³
    if task.description_ambiguity > 0.7:
        gaps.append(Gap(
            type="SCOPE",
            question="ã“ã®ã‚¿ã‚¹ã‚¯ã®ã‚´ãƒ¼ãƒ«ã¯ä½•ã§ã™ã‹ï¼Ÿ",
            auto_collect=False
        ))
    
    # æŠ€è¡“ä¸æ˜
    if task.has_technical_decision_needed:
        gaps.append(Gap(
            type="TECHNICAL",
            question=f"{task.tech_topic}ã®é¸å®šåŸºæº–ã¯ï¼Ÿ",
            auto_collect=True,
            collector="/sop"  # Perplexityèª¿æŸ»
        ))
    
    return gaps
```

---

### PHASE 6: ESTIMATE â€” å·¥æ•°è¦‹ç©

**è¦‹ç©æ‰‹æ³•**:

1. **é¡ä¼¼ã‚¿ã‚¹ã‚¯å‚ç…§**: éå»ã®é¡ä¼¼ã‚¿ã‚¹ã‚¯ã®å®Ÿç¸¾
2. **3ç‚¹è¦‹ç©**: æ¥½è¦³ / æœ€é » / æ‚²è¦³
3. **T-Shirt Sizing**: XS (< 1h) / S (< 4h) / M (< 1d) / L (< 3d) / XL (> 3d)

```python
@dataclass
class Estimate:
    optimistic: timedelta    # æ¥½è¦³
    most_likely: timedelta   # æœ€é »
    pessimistic: timedelta   # æ‚²è¦³
    
    @property
    def pert(self) -> timedelta:
        """PERTåŠ é‡å¹³å‡"""
        return (self.optimistic + 4 * self.most_likely + self.pessimistic) / 6
    
    @property
    def t_shirt(self) -> str:
        hours = self.pert.total_seconds() / 3600
        if hours < 1: return "XS"
        elif hours < 4: return "S"
        elif hours < 8: return "M"
        elif hours < 24: return "L"
        else: return "XL"
```

---

### PHASE 7: SCHEDULE â€” ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç…§åˆ

**æœŸé™ãƒãƒƒãƒãƒ³ã‚°**:

```python
def match_schedule(
    tasks: list[ClassifiedTask],
    available_hours: dict[str, float],  # æ—¥åˆ¥å¯ç”¨æ™‚é–“
    today: date
) -> ScheduleResult:
    
    deadlines = {
        "TODAY": today,
        "3DAYS": today + timedelta(days=3),
        "WEEK": today + timedelta(days=7),
        "3WEEKS": today + timedelta(days=21),
        "2MONTHS": today + timedelta(days=60)
    }
    
    result = ScheduleResult()
    
    for deadline_name, deadline_date in deadlines.items():
        # ã“ã®æœŸé™ã¾ã§ã«å®Œäº†ã™ã¹ãã‚¿ã‚¹ã‚¯
        tasks_for_deadline = [
            t for t in tasks 
            if t.deadline <= deadline_date
        ]
        
        # å¯ç”¨æ™‚é–“ã¨ã®ç…§åˆ
        total_effort = sum(t.estimate.pert for t in tasks_for_deadline)
        available = sum(
            available_hours.get(d.isoformat(), 8)
            for d in daterange(today, deadline_date)
        )
        
        # Must/Should åˆ†é¡
        if total_effort > available:
            result.add_overflow(deadline_name, total_effort - available)
        
        result.buckets[deadline_name] = classify_must_should(
            tasks_for_deadline, available
        )
    
    return result
```

---

### PHASE 8: OUTPUT â€” Must/Should æç¤º

**å‡ºåŠ›å½¢å¼**:

```text
â”Œâ”€[/tak: ã‚¿ã‚¹ã‚¯æ•´ç†å®Œäº†]â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                    â”‚
â”‚ ğŸ“Š ã‚µãƒãƒªãƒ¼                                                        â”‚
â”‚   æŠ•å…¥: 12ã‚¿ã‚¹ã‚¯ â†’ æ•´ç†å¾Œ: 3ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ, 8ã‚¿ã‚¹ã‚¯                   â”‚
â”‚   ä¸è¶³æƒ…å ±: 2ä»¶ (è‡ªå‹•åé›†ä¸­: 1ä»¶)                                   â”‚
â”‚   ç·å·¥æ•°è¦‹ç©: 18.5h                                                â”‚
â”‚                                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”´ TODAY (ä»Šæ—¥ä¸­) â€” Must: 2, Should: 1                             â”‚
â”‚   â”œ [Must] APIèªè¨¼ãƒã‚°ä¿®æ­£ (2h) â† BLOCKER                          â”‚
â”‚   â”œ [Must] ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå ±å‘Šãƒ¡ãƒ¼ãƒ« (0.5h)                           â”‚
â”‚   â”” [Should] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–° (1h)                                 â”‚
â”‚                                                                    â”‚
â”‚ ğŸŸ  3DAYS (ä¸‰æ—¥ä»¥å†…) â€” Must: 1, Should: 2                           â”‚
â”‚   â”œ [Must] v1.2 ãƒªãƒªãƒ¼ã‚¹æº–å‚™ (4h)                                  â”‚
â”‚   â”‚   â”” [Gap] ãƒ†ã‚¹ãƒˆç’°å¢ƒç¢ºèªãŒå¿…è¦ â†’ Creatorç¢ºèªå¾…ã¡               â”‚
â”‚   â”œ [Should] ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯¾å¿œ (2h)                               â”‚
â”‚   â”” [Should] æŠ€è¡“é¸å®šãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ (1h)                             â”‚
â”‚                                                                    â”‚
â”‚ ğŸŸ¡ WEEK (ä»Šé€±ä¸­) â€” Must: 0, Should: 3                              â”‚
â”‚   â”œ [Should] æ–°æ©Ÿèƒ½ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ— (8h)                               â”‚
â”‚   â”‚   â”” ä¾å­˜: v1.2ãƒªãƒªãƒ¼ã‚¹å®Œäº†å¾Œ                                   â”‚
â”‚   â”œ [Should] ãƒãƒ¼ãƒ æŒ¯ã‚Šè¿”ã‚Šæº–å‚™ (1h)                               â”‚
â”‚   â”” [Should] å­¦ç¿’: RuståŸºç¤ (2h)                                   â”‚
â”‚                                                                    â”‚
â”‚ ğŸŸ¢ 3WEEKS (3é€±é–“ä»¥å†…) â€” ãƒãƒƒã‚¯ãƒ­ã‚°å‚ç…§                             â”‚
â”‚ ğŸ”µ 2MONTHS (2ãƒ¶æœˆä»¥å†…) â€” ãƒãƒƒã‚¯ãƒ­ã‚°å‚ç…§                            â”‚
â”‚                                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âš ï¸ ä¸è¶³æƒ…å ±                                                        â”‚
â”‚   1. [SCOPE] ã€Œæ–°æ©Ÿèƒ½ã€ã®è©³ç´°ä»•æ§˜ â†’ Creatorç¢ºèªå¾…ã¡                â”‚
â”‚   2. [TECHNICAL] DBã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆ â†’ /sop ã§èª¿æŸ»ä¸­...                 â”‚
â”‚                                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ˆ ã‚­ãƒ£ãƒ‘ã‚·ãƒ†ã‚£è­¦å‘Š                                                â”‚
â”‚   TODAY: 3.5h å¿…è¦ / 4h å¯ç”¨ â†’ âœ… åã¾ã‚‹                           â”‚
â”‚   3DAYS: 7h å¿…è¦ / 12h å¯ç”¨ â†’ âœ… åã¾ã‚‹                            â”‚
â”‚   WEEK: 12h å¿…è¦ / 24h å¯ç”¨ â†’ âœ… åã¾ã‚‹                            â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â†’ ä»Šæ—¥ã¯ã€ŒAPIèªè¨¼ãƒã‚°ä¿®æ­£ã€ã‹ã‚‰å§‹ã‚ã¾ã™ã‹ï¼Ÿ [y/n]
```

---

## 4. ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

### [NEW] /home/laihuip001/oikos/.agent/workflows/tak.md

```yaml
---
description: ã‚¿ã‚¹ã‚¯/TODO/ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’è‡ªå‹•ã§æ•´ç†ãƒ»åˆ†é¡ãƒ»è¦‹ç©ã‚‚ã‚Šãƒ»æœŸé™åˆ¥Must/Shouldæç¤º
hegemonikon: Kairos
modules: [K2, O2, S3]
skill_ref: null  # æ–°è¦ä½œæˆ
version: "1.0"
derivatives: [tria, eise, kair]  # ãƒˆãƒªã‚¢ãƒ¼ã‚¸, ã‚¢ã‚¤ã‚¼ãƒ³ãƒãƒ¯ãƒ¼, å¥½æ©Ÿ
cognitive_algebra:
  "+": "è©³ç´°åˆ†æï¼šå…¨ãƒ•ã‚§ãƒ¼ã‚ºå±•é–‹ã€ä¾å­˜ãƒ»å·¥æ•°ã‚’è©³ç´°è¨ˆç®—"
  "-": "é«˜é€Ÿåˆ†é¡ï¼šMust/Should ã®ã¿ã€è¦‹ç©ãªã—"
  "*": "ãƒ¡ã‚¿åˆ†æï¼šåˆ†é¡ãƒ­ã‚¸ãƒƒã‚¯è‡ªä½“ã‚’å•ã†"
ccl_signature: "/tak+"
---
```

### [NEW] /home/laihuip001/oikos/hegemonikon/mekhane/orchestration/task_intake.py

TaskIntakeParser ã®å®Ÿè£…

### [NEW] /home/laihuip001/oikos/hegemonikon/mekhane/orchestration/task_classifier.py

å„ªå…ˆåº¦ãƒ»ç·Šæ€¥åº¦åˆ†é¡ãƒ­ã‚¸ãƒƒã‚¯

### [NEW] /home/laihuip001/oikos/hegemonikon/mekhane/orchestration/task_scheduler.py

ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç…§åˆã¨ Must/Should ç”Ÿæˆ

### [NEW] /home/laihuip001/oikos/hegemonikon/mekhane/orchestration/models.py

ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«å®šç¾©

---

## 5. æ´¾ç”Ÿãƒ¢ãƒ¼ãƒ‰

| æ´¾ç”Ÿ | æ„å‘³ | é©ç”¨å ´é¢ |
|:-----|:-----|:---------|
| **tria** (ãƒˆãƒªã‚¢ãƒ¼ã‚¸) | ç·Šæ€¥åº¦é‡è¦–ã€è¿…é€Ÿåˆ†é¡ | å¤§é‡ã‚¿ã‚¹ã‚¯æŠ•å…¥æ™‚ |
| **eise** (ã‚¢ã‚¤ã‚¼ãƒ³ãƒãƒ¯ãƒ¼) | é‡è¦åº¦Ã—ç·Šæ€¥åº¦ãƒãƒˆãƒªã‚¯ã‚¹ | æˆ¦ç•¥çš„æ•´ç†æ™‚ |
| **kair** (ã‚«ã‚¤ãƒ­ã‚¹) | å¥½æ©Ÿãƒ»ã‚¿ã‚¤ãƒŸãƒ³ã‚°é‡è¦– | æ©Ÿä¼šæå¤±å›é¿æ™‚ |

---

## 6. ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼é€£æº

```mermaid
graph LR
    subgraph "å…¥åŠ›"
        A[é›‘å¤šãªã‚¿ã‚¹ã‚¯]
    end
    
    subgraph "/tak"
        B[INTAKE] --> C[CLASSIFY]
        C --> D[STRUCTURE]
        D --> E[DEPEND]
        E --> F[GAP]
        F --> G[ESTIMATE]
        G --> H[SCHEDULE]
        H --> I[OUTPUT]
    end
    
    subgraph "é€£æºWF"
        J[/bou] -- ç›®çš„å‚ç…§ --> C
        K[/chr] -- æ™‚é–“è©•ä¾¡ --> H
        L[/sop] -- èª¿æŸ»å®Ÿè¡Œ --> F
        M[/ene] -- å®Ÿè¡Œ --> I
    end
    
    A --> B
    I --> M
```

---

## 7. å…¥åŠ›ä¾‹ã¨æœŸå¾…å‡ºåŠ›

### å…¥åŠ›ä¾‹ï¼ˆé›‘ãªæŠ•ã’è¾¼ã¿ï¼‰

```text
- APIèªè¨¼ãŒãƒã‚°ã£ã¦ã‚‹ã®ã§ãªãŠã™ï¼ˆæ€¥ãï¼‰
- æ¥é€±ã®v1.2ãƒªãƒªãƒ¼ã‚¹ã®æº–å‚™
- æ–°æ©Ÿèƒ½ã®ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ä½œã‚ŠãŸã„
- Rustã®å‹‰å¼·
- ãƒãƒ¼ãƒ æŒ¯ã‚Šè¿”ã‚Šã®æº–å‚™
- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¸ã®å ±å‘Šãƒ¡ãƒ¼ãƒ«
- ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®å¯¾å¿œ
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°
```

### æœŸå¾…å‡ºåŠ›

ä¸Šè¨˜ PHASE 8 ã®å‡ºåŠ›å½¢å¼ã‚’å‚ç…§

---

## 8. æ¤œè¨¼è¨ˆç”»

### è‡ªå‹•ãƒ†ã‚¹ãƒˆ

```bash
# ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
cd /home/laihuip001/oikos/hegemonikon
pytest mekhane/orchestration/tests/test_task_intake.py -v
pytest mekhane/orchestration/tests/test_task_classifier.py -v
pytest mekhane/orchestration/tests/test_task_scheduler.py -v
```

### æ‰‹å‹•æ¤œè¨¼

1. **å…¥åŠ›ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³**: ç®‡æ¡æ›¸ãã€æ–‡ç« ã€æ··åˆå½¢å¼ã®å…¥åŠ›ã‚’ãƒ†ã‚¹ãƒˆ
2. **ä¾å­˜é–¢ä¿‚**: å¾ªç’°ä¾å­˜ã®æ¤œå‡ºç¢ºèª
3. **ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç…§åˆ**: ã‚­ãƒ£ãƒ‘ã‚·ãƒ†ã‚£è¶…éæ™‚ã®è­¦å‘Šç¢ºèª
4. **ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼é€£æº**: /bou, /chr, /sop ã¨ã®é€£æºå‹•ä½œç¢ºèª

---

## 9. å®Ÿè£…å„ªå…ˆé †ä½

| é †åº | ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | ç†ç”± |
|:-----|:--------------|:-----|
| 1 | models.py | ä»–ã®å…¨ã¦ãŒä¾å­˜ |
| 2 | task_intake.py | å…¥åŠ›ãªã—ã«å‡¦ç†ãªã— |
| 3 | task_classifier.py | æ ¸å¿ƒãƒ­ã‚¸ãƒƒã‚¯ |
| 4 | task_scheduler.py | æœ€çµ‚å‡ºåŠ›ç”Ÿæˆ |
| 5 | tak.md | ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼çµ±åˆ |

---

*Generated by /mek+ | v1.0 | 2026-01-30*
