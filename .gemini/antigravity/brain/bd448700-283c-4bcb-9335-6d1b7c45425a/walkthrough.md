# Walkthrough: pymdp × Hegemonikón 統合

> **Status**: ✅ Phase 1-3 完了
> **Date**: 2026-01-28

---

## セッション成果

| フェーズ | 成果 | 状況 |
|:--------|:-----|:-----|
| Phase 1: PoC | HegemonikónFEPAgent 実装 | ✅ 10/10 tests |
| Phase 2: SKILL統合 | O1/O2/O4 に FEP セクション追加 | ✅ 3 commits |
| Phase 3: STOIC研究 | Cognitive Substrate パターン文書化 | ✅ |
| Phase 4: 行列最適化 | A/B/C/D 行列の Stoic マッピング | ✅ |
| Phase 5: エンコーダ | テキスト→観察変換 | ✅ 21 tests |

---

## 核心洞察

### O-series ↔ pymdp 対応

```
O1 Noēsis   ↔ infer_states()    → 信念推論 (VFE最小化)
O2 Boulēsis ↔ infer_policies()  → ポリシー選択 (EFE計算)
O4 Energeia ↔ sample_action()   → 行動決定
```

**この対応は「偶然」ではなく「必然」。**
両者は独立に開発され、同じ認知構造に到達した。

### STOIC Cognitive Substrate

```
「20M モデル ≈ 50B 出力品質」
    ↓
認知処理を LLM の外部に押し出す
    ↓
LLM は「Neural Renderer」として機能
```

---

## 変更ファイル

### Hegemonikón リポジトリ

| File | Change | Commit |
|:-----|:-------|:-------|
| [fep_agent.py](file:///home/makaron8426/oikos/hegemonikon/mekhane/fep/fep_agent.py) | numpy fix + A/B/C/D | 50c20665, 942e675e |
| [o1-noesis/SKILL.md](file:///home/makaron8426/oikos/.agent/skills/ousia/o1-noesis/SKILL.md) | FEP section | eda73362 |
| [o2-boulesis/SKILL.md](file:///home/makaron8426/oikos/.agent/skills/ousia/o2-boulesis/SKILL.md) | FEP section | edf92a3e |
| [o4-energeia/SKILL.md](file:///home/makaron8426/oikos/.agent/skills/ousia/o4-energeia/SKILL.md) | FEP section | edf92a3e |

---

## A/B/C/D 行列最適化 (Phase 4)

### A 行列 (観察尤度)

| 隠れ状態 | 観察への影響 |
|:----------|:---------------|
| phantasia=clear | context=clear (0.9) |
| hormē=active | urgency=high (0.6) |
| assent=granted | confidence=high (0.7) |

### B 行列 (状態遷移)

| 行動 | 意味 |
|:-----|:-----|
| observe | phantasia を明斉化、Epochē を誘発、hormē を静穏 |
| act | assent を付与、hormē を活性化 |

### C ベクトル (選好)

- 明確なコンテキスト: +2.0 (Zero Entropy)
- 曖昧: -2.0
- 高信頼度: +1.5
- 低信頼度: -1.0 (Epochē トリガー)

### D 事前分布 (初期信念)

- 認識論的謙虚: uncertainを優先
- Epochē デフォルト: withheldを優先
- 慎重: passiveを優先

### アーティファクト

| File | 内容 |
|:-----|:-----|
| [implementation_plan.md](file:///home/makaron8426/oikos/.gemini/antigravity/brain/bd448700-283c-4bcb-9335-6d1b7c45425a/implementation_plan.md) | pymdp 統合計画 v2.0 |
| [stoic_efficiency_pattern.md](file:///home/makaron8426/oikos/.gemini/antigravity/brain/bd448700-283c-4bcb-9335-6d1b7c45425a/stoic_efficiency_pattern.md) | STOIC パターン適用ガイド |

---

## 次のステップ

1. [ ] arXiv:2412.10425 論文精読 (LLM × Active Inference)
2. [ ] 統合デモ実装 (Cognitive Layer + LLM)

---

*Generated by O1 Noēsis + O4 Energeia*
