# S2 Mekhanē+ 出力: タスク CCL 化

> **入力**: P0/P1/P2 タスク提案
> **モード**: `inve` (発明的生成)

---

## P0: 依存関係確認

**タスク**: `pip install google-genai sentence-transformers`

**CCL**:
```ccl
/ene --mode=flow
```

**理由**: 単純な実行タスク。O4 Energeia の `flow` 派生（フロー状態での実行）。

**展開**:
```bash
pip install google-genai sentence-transformers
```

---

## P1: Dogfooding 継続

**タスク**: 日常タスクを CCL で記述、Doxa パターン蓄積 (目標: 30+)

**CCL**:
```ccl
~(@wake_/dox+):30
```

**構造分析**:
| 要素 | 意味 |
|:-----|:-----|
| `~(...)` | 振動（繰り返し） |
| `@wake` | セッション開始シーケンス |
| `_/dox+` | → 詳細信念記録 |
| `:30` | 目標回数パラメータ |

**日次ルーチン**:
```ccl
@wake_/u_/dox
```
意味: 目覚め → 対話 → 記録

---

## P2: 機能拡張

**タスク**: 
1. `let` 構文でユーザー定義マクロ
2. ワークフロー YAML に `ccl_signature` 追加

### P2-1: let 構文

**CCL**:
```ccl
/mek+ --mode=inve --target=syntax
```

**設計案**:
```ccl
let @morning = /boot+_@dig_@plan_@go
let @review = /dia+*^/gno+_/dox
```

**実装場所**: [macro_registry.py](file:///home/laihuip001/oikos/hegemonikon/mekhane/ccl/macro_registry.py) + `macro_expander.py`

### P2-2: ccl_signature 追加

**CCL**:
```ccl
/s+_/ene --mode=prax --target=yaml
```

**対象ファイル**: `.agent/workflows/*.md` (frontmatter)

**例**:
```yaml
---
ccl_signature: "/bou+_/s+_/dia"  # /plan の場合
---
```

---

## 統合 CCL プログラム

```ccl
# Phase 0: 環境準備
/ene --mode=flow

# Phase 1: Dogfooding ルーチン
~(@wake_/dox+):30

# Phase 2: 機能拡張
/mek+ --mode=inve --target=syntax _
/s+_/ene --mode=prax --target=yaml
```

**短縮版**:
```ccl
/ene _~(@wake_/dox+):30_/mek+_/s+_/ene
```

---

*Generated by S2 Mekhanē+ (inve)*
