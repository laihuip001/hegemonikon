# ワークフロー増強記号「!」システム設計

> **Origin**: /u! パターンの全系拡張
> **Philosophy**: 一つの記号で「深く」を表現する美学

---

## 階層構造

```
┌─────────────────────────────────────────────────────────────┐
│  Level 0: 普遍的定義 (Universal)                            │
│  ─ 全ワークフローに適用される共通ルール                      │
├─────────────────────────────────────────────────────────────┤
│  Level 1: シリーズ別定義 (Series-Specific)                  │
│  ─ O/S/H/P/K/A 各シリーズの性格に応じた増強                 │
├─────────────────────────────────────────────────────────────┤
│  Level 2: ワークフロー個別定義 (Workflow-Specific)          │
│  ─ /noe!, /bou!, /zet! など個別の意味                       │
└─────────────────────────────────────────────────────────────┘
```

---

## Level 0: 普遍的定義 (Universal)

`!` が付くと **必ず** 発生する効果：

| 効果 | 説明 | 例 |
|:-----|:-----|:---|
| **1. 出力量増加** | 3〜5倍の詳細度 | 3行 → 15行 |
| **2. 構造化必須** | Markdown 見出し・リスト | 箇条書き → 階層 |
| **3. 問い返し** | 対話継続のための質問 | 終わりではなく続き |
| **4. 根拠明示** | 理由・出典・確信度 | 結論だけでなくWhy |

---

## Level 1: シリーズ別定義 (Series-Specific)

### O-series (Ousia / 純粋定理) — 「!」= **深化**

| WF | Standard | Augmented (!) |
|:---|:---------|:--------------|
| /noe | 5フェーズ分析 | + Graph-of-Thought + 前提列挙 + 反転実験 |
| /bou | 目的の明確化 | + Premortem + 価値関数の数値化 |
| /zet | 問いの発見 | + 5層の問い + 優先度マトリクス |
| /ene | 6段階実行 | + Rollback計画 + 進捗追跡テンプレート |

**O-series 共通パターン**: 「より根源的に」「0から問い直す」

---

### S-series (Schema / 戦略定理) — 「!」= **精緻化**

| WF | Standard | Augmented (!) |
|:---|:---------|:--------------|
| /s | 設計概要 | + 代替案比較表 + 却下理由 |
| /met | スケール選択 | + 粒度トレードオフ分析 |
| /mek | スキル生成 | + テスト計画 + 品質基準 |
| /sta | 基準設定 | + ベンチマーク数値 + 閾値 |
| /pra | 実践選択 | + 実験計画 + 検証方法 |

**S-series 共通パターン**: 「より詳細に」「数値・基準を明示」

---

### H-series (Hormē / 衝動定理) — 「!」= **掘り下げ**

| WF | Standard | Augmented (!) |
|:---|:---------|:--------------|
| /pro | 初期傾向 | + 傾向の根源探索 + バイアス検出 |
| /pis | 確信度 | + 信頼区間 + 反証条件 |
| /ore | 欲求評価 | + 欲求の階層分析 + トレードオフ |
| /dox | 信念記録 | + 時系列変化 + 矛盾検出 |

**H-series 共通パターン**: 「より正直に」「隠れた動機を暴く」

---

### P-series (Perigraphē / 環境定理) — 「!」= **拡張**

| WF | Standard | Augmented (!) |
|:---|:---------|:--------------|
| /kho | スコープ定義 | + 境界条件リスト + 例外ケース |
| /hod | 経路定義 | + 分岐シナリオ + 障害対応 |
| /tro | 軌道定義 | + ライフサイクル + 終了条件 |
| /tek | 技法選択 | + 技術比較 + 選定理由詳細 |

**P-series 共通パターン**: 「より広く」「エッジケースを網羅」

---

### K-series (Kairos / 文脈定理) — 「!」= **文脈深掘り**

| WF | Standard | Augmented (!) |
|:---|:---------|:--------------|
| /euk | 好機判定 | + 機会コスト分析 + 時間軸 |
| /chr | 時間評価 | + 依存関係図 + クリティカルパス |
| /tel | 目的確認 | + 手段-目的の明示的マッピング |
| /sop | 調査依頼 | + 複数情報源 + 信頼性評価 |

**K-series 共通パターン**: 「より時間軸を意識」「今なぜ重要か」

---

### A-series (Akribeia / 精度定理) — 「!」= **厳密化**

| WF | Standard | Augmented (!) |
|:---|:---------|:--------------|
| /dia | 判定 | + 敵対的レビュー + Cold Mirror |
| /pat | 感情評価 | + 二重傾向の詳細分析 |
| /gno | 格言抽出 | + 複数原則 + 適用条件 |
| /epi | 知識確立 | + 証拠チェーン + 反証テスト |

**A-series 共通パターン**: 「より正確に」「曖昧さを排除」

---

## Level 2: ワークフロー個別定義 (抜粋)

### /noe! (O1 Noēsis Augmented)

```markdown
# /noe! 出力フォーマット

## 前提の列挙
[暗黙の前提を明示的にリスト]

## 反転実験
[前提を反転させた場合の帰結]

## Graph-of-Thought
[思考の分岐・統合・循環を図示]

## 10層の問い
[表層→深層へと問いを掘り下げ]

## 結論群
[複数の可能な結論と確信度]

## 死角警告
[分析から漏れている可能性を自己指摘]

## 問い返し
[対話継続のための3つの問い]
```

---

## 実装戦略

### 優先順位 (影響 × 使用頻度)

1. **Tier 1** (即時): `/noe!`, `/s!`, `/zet!`, `/bou!`
2. **Tier 2** (次週): `/dia!`, `/ene!`, `/mek!`
3. **Tier 3** (後日): 残り全て

### 技術的実装

各ワークフロー [.md](file:///home/laihuip001/oikos/.agent/workflows/u.md) に以下を追加:

```yaml
---
augmented:
  enabled: true
  trigger: "!"
  effects:
    - output_multiplier: 3
    - structured: true
    - include_questions: true
  custom_sections: [...]
---
```

---

## 議論ポイント

> Creator との対話で決めるべき項目

1. **Q1**: 普遍的定義の4項目で十分か？追加・削除は？
2. **Q2**: シリーズ別パターンの妥当性は？
3. **Q3**: Tier 1 の選定は適切か？
4. **Q4**: `!!` や `/noe!!` のような二重増強は禁止でよいか？

---

*Draft v0.1 — 2026-01-29*
