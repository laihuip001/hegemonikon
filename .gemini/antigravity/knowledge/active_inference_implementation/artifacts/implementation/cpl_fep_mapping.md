# CPL-FEP 認知変数マッピング仕様

> **バージョン**: 1.0.0
> **定理**: A2 Krisis / S3 Stathmos
> **基準**: CCL v2.0.2 準拠

CPL (Cognitive Purpose Language) の条件分岐において使用される認知変数は、サブ記号レイヤーの FEP (Free Energy Principle) エンジンから提供される数学的指標に直接接地（Grounding）される。

## 1. 変数定義と計算式

### 1.1 confidence (確信度)

CPL 式 `I:confidence > 0.7` 等で使用される。これはエージェントの内部モデルが現在の観測をどれだけ良く説明できているかを示す。

- **定式化**:
  $$confidence = \frac{1}{1 + VFE}$$
  ※ $VFE$ = Variational Free Energy (変分自由エネルギー)。
- **範囲**: $(0, 1]$
  - $VFE = 0$ のとき $1.0$ (最大確信)
  - $VFE \to \infty$ のとき $0.0$ (最小確信)
- **認知的意味**: 「自分の判断にどの程度自信があるか」。Bayesian Majority (過半数の確信) を超える 0.5 が一つの基準点となる。

### 1.2 entropy (曖昧さ/不確実性)

CPL 式 `I:entropy < 2.5` 等で使用される。これは予測分布の広がり（不透明性）を示す。

- **定式化**:
  $$H(P) = -\sum p_i \log_2 p_i$$
  ※ 予測分布 $P$ のシャノンエントロピー。
- **単位**: bits
- **認知的意味**: 選択肢の「絞り込み」度合い。
  - $H < 1.0$: ほぼ一択に絞られている
  - $H \approx 2.5$: 5〜6個の選択肢があり、迷いが生じている（可管理限界）
  - $H > 3.0$: 混沌としており、情報収集 (`/zet`) が必要

---

## 2. 閾値基準 (Heuristics)

| レベル | `confidence` | `entropy` | 認知的推奨 |
|:-------|:-------------|:----------|:-----------|
| **確実 (Solid)** | $> 0.8$ | $< 1.5$ | 即時実行 (`/ene`) |
| **可能性 (Likely)** | $0.5 - 0.8$ | $1.5 - 2.5$ | 実行継続だが `[審査:人間]` または `/dia` 推奨 |
| **混迷 (Confused)** | $< 0.5$ | $> 2.5$ | 実行停止、`/zet` による精査が必要 |

---

## 3. 実装の整合性 (Ethics in Syntax)

このマッピングにより、CPL の `?` (照会) や `I:` (条件) は、AI の主観的な「感覚」ではなく、自由エネルギー最小化の原則に基づいた客観的な「状態」として処理される。

- **自動停止**: `entropy` が上限を超えた場合、システムは自動的に例外 (`/dia^`) を発行し、論理的崩壊を未然に防ぐ。
- **透明性**: Creator は `/u?` を通じてこれらの内部数値を照会し、AI の判断根拠を数学的に検証できる。

---
*Created: 2026-01-29 | Hegemonikón FEP-CPL Bridge Specification*
