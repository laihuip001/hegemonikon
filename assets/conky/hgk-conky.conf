-- Hegemonikón Conky Configuration
-- Displays HGK system status on desktop

conky.config = {
    alignment = 'top_right',
    background = true,
    border_width = 0,
    cpu_avg_samples = 2,
    default_color = 'C0CAD7',  -- Precision silver
    default_outline_color = '585B70',
    default_shade_color = '1e1e2e',
    double_buffer = true,
    draw_borders = false,
    draw_graph_borders = false,
    draw_outline = false,
    draw_shades = true,
    extra_newline = false,
    font = 'Inter:size=10',
    gap_x = 40,
    gap_y = 60,
    minimum_height = 400,
    minimum_width = 280,
    net_avg_samples = 2,
    no_buffers = true,
    out_to_console = false,
    out_to_ncurses = false,
    out_to_stderr = false,
    out_to_wayland = false,
    out_to_x = true,
    own_window = true,
    own_window_class = 'Conky',
    own_window_type = 'desktop',
    own_window_transparent = true,
    own_window_argb_visual = true,
    own_window_argb_value = 0,
    show_graph_range = false,
    show_graph_scale = false,
    stippled_borders = 0,
    update_interval = 3.0,
    uppercase = false,
    use_spacer = 'none',
    use_xft = true,
    xftalpha = 0.8,

    -- HGK 6-Series Colors (for reference in template)
    -- Flow:      #5EBABB (teal)
    -- Value:     #E0AF68 (amber)
    -- Function:  #9E86C8 (violet)
    -- Scale:     #7AA2F7 (blue)
    -- Valence:   #DB8D96 (rose)
    -- Precision: #C0CAD7 (silver)
}

conky.text = [[
${color #585B70}─────────────────────────${color}
${color #5EBABB}${font Inter:bold:size=13}Ω${font} ${color #C0CAD7}HEGEMONIKÓN${color}
${color #585B70}─────────────────────────${color}

${color #E0AF68}SYSTEM${color}
${color #C0CAD7} CPU ${color #585B70}│${color} ${cpu cpu0}% ${cpubar cpu0 6,120}
${color #C0CAD7} RAM ${color #585B70}│${color} ${memperc}% ${membar 6,120}
${color #C0CAD7} GPU ${color #585B70}│${color} ${exec nvidia-smi --query-gpu=utilization.gpu --format=csv,noheader,nounits 2>/dev/null || echo "N/A"}%
${color #C0CAD7} SSD ${color #585B70}│${color} ${fs_used_perc /}% ${fs_bar 6,120 /}

${color #585B70}─────────────────────────${color}
${color #9E86C8}FUNCTION${color}
${color #C0CAD7} Uptime ${color #585B70}│${color} ${uptime_short}
${color #C0CAD7} Procs  ${color #585B70}│${color} ${processes} (${running_processes} run)
${color #C0CAD7} Net ↓  ${color #585B70}│${color} ${downspeed enp39s0}
${color #C0CAD7} Net ↑  ${color #585B70}│${color} ${upspeed enp39s0}

${color #585B70}─────────────────────────${color}
${color #7AA2F7}SCALE${color}
${color #C0CAD7} Gnōsis  ${color #585B70}│${color} ${exec cat ~/oikos/hegemonikon/.gnosis_count 2>/dev/null || echo "—"} papers
${color #C0CAD7} Sessions${color #585B70}│${color} ${exec ls ~/oikos/mneme/.hegemonikon/sessions/handoff_*.md 2>/dev/null | wc -l} handoffs
${color #C0CAD7} Skills  ${color #585B70}│${color} ${exec ls -d ~/oikos/hegemonikon/.agent/skills/*/SKILL.md 2>/dev/null | wc -l} loaded

${color #585B70}─────────────────────────${color}
${color #DB8D96}VALENCE${color}
${color #C0CAD7} Git ${color #585B70}│${color} ${exec cd ~/oikos/hegemonikon && git log --oneline -1 --format='%h %s' 2>/dev/null | head -c 35}
${color #C0CAD7} Mod ${color #585B70}│${color} ${exec cd ~/oikos/hegemonikon && git diff --shortstat 2>/dev/null | sed 's/ file.*/f/' | sed 's/, /|/g' || echo "clean"}

${color #585B70}─────────  ${color #585B70}1 + 6 + 24 + 72 = 103${color}
]]
