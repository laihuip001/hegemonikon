---
description: CCL v2.0 構文凍結宣言。マクロ追加は許可、構文変更は禁止。
---

# CCL v2.0 Syntax Freeze Declaration

> **STATUS**: 凍結 (Frozen)
> **日付**: 2026-02-13
> **根拠**: `@helm` on CCL 実行結果 — /pis 確信度 85%

---

## 宣言

### CCL v2.0 の構文を凍結する

変更が許可される範囲:

| 操作 | 許可 | 例 |
|:-----|:-----|:---|
| **マクロ追加** | ✅ | `@helm`, `@newmacro` の新規定義 |
| **マクロ修正** | ✅ | 既存マクロの CCL 式更新 |
| **演算子追加** | ❌ | 新しい `!>` 等の構文 |
| **演算子意味変更** | ❌ | `*%` の意味を再定義 |
| **パーサー構造変更** | ❌ | AST ノード型の追加 |

### 凍結対象 (v2.0 仕様)

- 演算子: `+`, `-`, `*`, `*^`, `*%`, `~`, `~*`, `~!`, `>>`, `|>`
- 制御構造: `F:[]{}`, `R:{}`, `L:[]{}`, `C:{}`, `V:{}`, `I:[]{}`, `E:{}`
- 修飾: `{context}`, 関係サフィックス (`.d`, `.h`, `.x`)
- グルーピング: `()`, `_` (sequence)

### 例外条件

凍結解除の条件 (全てを満たす場合のみ):

1. 新しい認知パターンが既存演算子で**表現不可能**
2. `/noe+` レベルの分析で**必要性を証明**
3. Creator の明示的承認

---

## Single Source of Truth

| 層 | ソース | 役割 |
|:---|:-------|:-----|
| 正規定義 | `.agent/workflows/ccl-*.md` | 人間が読むマクロ仕様 |
| コード定義 | `hermeneus/src/macros.py` BUILTIN_MACROS | パーサーが参照する SoT |
| 派生定義 | `mekhane/ccl/macro_registry.py` | ↑ から自動生成 |
| 構文仕様 | `ccl/syntax/operator_spec.md` | 演算子の正式定義 |

---

*@helm on CCL 実行結果に基づく判定 — 2026-02-13*
