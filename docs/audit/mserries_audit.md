---
doc_id: "MSERRIES_MAPPING_AUDIT"
version: "1.0.0"
date: 2026-01-19
---

# M-Series Skills マッピングと敵対監査

---

## 1. マッピング表

| M-Series | Hegemonikón ID (旧) | 64機能 Code (新) | 機能名 | Phase |
|----------|---------------------|------------------|--------|-------|
| **M1** | 09 Aisthēsis-H | #07 I-E-F-H-E-+ | Aisthēsis-H+ | **1** ✅ |
| **M2** | 10 Krisis-H | #23 I-P-F-H-E-+ | Krisis-H+ | **1** ✅ |
| **M3** | 13 Theōria-H | #15 I-E-S-H-E-+ | Theōria-H+ | 2 |
| **M4** | 14 Phronēsis-H | #31 I-P-S-H-E-+ | Phronēsis-H+ | 2 |
| **M5** | 11 Peira-H | #39 A-E-F-H-E-+ | Peira-H+ | **1** ✅ |
| **M6** | 12 Praxis-H | #55 A-P-F-H-E-+ | Praxis-H+ | **1** ✅ |
| **M7** | 15 Dokimē-H | #47 A-E-S-H-E-+ | Dokimē-H+ | 2 |
| **M8** | 16 Anamnēsis-H | #63 A-P-S-H-E-+ | Anamnēsis-H+ | **1** ✅ |

---

## 2. 敵対監査: SKILLは本当に実行されるか？

### 2.1 監査観点

| 観点 | 質問 |
|------|------|
| **トリガー** | 明確な発動条件が定義されているか？ |
| **実行経路** | Antigravityがこのスキルを発見・読み込む仕組みはあるか？ |
| **効果** | 読み込んだ後、AIの挙動が変わることは保証されているか？ |
| **検証可能性** | 発動したかどうかを確認できるか？ |

### 2.2 各Skillの監査結果

| Skill | トリガー | 実行経路 | 効果保証 | 検証可能性 | 総合評価 |
|-------|----------|----------|----------|------------|----------|
| **M1** | ⚠️ 暗黙 | ✅ セッション開始時自動 | ⚠️ 不明確 | ❌ なし | ⚠️ リスク中 |
| **M2** | ⚠️ 暗黙 | ❓ M1からの自動連携 | ⚠️ 不明確 | ❌ なし | ⚠️ リスク中 |
| **M3** | ✅ 明示 | ⚠️ 予測誤差蓄積時 | ⚠️ セッション単位 | ❌ なし | ⚠️ リスク中 |
| **M4** | ✅ 明示 | ⚠️ 「計画して」要求時 | ⚠️ セッション単位 | ❌ なし | ⚠️ リスク中 |
| **M5** | ✅ 明示 | ✅ U > 0.6 で発動 | ✅ 検索実行 | ✅ 検索結果 | ✅ **信頼可** |
| **M6** | ✅ 明示 | ✅ M2完了後 | ✅ 行動実行 | ✅ 操作ログ | ✅ **信頼可** |
| **M7** | ✅ 明示 | ⚠️ 「テストして」要求時 | ✅ Synedrion | ✅ 評議結果 | ✅ **信頼可** |
| **M8** | ✅ 明示 | ✅ /boot, /sync-history | ✅ Vault連携 | ✅ ファイル確認 | ✅ **信頼可** |

### 2.3 リスク評価まとめ

| リスクレベル | Skills | 問題点 |
|--------------|--------|--------|
| **高** | なし | — |
| **中** | M1, M2, M3, M4 | 暗黙発動のため、本当に発動しているか不明 |
| **低** | M5, M6, M7, M8 | 明示的トリガーと検証可能な結果がある |

---

## 3. Perplexity調査結果: Skills読み込みメカニズム

### 3.1 段階的開示アーキテクチャ

| フェーズ | タイミング | 処理内容 |
|----------|----------|----------|
| **検出** | セッション開始時 | `.agent/skills/` をスキャン |
| **注入** | セッション開始時 | `name` + `description` のみをシステムプロンプトに注入 |
| **マッチング** | ユーザーリクエスト時 | LLMが semantic matching で Skill を選定 |
| **読み込み** | activate_skill 時 | SKILL.md 本文を初めてコンテキストに追加 |

### 3.2 発動メカニズム

```
User Request
    ↓
Gemini Agent: "description と semantic matching"
    ↓
Score > Threshold?
    ├─ YES → activate_skill ツール呼び出し
    └─ NO → Skill なしで処理続行
    ↓
(If activated) SKILL.md 本文を注入
```

**重要**: 
- `description` フィールドの明確さが発動精度を直接左右
- Precondition/Trigger フィールドは存在しない（LLM自律判定）

### 3.3 効果的な description の3要素

| 要素 | 説明 | 例 |
|------|------|-----|
| **What** | 何をするか | 文脈認識・状況ラベリング |
| **When** | いつ使うか | セッション開始時、ユーザー入力分析時 |
| **Keywords** | 検索キーワード | analysis, context, situation |

---

## 4. 改善提案

### 4.1 即時対応（推奨）

| # | 対策 | 対象 | 効果 |
|---|------|------|------|
| 1 | **/boot にM1/M2読み込みを追加** | boot.md | 確実に読み込み |
| 2 | **M3/M4への明示的起動ワークフロー追加** | workflows/ | /analyze, /plan |
| 3 | **発動確認バナー追加** | 各SKILL | 「M1発動」等を出力 |

### 4.2 中期対応

| # | 対策 | 効果 |
|---|------|------|
| 4 | **Skills自動読み込みスクリプト** | セッション開始時に全Skills概要を注入 |
| 5 | **監査ログ追加** | どのSkillがいつ発動したかを記録 |

---

## 5. 結論

| 判定 | 説明 |
|------|------|
| **M5, M6, M7, M8** | ✅ **実行確実** — 明示トリガーと検証手段あり |
| **M1, M2, M3, M4** | ⚠️ **実行不確実** — 暗黙発動、読み込み保証なし |

### 即時アクション

1. **boot.md を修正**して、M1/M2 を明示的に読み込む
2. 各SKILLに「発動確認メッセージ」を追加

---

*生成: 2026-01-19 by M7 Dokimē (Adversarial Audit)*
