# 調査依頼書（深掘り版）

テーマ: Google Antigravity における Claude ↔ Jules のツール実行アーキテクチャ

---

## 0. あなた（調査者）への依頼（最重要）

私は **Antigravity IDE 上で Claude が Jules を「生成エンジン」として使う**方法を検討している。

以下について、**一般論で終わらせず**、2024-2026時点の最新仕様・挙動・制約を**一次情報と再現性のある検証情報**で裏付けてほしい:

1. **Antigravity 内での Claude と Jules の関係**: ファイル操作（write_file, run_command 等）は Claude が直接実行しているのか、Jules を介しているのか？
2. **Jules に「生成タスク」を委譲する方法**: Claude から Jules に対して「このファイルを考えて生成して」と依頼できるか？
3. **既存の連携パターン**: Claude ↔ Jules の協調作業パターンは公式ドキュメントまたはコミュニティで共有されているか？

結論は「できる/できない」だけでなく、**実装方法（ワークフロー、MCP、など）**まで落とし込んで提示してほしい。

---

## 1. 調査対象の定義

### 1-1. 製品名・モード名の確認

- **Antigravity**: Google の「エージェント優先」IDE
- **Jules**: Antigravity に組み込まれた AI エージェント（Gemini ベース）
- **Claude**: Antigravity 内で Claude API を使用した場合のモデル

**確認すべき点**:
- Antigravity 内の Claude は Anthropic API を直接呼んでいるのか？
- Claude と Jules は同時に動作可能か？
- どちらがファイル操作の「実行者」か？

### 1-2. 比較対象

| 環境 | 特徴 |
|:---|:---|
| Antigravity Claude | 私（このセッションの主体） |
| Antigravity Jules | ファイル操作の実行者？ |
| 両者の協調 | 設計 ↔ 実行の分離？ |

---

## 2. 調査すべき論点

### A. アーキテクチャ（実行経路）

**A1. ツール実行の主体**

- `write_to_file` を Claude が呼ぶと、誰が実際にファイルを書くか？
  - a) Claude が直接ファイルシステムに書く
  - b) Jules がファイル操作を実行する
  - c) Antigravity のランタイムが実行する（どちらも介在しない）

**A2. 生成の委譲**

- Claude から Jules に「このタスクを考えて実行して」と依頼できるか？
- 依頼方法:
  - MCP サーバー経由？
  - ワークフロー経由？
  - 直接呼び出し？

### B. 既存パターン

**B1. 公式ドキュメント**

- Google Antigravity の公式ドキュメントにマルチエージェント協調の説明があるか？
- Claude + Jules の併用パターンは想定されているか？

**B2. コミュニティ事例**

- GitHub、Reddit、Twitter 等で Antigravity 内の Claude ↔ Jules 連携事例があるか？
- ワークフロー定義で両者を協調させた例はあるか？

### C. 制約と回避策

**C1. 現在の制約**

- Claude から Jules を呼び出せない場合、その理由は何か？
- セキュリティ、アーキテクチャ、設計思想のいずれか？

**C2. 回避策**

- ファイル経由の間接呼び出しは可能か？
- ワークフローで「Claude が書いたファイルを Jules が読む」パターンは動作するか？

---

## 3. 成果物

1. **結論サマリー**（10行以内）: Claude → Jules 委譲は可能か否か
2. **アーキテクチャ図**: Antigravity 内のツール実行経路
3. **実装パターン**: 可能な場合の具体的実装方法
4. **制約一覧**: 不可能な場合の理由と代替策
5. **根拠リンク**: 公式ドキュメント、GitHub Issue、コミュニティ投稿

---

## 4. 調査ルール

- **新情報優先**: 2024-2026の情報（Antigravity は 2025年11月発表）
- **事実/推測分離**: 公式ドキュメント vs 挙動からの推測
- **再現性**: 実際に試せる手順があれば記載

---

## 6. 与件

- **目的**: Antigravity のコード生成機構をプロンプト生成に転用したい
- **現状**: Claude がプロンプト内容を生成し、`write_to_file` でファイル作成している
- **仮説**: Jules を「生成エンジン」として使えば、Claude は設計に専念できる
- **優先評価軸**: 実現可能性 > 実装複雑度 > パフォーマンス
