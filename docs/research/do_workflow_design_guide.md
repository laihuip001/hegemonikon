# Hegemonikón /do ワークフロー設計ガイド

**調査日**: 2026-01-23
**ソース**: Perplexity 調査（128件: 学術論文、公式ドキュメント、実装事例）
**対象**: Cursor, GitHub Copilot Workspace, Aider, Devin, Google Antigravity/Jules

---

## エグゼクティブサマリー

2025-2026年のAIコーディングエージェント実装状況から、**すべてのメジャープラットフォームが統一的な4段階フロー（計画→承認→実行→検証）を採用**していることが判明。

本調査では以下を導出:
1. **6段階実行フレームワーク**（Hegemonikón /do 用）
2. **MCP 3層防御アーキテクチャ**
3. **Do-Confirm チェックリスト**パターン

---

## 主要発見

### 1. AI エージェント統一パターン

| フェーズ | Cursor | Copilot | Aider | Devin |
|---------|--------|---------|-------|-------|
| 計画 | Plan mode | Specification | manual | explicit task |
| 承認 | diff review | PR propose | architect mode | Slack thread |
| 実行 | Agent mode | auto-implement | code generation | VM execution |
| 検証 | build/test/lint | validation gates | auto-test | CI signals |

### 2. Definition of Done 構成要素

**Level 1: 基本**
- コード記述完了
- Manual testing
- Acceptance Criteria 満たす

**Level 2: 中級**
- Peer code review（最低1人）
- Unit tests ≥60% coverage
- Integration tests 合格

**Level 3: 高度**
- Specification traceability
- Security scan (SAST)
- Performance benchmarks

### 3. Checklist Manifesto パターン

**Do-Confirm チェックリスト**（/do に最適）:
- 実行: 全タスクを実施
- 確認: 完了後、チェックリストで確認

**設計原則**:
- 5～9項目が最適
- 「Big Killers」を優先

---

## Hegemonikón /do への適用

### 6段階フレームワーク

1. **ENTRY CHECK** - 計画の詳細度・承認状態確認
2. **EXECUTE** - ファイル単位で実装 + 進捗報告
3. **VERIFY** - Build → Test → Lint → Security
4. **DEVIATION CHECK** - 計画 vs 成果物の差分確認
5. **CONFIRM-COMMIT** - 変更サマリー + コミット提案
6. **ROLLBACK READY** - 問題発生時の撤退手順

### 検証ゲート順序

| 順序 | ゲート | 時間目安 |
|------|--------|----------|
| 1 | Build | 5秒 |
| 2 | Unit Tests | 10-30秒 |
| 3 | Lint/Type | 2-5秒 |
| 4 | Security | 5-15秒 |

---

## MCP 3層防御

**Layer 1: Static Schemas**
- Filesystem: `/workspace/{project_id}/*` のみ
- Network: deny by default

**Layer 2: Formal Contracts**
- Precondition/Postcondition 定義
- Command whitelist

**Layer 3: Dynamic Policies**
- Rate limits
- Loop prevention
- Audit logging

---

## 参考文献

### MCP 安全設計
- [MCP Safety Audit (arXiv)](https://arxiv.org/abs/2504.03767)
- [Formal Safety Constraints (IJIRMPS)](https://www.ijirmps.org/research-paper.php?id=232848)

### AI Agent Verification
- [TDD + AI Agents (LinkedIn)](https://www.linkedin.com/pulse/test-driven-agentic-development-how-tdd-can-enable-coding-monnette-2k80f)
- [SWE-Bench+ (EmergentMind)](https://www.emergentmind.com/topics/swe-bench)

### Checklist 設計
- [The Checklist Manifesto](https://stevenschwenke.de/TheChecklistManifestoFromASoftwareDevelopmentPointOfView)
- [Scrum Guide 2020](https://scrumguides.org/scrum-guide.html)

---

*Generated by Hegemonikón /ask workflow*
