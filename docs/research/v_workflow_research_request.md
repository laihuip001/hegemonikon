# 調査依頼書（深掘り版）

テーマ: **LLM間相互監査・マルチエージェント品質管理アーキテクチャ**

---

## 0. あなた（調査者）への依頼（最重要）

私は **複数のLLM（Claude と Gemini）を協調させ、一方が他方の作業を監査する仕組み** を設計している。

具体的には:
- **Gemini**: 大量トークン処理、実行担当（「手を動かす」）
- **Claude**: 推論・判断、監査担当（「頭を使う」）

以下について、**一般論で終わらせず**、2024-2026時点の最新の研究・実践事例・設計パターンを**一次情報と再現性のある検証情報**で裏付けてほしい:

1. **マルチエージェント協調における役割分担のベストプラクティス**
2. **LLM間の品質管理・相互監査はどう設計すべきか**
3. **「監査」の構成要素（何をチェックすべきか）のフレームワーク**

結論は「どっちが上」ではなく、**「監査者」と「実行者」の役割分担設計**と**監査プロトコルの具体的構成要素**まで落とし込んで提示してほしい。

---

## 1. 調査対象の定義（用語の揺れに対応）

### 1-1. 製品名・モード名の確認

まず以下を確定してください（曖昧なまま比較しないこと）:

- 「マルチエージェント」の定義（単一モデル内の役割分担 vs 複数モデル協調）
- 「監査」「検証」「レビュー」の用語区別（audit vs verification vs review）
- 関連概念: Constitutional AI, RLHF, Self-Critique, Debate, Cross-Model Verification

### 1-2. 比較・参照対象

- **学術**: LLM self-critique, AI debate, multi-agent systems
- **実践**: AutoGPT, CrewAI, LangGraph, Claude-Gemini 協調事例
- **品質管理**: ソフトウェアQAフレームワーク（SOP, チェックリスト）

---

## 2. 調査すべき論点（抜け漏れ禁止）

以下を必ず網羅し、断定できない場合は「不確実」と明示し、追加検証手順を示してください。

### A. マルチエージェント協調パターン

**A1. 役割分担の類型**
- Sequential (直列): A が作業 → B が監査
- Parallel (並列): A と B が同時作業 → 合議
- Hierarchical (階層): Manager-Worker 構造
- Debate (対話): 相互批判による品質向上

**A2. 異種 LLM 協調の事例**
- Claude + Gemini の組み合わせ事例はあるか
- 異なるモデルの強み・弱みを活かした分業設計
- 「実行者が考えすぎる」問題の対処法

### B. 監査（Audit）の構成要素

**B1. 監査対象の分類**
- 成果物の正確性（ファイル存在、内容整合性）
- プロセスの遵守（手順通りか、スキップはないか）
- 計画との一致（やると言ったことをやったか）
- 品質基準（コード品質、ドキュメント品質）

**B2. 監査手法の比較**
- チェックリスト駆動
- サンプリング検査
- 全数検査
- リスクベース監査

**B3. 監査報告の形式**
- 適合/不適合の判定基準
- 是正措置の提案
- 重大度分類（Critical/Major/Minor）

### C. LLM特有の監査課題

**C1. Self-Critique の限界**
- なぜ同一モデルの自己監査は信用できないか
- Cross-Model Verification の優位性はあるか

**C2. 幻覚（Hallucination）検出**
- 他モデルによる事実確認の有効性
- 「知らない」を言えるモデルの優位性

**C3. 指示忘れ・コンテキスト逸脱**
- 長いタスクで指示を忘れる問題
- 監査者がどうチェックすべきか

### D. 実装パターン

**D1. ワークフロー設計**
- 監査トリガー（いつ実行するか）
- 入力形式（何を渡すか）
- 出力形式（何を返すか）

**D2. エスカレーション**
- 監査で問題発見時のフロー
- 自動修正 vs ユーザー承認

**D3. SOP（標準作業手順書）設計**
- 大手チェーンのマニュアル設計原則
- LLM向け手順書の書き方（曖昧さ排除）

---

## 3. 成果物（この構成で必ず提出）

1. **結論サマリー**（10行以内）: マルチLLM監査の設計原則
2. **役割分担パターン比較表**: Sequential/Parallel/Hierarchical/Debate
3. **監査構成要素フレームワーク**: 何をどうチェックするか
4. **LLM特有の課題と対策**: 幻覚、指示忘れ、自己批判の限界
5. **実装推奨**: ワークフロー設計、トリガー、出力形式
6. **SOP設計原則**: 実行者向け手順書の書き方
7. **根拠リンク**（必須）:
   - 学術論文（arXiv, ACL, NeurIPS等）
   - 実務事例（企業ブログ、GitHub）
   - 品質管理フレームワーク（ISO, ITIL等）

---

## 4. 調査ルール（品質担保）

- **新情報優先**: 2024-2026の情報を優先（GPT-3時代の評判を混ぜない）
- **事実/推測分離**: 必ず明確に分離
- **根拠必須**: 「一般に〜と言われる」で終わらず、根拠・再現例を提示
- **決断可能**: 結論は曖昧にせず、設計判断に使える形に

---

## 5. 追加要件（任意だが望ましい）

- **監査チェックリストのテンプレート**: すぐ使える形式
- **SOP テンプレート**: 実行者向け手順書の雛形
- **失敗パターン集**: マルチエージェント協調でやりがちなミス

---

## 6. 与件（ユーザー観測データ/背景/制約/目的）

- **目的**: `/v` コマンド（Claude が Gemini の作業を監査するワークフロー）の設計
- **前提条件**:
  - Gemini: トークン処理能力高いが「考える」と暴走、指示を忘れる
  - Claude: 推論力高いがトークン制限あり、処理落ちする
  - 現環境: Hegemonikón（認知エージェントフレームワーク）
- **検討中の仮説**:
  - Gemini = 実行担当（マニュアル通りに動く）
  - Claude = 監査担当（結果を検証、問題発見時に報告）
- **優先する評価軸**: 実装可能性、再現性、運用の簡潔さ
