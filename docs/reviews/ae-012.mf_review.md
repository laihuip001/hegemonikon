# 視覚リズムの指揮者 レビュー

## 対象ファイル
`mekhane/dendron/checker.py`

## 判定
発言（要改善）

## 発見事項
- (Medium) 関数サイズの不均一: `check` メソッド (約65行) が他のメソッド (平均10-20行) に比べて著しく大きく、視覚的な壁となっている。
- (Low) インデントの波形の乱れ: `check` メソッド内の深いネスト (最大6レベル) が急激な「右寄り」の視覚的リズムを生み、波形を乱している。

## 重大度
Medium

## 修正案
`check` メソッドをガード節を使用してネストを浅くし、視覚的なリズムを整える提案です。

```python
    # 修正案 (check メソッド内のループ処理を平坦化)
    # ...
        # ファイルをチェック
        if self.check_files:
            for path in root.rglob("*.py"):
                if not path.is_file():
                    continue

                file_proofs.append(self.check_file_proof(path))

                # 関数・変数チェックの条件
                should_check_ast = (self.check_functions or self.check_variables)
                if not should_check_ast or self.is_exempt(path):
                    continue

                try:
                    content = path.read_text(encoding="utf-8")
                    tree = ast.parse(content, filename=str(path))
                except (SyntaxError, UnicodeDecodeError):
                    tree = None

                if tree is not None:
                    if self.check_functions:
                        fps = self._check_functions_from_tree(path, tree, content)
                        function_proofs.extend(fps)
                    if self.check_variables:
                        vps = self._check_variables_from_tree(path, tree)
                        variable_proofs.extend(vps)
    # ...
```
