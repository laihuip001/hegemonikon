# シンプリシティの門番 レビュー

## 対象ファイル
`mekhane/dendron/models.py`

## 判定
発言（要改善）

## 発見事項
- **DirProof.has_proof_md (冗長なフィールド)**: Medium
  - **問題**: `has_proof_md` は `status` (OK/WEAK -> True, MISSING/EXEMPT -> False) から完全に導出可能であり、二重管理となっている。
  - **提案**: フィールドを削除し、必要であればプロパティとして実装する。
  ```python
  @dataclass
  class DirProof:
      path: Path
      status: ProofStatus
      reason: Optional[str] = None
      # has_proof_md: bool = False  <- 削除

      @property
      def has_proof_md(self) -> bool:
          return self.status in (ProofStatus.OK, ProofStatus.WEAK)
  ```

- **ProofLevel.UNKNOWN (不要な列挙値)**: Low
  - **問題**: 列挙型に「不明/無効」という状態を持たせることは、エラー状態を正常系に混入させることになる。解析失敗時は `None` や例外で扱うべき。
  - **提案**: `UNKNOWN` を削除し、解析ロジック側で `Optional[ProofLevel]` を返すか例外を送出するように変更する。

## 重大度
Medium
