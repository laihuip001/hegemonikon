# 比喩一貫性の詩人 レビュー

## 対象ファイル
`mekhane/dendron/checker.py`

## 判定
発言（要改善）

## 発見事項
- **比喩の混在 (Medium)**:
  - モジュール名 `dendron` (樹木) や `root`, `orphan` (庭園/生命) の用語に対し、クラス名 `Checker` やメソッド名 `check`, `validate`, `exempt` (工場/官僚) が支配的です。
  - 庭園に工場が建っているような不協和音があります。特に `orphan` (孤児/生命) と `exempt` (免除/法律) の並列は象徴的です。
- **命名規則の不統一 (Low)**:
  - `check_file_proof` (V-N-N)
  - `check_functions_in_file` (V-N-Prep-N)
  - 構造が不揃いです。
- **動詞の不統一 (Low)**:
  - `check` (確認) と `validate` (検証) が混在しています。

## 重大度
Medium

## 修正提案
`dendron` の名を冠する以上、本来は `inspect` (検査/観察) や `survey` (測量) が相応しいですが、現状の `Checker` (工場) と `Proof` (法廷) の色が濃すぎるため、現実的な解として「工場/官僚」への統一（`validate` -> `check`）と命名構造の整理を提案します。

```python
<<<<<<< SEARCH
    # PURPOSE: 親参照パスの妥当性 (長さ, 存在, 安全性) を検証する
    def validate_parent(self, parent: str) -> tuple[bool, str]:
        """親参照を検証 (v2.4: パス長制限追加)
=======
    # PURPOSE: 親参照パスの妥当性 (長さ, 存在, 安全性) を検証する
    def check_parent_reference(self, parent: str) -> tuple[bool, str]:
        """親参照を検証 (v2.4: パス長制限追加)
>>>>>>> REPLACE
```

```python
<<<<<<< SEARCH
    # PURPOSE: ファイル内の関数・クラス定義から Purpose コメントを抽出・検証する
    def check_functions_in_file(self, path: Path) -> List[FunctionProof]:
        """ファイル内の関数・クラスの Purpose をチェック (v2.5)"""
=======
    # PURPOSE: ファイル内の関数・クラス定義から Purpose コメントを抽出・検証する
    def check_file_functions(self, path: Path) -> List[FunctionProof]:
        """ファイル内の関数・クラスの Purpose をチェック (v2.5)"""
>>>>>>> REPLACE
```

```python
<<<<<<< SEARCH
    # PURPOSE: ファイル内の public 関数の型ヒント有無と 1文字変数を検出する (L3 Akribeia)
    def check_variables_in_file(self, path: Path) -> List[VariableProof]:
        """ファイル内の変数・字句を精密検証 (v3.0 L3 Surface)"""
=======
    # PURPOSE: ファイル内の public 関数の型ヒント有無と 1文字変数を検出する (L3 Akribeia)
    def check_file_variables(self, path: Path) -> List[VariableProof]:
        """ファイル内の変数・字句を精密検証 (v3.0 L3 Surface)"""
>>>>>>> REPLACE
```

```python
<<<<<<< SEARCH
    # PURPOSE: 解析されたレベルが有効範囲内であることを検証する
    def _validate_level(self, level: ProofLevel) -> tuple[bool, str]:
        """レベルを検証 (v3.0: L0追加)"""
=======
    # PURPOSE: 解析されたレベルが有効範囲内であることを検証する
    def _check_level_validity(self, level: ProofLevel) -> tuple[bool, str]:
        """レベルを検証 (v3.0: L0追加)"""
>>>>>>> REPLACE
```
