# コード/コメント矛盾検出者 レビュー

## 対象ファイル
`mekhane/dendron/models.py`

## 判定
発言（要改善）

## 発見事項
- **[High] `ProofLevel` の docstring と実定義の乖離**:
    - Docstring は「検証対象の粒度 (ファイル/関数/変数)」を説明しているが、実際の Enum 値とコメントは「アーキテクチャ上の重要度 (定理/インフラ/詳細)」を表している。
    - L1: Docstring "ファイル" vs Code "定理 / 本質"
    - L2: Docstring "関数・クラス" vs Code "インフラ / 動機"
    - `mekhane/dendron/README.md` の定義とも矛盾している。
    - **提案修正**:
      ```python
      class ProofLevel(Enum):
          """PROOF レベル (Depth Layer)

          マトリクス構造の「深さ」軸:
          - L0: ディレクトリ (Kairos - 文脈)
          - L1: 定理 (Ousia/Schema - 本質)
          - L2: インフラ (Hormē/Perigraphē - 動機)
          - L3: 詳細 (Akribeia - 精密)
          """
      ```

- **[Medium] `CheckResult.is_passing` の Purpose コメントと実装の乖離**:
    - コメント: `(Phase 1: 警告のみ)`
    - 実装: `return self.files_missing_proof == 0 ...` (証明欠落があれば False を返す = エラーになる)
    - "警告のみ" は関数単位の Purpose チェック（実装内のコメント参照）を指していると思われるが、メソッド自体の説明として誤解を招く。
    - **提案修正**: コメントを `(Phase 1: ファイル証明は必須、関数証明は警告のみ)` のように修正する。

- **[Low] `CheckResult.level_stats` のコメント不足**:
    - コメント: `# L1/L2/L3 統計`
    - 実装: `L0` も含まれる (`VALID_LEVEL_PREFIXES` に `L0` があり、`ProofLevel.L0` も定義されている)。
    - **提案修正**: `# L0/L1/L2/L3 統計`

## 重大度
High
