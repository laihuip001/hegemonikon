# コード/コメント矛盾検出者 レビュー

## 対象ファイル
`mekhane/api/server.py`

## 判定
発言（要改善）

## 発見事項
- `_register_routers`: docstring に `Args` セクションがなく、引数 `app` の説明が欠落している (High)
  - 提案:
    ```python
    def _register_routers(app: FastAPI) -> None:
        """
        各ルートモジュールのルーターを登録する。

        Args:
            app (FastAPI): ルーターを登録する FastAPI アプリケーションインスタンス
        """
    ```
- `_cleanup_stale_socket`: docstring に `Args` セクションがなく、引数 `uds_path` の説明が欠落している (High)
  - 提案:
    ```python
    def _cleanup_stale_socket(uds_path: str) -> None:
        """
        前回のクラッシュで残ったソケットファイルを削除する。

        Args:
            uds_path (str): Unix Domain Socket のファイルパス
        """
    ```
- `_cleanup_stale_socket`: `sys.exit(1)` を呼び出す可能性があるが、docstring に `Raises` またはその旨の記述がない (Medium)
  - 提案:
    ```python
    """
    ...
    Raises:
        SystemExit: 指定されたパスがソケットでない場合、または削除に失敗した場合 (exit code 1)
    """
    ```
- `main`: docstring に `Returns` セクションがなく、戻り値 `int` (終了コード) の説明が欠落している (High)
  - 提案:
    ```python
    def main() -> int:
        """
        サーバーを起動する。

        Returns:
            int: 終了コード (常に 0)
        """
    ```
- `create_app`: docstring に `Returns` セクションがなく、戻り値 `FastAPI` の説明が明示されていない (High)
  - 提案:
    ```python
    def create_app() -> FastAPI:
        """
        FastAPI インスタンスを生成し、ルーターを登録する。

        Returns:
            FastAPI: 生成された FastAPI アプリケーション
        """
    ```

## 重大度
High
