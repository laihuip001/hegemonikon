# リソースリーク検出者 レビュー

## 対象ファイル
`mekhane/symploke/jules_client.py`

## 発見事項
- **コンテキストマネージャーの再入によるセッションリーク**: `__aenter__` メソッドにおいて、`self._owned_session` が既に存在する場合でも確認せずに新しい `ClientSession` で上書きしています。これにより、ネストされた `async with` ブロックや同一インスタンスでの再入時に、古いセッションがクローズされずに参照を失い、リソースリーク（Unclosed client session）が発生します。
- **暗黙的なセッション生成によるポート枯渇リスク**: コンテキストマネージャーを使用せずにクライアントを利用する場合（例: `create_and_poll` の直接呼び出し）、`_request` メソッドがリクエスト毎に新しい `ClientSession` を生成・破棄します。高頻度なポーリング（5秒間隔）やバッチ処理（`batch_execute`）において、短期間に多数のTCP接続が生成され、TIME_WAIT状態のソケットが蓄積し、システムのリソース（エフェメラルポート）が枯渇する恐れがあります。
- **例外発生時の引数不足**: `poll_session` メソッド内で `UnknownStateError` を送出する際、必須引数である `session_id` が渡されていません。これにより `TypeError` が発生し、本来のエラー情報が隠蔽される可能性があります。

## 重大度
- High

## 沈黙判定
- 発言（要改善）
