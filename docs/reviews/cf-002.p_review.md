# 暗黙契約違反検出者 レビュー

## 対象ファイル
`mekhane/fep/tests/test_attractor_advisor.py`

## 判定
発言（要改善）

## 発見事項
- **High**: `mekhane.fep.attractor_advisor.Recommendation` データクラスにフィールド (`cognitive_types`, `boundary_crossings`, `pw_suggestion`, `knowledge_context`) が追加されたが、テスト内の検証ロジック (`TestAttractorAdvisor.test_recommend_clear` 等) がこれらを認識・検証していない。
- **Medium**: `AttractorAdvisor.format_for_llm` の出力フォーマットに新しいセクション (`[CognitiveType]`, `[Boundary]`, `[PW boost]`, `[Knowledge]`) が追加されたが、テスト (`test_format_for_llm_clear` 等) が旧来の形式 (`[Attractor]`, `[FEP]`) のみを確認しており、仕様変更に追従していない。

## 重大度
High
