# 暗黙契約違反検出者 レビュー

## 対象ファイル
`mekhane/api/server.py`

## 判定
発言（要改善）

## 発見事項
- `mekhane/api/routes/gnosis_narrator.py` (server.py の依存モジュール) が `PKSEngine.search()` を呼び出しているが、`mekhane/pks/pks_engine.py` の `PKSEngine` クラスには `search` メソッドが存在しない（`search_and_push` のみ）。 (Critical)
- `mekhane/api/routes/gnosis_narrator.py` が `KnowledgeNugget` を属性アクセス（`n.title`）で扱っているが、もし `PKSEngine` の実装が変更されて辞書を返すようになった場合、契約違反となる（現在は `KnowledgeNugget` オブジェクトを返すためセーフだが、メソッド不一致があるため検証不能）。 (High)

## 重大度
Critical
