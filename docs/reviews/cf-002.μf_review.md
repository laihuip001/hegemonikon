# 暗黙契約違反検出者 レビュー

## 対象ファイル
`hermeneus/src/dispatch.py`

## 判定
発言（要改善）

## 発見事項
- **Critical**: `extract_workflows` 関数が `hermeneus/src/ast.py` で定義され `hermeneus/src/parser.py` で生成される `ForLoop`, `IfCondition`, `WhileLoop`, `Lambda` ノードを処理していません。これにより、これらの制御構造内部にあるワークフロー ID が抽出されず、実行計画テンプレートに欠落します。
- **High**: `format_ast_tree` 関数が `ForLoop`, `IfCondition`, `WhileLoop`, `Lambda` ノードの構造表示に対応していません。これらは `else` 節で `repr()` 表示にフォールバックされますが、インデントされたツリー構造としては表示されません。
- **Medium**: `OpType.DESCEND` (`√`) が `hermeneus/src/ast.py` で定義されていますが、`format_ast_tree` 内の `ops_map` に欠落しています。将来的にこの演算子が使用された場合、空文字列として表示されます。

## 重大度
Critical
