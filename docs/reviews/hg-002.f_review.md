# 予測誤差審問官 レビュー

## 対象ファイル
`hermeneus/src/dispatch.py`

## 判定
発言（要改善）

## 発見事項
- **`dispatch` 関数の例外発生が予測不能 (High)**
  - `parser.parse` の例外は捕捉されるが、`format_ast_tree` や `extract_workflows` での例外（属性エラー等）は捕捉されず伝播する。呼び出し元にとって「失敗時は辞書を返す」のか「例外を送出する」のかが予測不能。
- **`dispatch` 関数の戻り値型が `dict` で予測困難 (Medium)**
  - 戻り値の辞書キー (`success`, `ast`, `tree` 等) がシグネチャから読み取れず、呼び出し元での型安全性が低い。
- **`format_ast_tree`, `extract_workflows` の引数 `node` の型が不明 (Medium)**
  - 引数 `node` に型ヒントがなく、どのようなオブジェクトを受け入れるかが不明瞭。内部で `isinstance` チェックを行っているが、シグネチャからは読み取れない。
- **`extract_workflows` の戻り値のリスト内容が不明 (Low)**
  - 戻り値が `list` とだけ定義されており、中身が文字列 (ID) であることがシグネチャから読み取れない。

## 重大度
High
