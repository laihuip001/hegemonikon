# 予測誤差審問官 レビュー

## 対象ファイル
`mekhane/fep/tests/test_attractor_advisor.py`

## 判定
発言（要改善）

## 発見事項
- **シグネチャと実装の乖離 (Medium)**: `test_negative_confidence_modifier` および `test_positive_morphisms` メソッドは引数として `attractor` を要求しているが、関数本体では使用していない。不要な依存関係の注入は、関数の意図（シグネチャ）の予測性を低下させる。
- **プライベートAPIへの隠蔽された依存 (Medium)**: 上記テストメソッド内で `mekhane.fep.attractor` から `_build_diagnosis`（プライベート関数）をローカルインポートしている。テストの依存関係がシグネチャやモジュールレベルで不明瞭であり、内部実装変更による予測困難な副作用（テスト破損）のリスクがある。
- **暗黙の状態共有 (Medium)**: `advisor` および `attractor` フィクスチャが `scope="module"` に設定されている。テストケース間でインスタンスが共有されるため、対象クラスが内部状態を持つ場合、テスト実行順序による予測不能な副作用（状態汚染）が発生するリスクがある。デフォルトの `scope="function"` (分離) が望ましい。

## 重大度
Medium
