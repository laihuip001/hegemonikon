# ワークフロー適合審査官 レビュー

## 対象ファイル
`mekhane/dendron/checker.py`

## 判定
発言（要改善）

## 発見事項
- **ワークフロー定義の検証機能の欠落**: 現在の `checker.py` は `.py` ファイルのコード品質（PROOFヘッダー、Purposeコメント等）のみを検証しており、`.agent/workflows/` 配下のワークフロー定義ファイル（`.md`）を対象としていません。
- **フロントマターのdescription欠如チェック未実装**: ワークフローの必須要件である `description` フロントマターの有無を検証するロジックが存在しません。
- **循環参照チェック未実装**: ワークフロー間の依存関係を解析し、循環参照を検出する機能が実装されていません。重大な設計違反を見逃すリスクがあります。
- **派生モード定義の未検証**: ワークフロー内で定義される派生モード（`+`, `-`, `*`）が規定通り定義されているか検証するロジックが欠けています。

## 重大度
High

## 修正提案
`checker.py` または新規モジュールに以下の機能を追加することを推奨します。

1. **ワークフローファイルの収集**: `.agent/workflows/` 配下の `.md` ファイルをスキャン対象に追加。
2. **フロントマター解析**: `python-frontmatter` 等を用いてYAMLフロントマターを解析し、`description` キーの必須チェックを実装。
3. **参照グラフ構築と閉路検出**: ファイル内のリンク（`[Link](path)`）を抽出し、有向グラフを構築して閉路（循環参照）を検出するロジックを追加。
4. **派生モード検証**: フロントマター内の `derivatives` または `cognitive_algebra` セクションを解析し、`+`, `-`, `*` の定義を確認。
