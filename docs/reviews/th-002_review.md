# 信念状態一貫性評価者 レビュー

## 対象ファイル
`mekhane/symploke/jules_client.py`

## 発見事項
- **セッションライフサイクルの不整合**: `async with` によるコンテキストマネージャ使用時はコネクションプーリングが有効だが、単発メソッド（`_request`）では呼び出しごとにセッション生成・破棄が行われる実装になっており、「Pooling Enabled」というドキュメント上の信念と実態が乖離している。また、`_session` プロパティはアクセスごとに新規セッションを生成する不適切な実装となっている。
- **並行性制御の競合**: `batch_execute` メソッドは `asyncio.Semaphore` による並行数制御を持つが、`synedrion_review` メソッド内では手動によるバッチ分割（チャンク化）が行われている。これらは競合する制御方針であり、実装者間の暗黙的前提（セマフォを信じるか、手動制御を信じるか）が統一されていない。
- **成功定義の不整合**: `JulesResult.is_success` プロパティは、API呼び出し自体が成功すればセッションステータスが `FAILED` であっても `True` を返す。これは「タスクが成功した」と信じる利用者の期待を裏切る実装である。
- **リトライ戦略の不統一**: `with_retry` デコレータによる即時リトライと、`poll_session` 内の長時間待機型バックオフが混在しており、エラー処理に対する信念が一貫していない。また、`poll_session` が `with_retry` 付きの `get_session` を呼ぶことで、リトライが多重化（スタッタリング）している。
- **リファクタリングによるコード破壊（重大な不整合）**: `create_session` における `source` 引数、`_request` における `json` 引数、`poll_session` における `UnknownStateError` の `session_id` 引数が、「自己代入の削除」という名目のもと削除されている。これは「コードは動作可能な状態でコミットされる」という最も基本的な暗黙的前提を侵害しており、実行時エラー（TypeError）を招く。
- **レイヤー違反**: インフラ層の `JulesClient` がドメイン層の `mekhane.ergasterion.synedrion` に依存しており、アーキテクチャ上の責務境界に関する信念が守られていない。

## 重大度
- Critical

## 沈黙判定
- 発言（要改善）
