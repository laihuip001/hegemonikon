# Synedrion é–‹ç™ºãƒ—ãƒ­ãƒˆã‚³ãƒ«é©ç”¨è¨ˆç”»

> **/dev ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼é©ç”¨çµæœ**
>
> å¯¾è±¡: Synedrion (866äººå°‚é–€å®¶ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚·ã‚¹ãƒ†ãƒ )

---

## é©ç”¨ãƒ—ãƒ­ãƒˆã‚³ãƒ«ä¸€è¦§

| # | ãƒ—ãƒ­ãƒˆã‚³ãƒ« | å„ªå…ˆåº¦ | çŠ¶æ…‹ |
|---|-----------|--------|------|
| 04 | TDD Enforcement | ğŸ”´ CRITICAL | â³ æœªç€æ‰‹ |
| 06 | Complexity Budget | ğŸŸ  RECOMMENDED | â³ æœªç€æ‰‹ |
| 07 | Devil's Advocate | ğŸŸ  RECOMMENDED | â³ æœªç€æ‰‹ |
| 11 | Red Teaming | ğŸŸ  RECOMMENDED | â³ æœªç€æ‰‹ |
| 17 | Structured Logging | ğŸŸ¡ OPTIONAL | â³ æœªç€æ‰‹ |

---

## 04 TDD Enforcement

### å¯¾è±¡

- `mekhane/symploke/run_specialists.py`
- `mekhane/symploke/specialist_prompts.py`

### å¿…è¦ãƒ†ã‚¹ãƒˆ

```python
# tests/test_synedrion.py

def test_get_all_specialists_count():
    """866äººã®å°‚é–€å®¶ãŒæ­£ç¢ºã«èª­ã¿è¾¼ã¾ã‚Œã‚‹"""
    assert len(get_all_specialists()) == 866

def test_generate_prompt_structure():
    """ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”ŸæˆãŒæ­£ã—ã„ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ"""
    prompt = generate_prompt(CL_001, "target.py")
    assert "å°‚é–€å®¶ãƒ¬ãƒ“ãƒ¥ãƒ¼" in prompt
    assert "target.py" in prompt

def test_api_key_rotation():
    """APIã‚­ãƒ¼ãŒæ­£ã—ããƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã•ã‚Œã‚‹"""
    # 9ã‚­ãƒ¼ã§30ãƒªã‚¯ã‚¨ã‚¹ãƒˆ â†’ å„ã‚­ãƒ¼3-4å›ä½¿ç”¨

def test_retry_logic():
    """å¤±æ•—æ™‚ã®å†è©¦è¡Œãƒ­ã‚¸ãƒƒã‚¯"""
    # CL-002, CL-003 å•é¡Œå¯¾ç­–
```

---

## 06 Complexity Budget

### ç¾åœ¨ã®è¤‡é›‘åº¦

| ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« | è¡Œæ•° | è¤‡é›‘åº¦ | ä¸Šé™ |
|-----------|------|--------|------|
| `specialist_prompts.py` | ~240 | ä¸­ | âœ… OK |
| `phase0_specialists.py` | ~300 | ä½ | âœ… OK |
| `phase2_specialists.py` | ~170 | ä½ | âœ… OK |
| `phase3_specialists.py` | ~400 | ä¸­ | âœ… OK |
| `run_specialists.py` | ~224 | é«˜ | âš ï¸ åˆ†å‰²æ¤œè¨ |

### æ¨å¥¨ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°

- `run_specialists.py` ã‚’åˆ†å‰²:
  - `session_manager.py` (ã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆ)
  - `result_processor.py` (çµæœå‡¦ç†)
  - `cli.py` (CLIã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹)

---

## 07 Devil's Advocate

### ã€Œæ²ˆé»™=å“è³ªã€ã¸ã®åè«–

| åè«– | å¯¾å¿œ |
|------|------|
| æ²ˆé»™ã¯è¦‹è½ã¨ã—ã‹ã‚‚ã—ã‚Œãªã„ | å°‚é–€å®¶ã‚«ãƒãƒ¬ãƒƒã‚¸ç›£è¦–ã‚’è¿½åŠ  |
| APIã‚¨ãƒ©ãƒ¼ã§æ²ˆé»™ã«ãªã‚‹ | ã‚¨ãƒ©ãƒ¼ vs æ²ˆé»™ã‚’æ˜ç¢ºã«åŒºåˆ¥ |
| 866äººã¯éå‰°ã§ã¯ï¼Ÿ | æ®µéšçš„æœ‰åŠ¹åŒ–ã§åŠ¹æœæ¸¬å®š |
| å°‚é–€å®¶é–“ã®çŸ›ç›¾ã¯ï¼Ÿ | çŸ›ç›¾æ¤œå‡ºãƒ»èª¿åœãƒ­ã‚¸ãƒƒã‚¯è¿½åŠ  |

### å®Ÿè£…å„ªå…ˆåº¦

1. ã‚¨ãƒ©ãƒ¼ vs æ²ˆé»™ã®åŒºåˆ¥ (ğŸ”´ CRITICAL)
2. ã‚«ãƒãƒ¬ãƒƒã‚¸ç›£è¦– (ğŸŸ  RECOMMENDED)
3. çŸ›ç›¾èª¿åœ (ğŸŸ¡ OPTIONAL)

---

## 11 Red Teaming

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„…å¨

| è„…å¨ | å½±éŸ¿ | å¯¾ç­– |
|------|------|------|
| APIã‚­ãƒ¼æ¼æ´© | é«˜ | `.env.jules` ã‚’ `.gitignore` ã«è¿½åŠ  âœ… |
| ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ | ä¸­ | å°‚é–€å®¶å®šç¾©ã®ã‚µãƒ‹ã‚¿ã‚¤ã‚º |
| éå‰°APIå‘¼ã³å‡ºã— | ä¸­ | ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã®å®Ÿè£… |
| çµæœæ”¹ã–ã‚“ | ä½ | ãƒãƒƒã‚·ãƒ¥æ¤œè¨¼è¿½åŠ  |

### ç¢ºèªäº‹é …

- [ ] `.env.jules` ãŒ Git ã«å«ã¾ã‚Œã¦ã„ãªã„ã“ã¨
- [ ] GitHub Secrets ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã“ã¨
- [ ] APIå‘¼ã³å‡ºã—ãƒ­ã‚°ãŒè¨˜éŒ²ã•ã‚Œã¦ã„ã‚‹ã“ã¨

---

## 17 Structured Logging

### ãƒ­ã‚°ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

```json
{
  "timestamp": "2026-01-28T10:41:01Z",
  "level": "INFO",
  "event": "session_created",
  "specialist_id": "CL-001",
  "session_id": "4387388215474907937",
  "api_key_index": 1,
  "duration_ms": 230
}
```

### ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«

| ãƒ¬ãƒ™ãƒ« | ç”¨é€” |
|--------|------|
| ERROR | APIå¤±æ•—ã€ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ |
| WARN | å†è©¦è¡Œã€ãƒ¬ãƒ¼ãƒˆåˆ¶é™æ¥è¿‘ |
| INFO | ã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆã€å®Œäº† |
| DEBUG | ãƒªã‚¯ã‚¨ã‚¹ãƒˆè©³ç´° |

---

## å®Ÿæ–½è¨ˆç”»

| é€± | ã‚¿ã‚¹ã‚¯ | æ‹…å½“ |
|----|--------|------|
| W1 | TDD ãƒ†ã‚¹ãƒˆè¿½åŠ  | Claude |
| W1 | Red Teaming ç¢ºèª | Claude |
| W2 | Devil's Advocate å¯¾ç­– | Claude |
| W3 | Structured Logging | Jules |
| W4 | Complexity åˆ†å‰² | Jules |

---

*ä½œæˆæ—¥: 2026-01-28*
*ãƒ—ãƒ­ãƒˆã‚³ãƒ«å‚ç…§: /dev ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼*
