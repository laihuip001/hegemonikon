# prompt-lang: 中長期ビジョン

> **ステータス**: 構想段階（Phase 2以降）
> **優先度**: 「すごいもの」欲求 / 垂直統合欲求
> **前提条件**: Phase 1（Forge基盤）完了後

---

## コンセプト

プロンプトエンジニアリングを**プログラミング言語**として形式化する。

```prompt-lang
@system {
  role: "Senior Customer Support Agent";
  constraints: [no_fabrication, empathetic_tone, max_tokens(150)];
}

@archetype precision {
  win_condition: error_rate < 0.01;
  sacrifice: speed;
}

@thinking {
  step analyze: "顧客の感情状態を判定";
  step strategize: "解決策を選定";
  step draft: "回答を構築";
}

@examples {
  positive: {
    input: "商品が届きません";
    output: "ご不便をおかけし申し訳ございません...";
  }
  negative: {
    input: "商品が届きません";
    output: "配送会社に問い合わせてください";
  }
}

@output {
  format: "挨拶 + 共感 + 解決策 + 次のステップ";
  max_tokens: 150;
}
```

---

## 工数見積もり

| フェーズ | 内容 | 工数 |
|---|---|---|
| **Phase A: 構文設計** | BNF/PEG文法定義、キーワード決定 | 2-3日 |
| **Phase B: パーサー** | Python/JSでパーサー実装 | 3-5日 |
| **Phase C: トランスパイラ** | prompt-lang → XML/YAML変換 | 2-3日 |
| **Phase D: VSCode拡張** | シンタックスハイライト、補完 | 2-3日 |
| **Phase E: Jules統合** | JulesにDSLを認識させる | 1-2日 |
| **Phase F: ドキュメント** | 仕様書、チュートリアル | 2-3日 |

**合計: 12-19日（約2-3週間）**

---

## メリット/デメリット分析

### メリット

| カテゴリ | 詳細 |
|---|---|
| **構造強制** | 曖昧さを構文レベルで排除。@archetype必須など |
| **バリデーション** | 構文エラーを事前検出（XMLより厳密） |
| **IDE支援** | 補完、型チェック、リファクタリング |
| **再利用性** | importによるモジュール化、継承 |
| **差別化** | Note公開、ポートフォリオとして価値大 |
| **知的満足** | 「すごいもの」欲求を満たす |

### デメリット

| カテゴリ | 詳細 |
|---|---|
| **学習コスト** | 自分以外が使う場合、新言語の学習が必要 |
| **保守負担** | 言語仕様の維持、バグ修正 |
| **YAGNI** | 現時点ではXML/Markdownで十分動作する |
| **工数** | 2-3週間は他のタスクからリソースを奪う |

---

## ROI分析

| シナリオ | 投資 | リターン |
|---|---|---|
| **自分だけで使う** | 2-3週間 | IDE補完による生産性向上（+20%?） |
| **Note公開** | +1週間（ドキュメント） | 技術者ブランディング、被リンク |
| **OSS化** | +2週間（コミュニティ対応） | エンジニア採用時のアピール材料 |
| **有料販売** | +3週間（サポート体制） | 月額数千円の副収入？ |

---

## 実行条件

以下が満たされた場合に着手:

1. **Forge Phase 1が完了**（library/ 16テンプレート充填済み）
2. **XMLベースの運用が2週間以上継続**（実需の確認）
3. **prompt-langで解決したい具体的痛みが3つ以上**

---

## フェーズ計画（中長期）

```
2026-01 ─┬─ Phase 1: Forge基盤（現在）
         │
2026-02 ─┼─ Phase 1完了、運用開始
         │
2026-03 ─┼─ prompt-lang構文設計（Phase A）
         │
2026-04 ─┴─ パーサー・VSCode拡張（Phase B-D）
```

---

## 次のアクション（保留）

- [ ] 構文設計のスケッチ（1時間で概念検証）
- [ ] 既存DSL（Terraform HCL, GraphQL SDL）の調査
- [ ] Note記事「PE言語を作る構想」のドラフト
