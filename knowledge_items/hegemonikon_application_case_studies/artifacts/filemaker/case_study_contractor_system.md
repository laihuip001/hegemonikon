# Case Study: Contractor Request Management System

Application of Hegemonikón to a specific FileMaker project.

## 1. Project Context

- **Name**: 取引先システムの修正・要望管理システムの構成 (Contractor System Modification/Request Management)
- **Source**: Excel specifications provided via `/home/makaron8426/仕事用/`
  - `取引先システムの修正・要望管理システムの構成.xlsx`
  - `テスト仕様.xlsx`
- **Stakeholders**: Senior (Director), AI (Developer), Creator (Lead Architect)

## 2. Hegemonikón Assessment (Theorem Audit)

The project is evaluated using the **24 Theorems (6 Series)** framework:

- **Ousia (Origin)**:程序 logic is mapped from Excel `pandas` analysis to a normalized relational schema.
- **Akribeia (Precision)**: Validation rules for "Status" and "Deadline" are defined to ensure metadata integrity.
- **Kairos (Purpose)**: The UI is designed to minimize clicks for the most frequent operation (recording a new request).
- **Schema (Efficiency)**: Logic for the "Drill-down" navigation is calculated for optimal FileMaker indexing.

### 2.1. /zet (探求) Results

The initial instructions provide the "Concept" (構想) as an example.

- **Friction Point**: The transition from Excel-based management to a database system often risks "flat-file thinking" (spreadsheet mentality).
- **Tooling Solution**: Installed `python3-pandas` and `python3-openpyxl` on the local Debian host to automate the ingestion and analysis of complex Excel relationships. This allows for programmatic `Noesis` (recognition of schema) from static files.
- **Abduction**: The Senior's expectation is high because they noticed the Creator's deep understanding in previous responses.

### 2.2. /noe (認識) Strategy

- **Data Normalization**: Translating the Excel sheets into organized FM tables:
  - *Requests*: Individual items for modification.
  - *Contractors*: Source of the request.
  - *Status/Logs*: Chronological progress (Chronos).
- **Zero Design**: Ensure the system handles both modification requests and "General Inquiries" or "Status Tracking" without creating separate siloed tables.

## 3. QA and Review (/dia)

Before implementation, a `/dia` session should be run to verify:

1. **Authorization**: Who can see what? (Security Layer)
2. **Notification Flow**: Does the contractor get an update when a status changes?
3. **Ambiguity in Specs**: "Can I make this based on the provided files alone?" (If not, ask the Senior).

## 4. Implementation Plan

A detailed plan was generated based on the senior's specifications.

### 4.1. Table Structure

- **System**: Global fields for search and state.
- **Contractors (会社一覧)**: Master record for clients.
- **Systems (システム一覧)**: Systems per contractor.
- **Function Hierarchy**: L1 (Major), L2 (Middle), L3 (Minor) function tables.
- **Requests & Modifications (修正・要望)**: The core table for tracking.
- **History (履歴)**: Modification and Function history logs.

### 4.2. UI Design (IDE-Centered Logic)

- **Navigation**: Dual-pane layout for contractors (List/Detail) with "Drill-down" to systems.
- **Selection**: Cascading value lists (Contractor → System → Function hierarchy) implemented via ID-based relations.
- **Sorting**: Priority-based sorting (Status: "To-Do" at the top).

### 4.3. Data Strategy

- **Ingestion**: Initial data from `テスト仕様.xlsx` and images were analyzed using `pandas` to ensure zero-loss transfer of the established field definitions.

## 5. Continuity Strategy

- **Sync & Tracking**:
  - **GitHub**: Private repository [laihuip001/work-filemaker](https://github.com/laihuip001/work-filemaker) established as the design-to-implementation bridge.
  - **IDE Sync**: Git-based version control for design docs Ensures identical state between Debian and Win11.
- **Export Target**:
  - **MD Design**: Detailed script steps and UI mocks for human implementation.
  - **Add-on Package**: Verified capability (2026-02-04) to programmatically generate `.fmaddon` packages on Linux using `xar`. Structural metadata (Tables, Fields, Scripts) can be injected into the `payload.json`.
  - **Simulated Data**: Abstract CSV/JSON test sets generated by Python for logic verification before FileMaker Go-Live.
