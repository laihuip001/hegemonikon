# Visual AI Engineering: Structural Prompting SOP

This document outlines the specialized techniques for maximizing the accuracy and realism of visual outputs generated by Gemini/Imagen, with a focus on reproducing actual software interfaces (e.g., FileMaker Pro) and professional infographics.

## 1. Core Principles of Precision

The fidelity of the generated image is a function of three primary factors:

```text
Precision = f(Prompt Specificity, Structural Clarity, Style Modifiers)
```

| Factor | Low Precision | High Precision |
| :--- | :--- | :--- |
| **Specificity** | \"Create a UI\" | \"FileMaker Pro 2024 Windows 11 interface\" |
| **Structure** | \"Put some buttons\" | \"TITLE BAR -> MENU BAR -> TOOLBAR -> CONTENT\" |
| **Style** | \"Make it look clean\" | \"Photorealistic screenshot, NOT a mockup\" |

## 2. The Chain-Store Manual Concept (チェーン店のマニュアル)

For UI-related tasks, the highest level of precision is the \"Chain-Store Manual\". This level of documentation leaves **zero room for subjective interpretation**.

* **Requirements**:
  * **Mandatory Images**: Every UI step MUST include at least one (often multiple) high-fidelity images.
  * **Absolute Coordinates**: All objects must be specified in `pt` or `px`.
  * **Exact Coloration**: Use HEX codes (`#RRGGBB`).
  * **Font Specificity**: Exact Font Family, Size, and Weight.
  * **Zero Hallucination**: AI-generated UI evidence (Banana-kun) must strictly follow the *actual* software interface to prevent \"Complement Error\" (補完誤差) during implementation.

## 3. Structural Templates

### 2.1 Software Interface Reproduction

To reproduce an actual software window, describe it layer by layer from top to bottom.

**Template**:

1. **TITLE BAR**: Exact text and window controls (minimize/maximize/close).
2. **MENU BAR**: Exact order of menu items (e.g., File | Edit | View).
3. **TOOLBAR**: List specific icons and text labels.
4. **SUB-TOOLBAR / LAYOUT BAR**: Specific dropdowns or mode buttons.
5. **MAIN CONTENT AREA**: Divide into specific sections (e.g., Top Header, Left 40% Portal, Right 60% Details).
6. **FOOTER**: Status bar or persistent navigation.

**Style Keywords**: `Photorealistic [OS] application screenshot`, `Exact [Software] interface`, `NOT a mockup`, `Muted colors typical of Windows/macOS`.

### 2.2 Workflow Infographics

**Template**:

1. **TITLE**: Clear Japanese/English heading.
2. **TIMELINE/FLOW**: Number of steps with specific icons and timeframes.
3. **STEP DETAILS**: Title and bullet points for each step.
4. **DESIGN**: `Clean, minimalist Japanese infographic`, `Professional business document style`.

## 3. Advanced Engineering Techniques

### 3.1 Text Rendering Optimization

* **Constraint**: For Imagen-based models, text rendering is most reliable when kept under **25 characters**.
* **Strategy**:
  * **Short Labels (<=5 chars)**: Direct Japanese instructions.
  * **Medium Labels (6-15 chars)**: English instructions or post-generation manual editing.
  * **Long Text**: Generate without text and add via image editing.

### 3.2 Repetition and Negation (Constraint Enforcement)

* **Critical Constraint Repetition**: For long prompts, repeat the most important instruction (e.g., "NOT A MOCKUP") at both the start and end of the prompt.
* **Negative Prompting**: Explicitly forbid undesired elements: `DO NOT include: device frames, laptops, watermarks, blurry areas`.

### 3.3 Weighted Style Blending

Guide the aesthetic by specifying proportional influences:

* "60% photorealistic software screenshot"
* "30% business document aesthetic"
* "10% modern minimalist design"

## 4. Failure Modes & Mitigations

| Failure | Root Cause | Mitigation |
| :--- | :--- | :--- |
| **Garbled Text** | Overly long strings | Limit to 25 chars; use short labels. |
| **"Mockup" Hallucination** | Default AI training biases | Explicitly negate "mockup/design" and specify "actual screenshot". |
| **Structural Collapse** | Vague layout descriptions | Use numbered lists to define window hierarchy. |
| **Over-Saturated Colors** | Missing palette guidance | Specify "muted colors" or "corporate palette". |
