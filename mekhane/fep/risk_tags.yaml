# HegemonikÃ³n Risk Tag System
# ãƒªã‚¹ã‚¯ã‚¿ã‚°ä½“ç³»å®šç¾© v1.0
# Origin: Recoverable Autonomy ãƒ‘ã‚¿ãƒ¼ãƒ³ (2026-01-31)

version: "1.0"
created: "2026-01-31"
lineage: "/noe+ Recoverability > Autonomy â†’ /s- â†’ risk_tags.yaml"

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ãƒªã‚¹ã‚¯ãƒ¬ãƒ™ãƒ«å®šç¾©
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
levels:
  low:
    symbol: "ğŸŸ¢"
    name: "ä½ãƒªã‚¹ã‚¯"
    description: "å¯é€†ã€å½±éŸ¿å°ã€‚è‡ªå¾‹å®Ÿè¡Œå¯èƒ½"
    approval: none
    rollback: optional
    logging: minimal
    ccl_suffix: "?"  # /ene? ã§æ˜ç¤º
    
  medium:
    symbol: "ğŸŸ¡"
    name: "ä¸­ãƒªã‚¹ã‚¯"
    description: "å¯é€†ã€å½±éŸ¿ã‚ã‚Šã€‚è‡ªå¾‹å®Ÿè¡Œ + Doxaè¨˜éŒ²"
    approval: none
    rollback: recommended
    logging: full
    ccl_suffix: ""   # /ene (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ)
    
  high:
    symbol: "ğŸ”´"
    name: "é«˜ãƒªã‚¹ã‚¯"
    description: "ä¸å¯é€†/å½±éŸ¿å¤§ã€‚äº‹å‰æ‰¿èªå¿…é ˆ"
    approval: required
    rollback: mandatory
    logging: full_with_audit
    ccl_suffix: "!"  # /ene! ã§æ˜ç¤º

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# æ“ä½œåˆ†é¡ãƒãƒˆãƒªãƒƒã‚¯ã‚¹
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
operations:
  # ğŸŸ¢ ä½ãƒªã‚¹ã‚¯æ“ä½œ: è‡ªå¾‹å®Ÿè¡Œ
  low:
    - { name: "file_read", desc: "ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿å–ã‚Š" }
    - { name: "codebase_search", desc: "ã‚³ãƒ¼ãƒ‰æ¤œç´¢" }
    - { name: "grep_search", desc: "ãƒ†ã‚­ã‚¹ãƒˆæ¤œç´¢" }
    - { name: "view_file", desc: "ãƒ•ã‚¡ã‚¤ãƒ«è¡¨ç¤º" }
    - { name: "view_code_item", desc: "ã‚³ãƒ¼ãƒ‰ã‚¢ã‚¤ãƒ†ãƒ è¡¨ç¤º" }
    - { name: "list_dir", desc: "ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä¸€è¦§" }
    - { name: "find_by_name", desc: "ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢" }
    - { name: "view_file_outline", desc: "ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ è¡¨ç¤º" }
    - { name: "analysis", desc: "åˆ†æãƒ»è©•ä¾¡" }
    - { name: "search_web", desc: "Webæ¤œç´¢" }
    - { name: "read_url_content", desc: "URLèª­ã¿å–ã‚Š" }
    
  # ğŸŸ¡ ä¸­ãƒªã‚¹ã‚¯æ“ä½œ: è‡ªå¾‹ + Doxaè¨˜éŒ²
  medium:
    - { name: "file_edit", desc: "ãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†" }
    - { name: "file_create", desc: "ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ" }
    - { name: "replace_file_content", desc: "ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ç½®æ›" }
    - { name: "write_to_file", desc: "ãƒ•ã‚¡ã‚¤ãƒ«æ›¸ãè¾¼ã¿" }
    - { name: "git_commit", desc: "Gitã‚³ãƒŸãƒƒãƒˆ" }
    - { name: "git_branch", desc: "ãƒ–ãƒ©ãƒ³ãƒæ“ä½œ" }
    - { name: "run_command_safe", desc: "å®‰å…¨ãªã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ" }
    - { name: "browser_navigate", desc: "ãƒ–ãƒ©ã‚¦ã‚¶æ“ä½œ" }
    
  # ğŸ”´ é«˜ãƒªã‚¹ã‚¯æ“ä½œ: äº‹å‰æ‰¿èªå¿…é ˆ
  high:
    - { name: "file_delete", desc: "ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤", reason: "ä¸å¯é€†" }
    - { name: "git_push", desc: "Git ãƒ—ãƒƒã‚·ãƒ¥", reason: "å¤–éƒ¨å½±éŸ¿" }
    - { name: "git_force_push", desc: "å¼·åˆ¶ãƒ—ãƒƒã‚·ãƒ¥", reason: "å±¥æ­´æ”¹å¤‰" }
    - { name: "external_api_write", desc: "å¤–éƒ¨APIæ›¸ãè¾¼ã¿", reason: "å¤–éƒ¨å½±éŸ¿" }
    - { name: "deploy", desc: "ãƒ‡ãƒ—ãƒ­ã‚¤", reason: "æœ¬ç•ªå½±éŸ¿" }
    - { name: "database_write", desc: "DBæ›¸ãè¾¼ã¿", reason: "ãƒ‡ãƒ¼ã‚¿å½±éŸ¿" }
    - { name: "send_email", desc: "ãƒ¡ãƒ¼ãƒ«é€ä¿¡", reason: "å¤–éƒ¨é€šä¿¡" }
    - { name: "payment_action", desc: "æ±ºæ¸ˆæ“ä½œ", reason: "é‡‘éŠ­å½±éŸ¿" }
    - { name: "credential_modify", desc: "èªè¨¼æƒ…å ±å¤‰æ›´", reason: "ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£" }
    - { name: "system_config", desc: "ã‚·ã‚¹ãƒ†ãƒ è¨­å®šå¤‰æ›´", reason: "ç’°å¢ƒå½±éŸ¿" }

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼çµ±åˆãƒ«ãƒ¼ãƒ«
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
workflow_integration:
  # O4 Energeia (/ene) ã¸ã®çµ±åˆ
  o4_energeia:
    step: "STEP 0.5"
    name: "ãƒªã‚¹ã‚¯è©•ä¾¡"
    trigger: before_action
    logic: |
      1. æ“ä½œã‚’ operations ãƒãƒˆãƒªãƒƒã‚¯ã‚¹ã§æ¤œç´¢
      2. ãƒªã‚¹ã‚¯ãƒ¬ãƒ™ãƒ«ã‚’æ±ºå®š
      3. ãƒ¬ãƒ™ãƒ«ã«å¿œã˜ãŸå‡¦ç†ã‚’å®Ÿè¡Œ:
         - ğŸŸ¢ ä½: å³åº§ã«å®Ÿè¡Œ
         - ğŸŸ¡ ä¸­: Doxa ã«æ“ä½œã‚’è¨˜éŒ²å¾Œã€å®Ÿè¡Œ
         - ğŸ”´ é«˜: notify_user ã§æ‰¿èªã‚’è¦æ±‚

  # H4 Doxa ã¸ã®è¨˜éŒ²
  h4_doxa:
    record_fields:
      - operation
      - risk_level
      - timestamp
      - rationale
      - outcome

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ãƒ«ãƒ¼ãƒ«
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
overrides:
  # Creator ãŒæ˜ç¤ºçš„ã«ãƒªã‚¹ã‚¯ãƒ¬ãƒ™ãƒ«ã‚’å¤‰æ›´å¯èƒ½
  user_override: true
  
  # æ–‡è„ˆã«ã‚ˆã‚‹ãƒªã‚¹ã‚¯æ˜‡æ ¼
  context_escalation:
    - { condition: "production_environment", escalate_to: "high" }
    - { condition: "shared_repository", escalate_medium_to: "high" }
    - { condition: "sensitive_data", escalate_to: "high" }
  
  # å­¦ç¿’ã«ã‚ˆã‚‹èª¿æ•´
  doxa_learning:
    enabled: true
    confidence_threshold: 0.8
    min_samples: 10
