---
created: 2026-01-01T11:15:20 (UTC +09:00)
tags: []
source: https://ai-data-base.com/archives/99628
author: AIDB Research
---

# Cursorで開発者がAIに伝えるべき情報は5種類に分類できる 『正しいコード』を書かせるために必要なコンテキストとは - AIDB

> ## Excerpt
> 本記事では、AIコーディングアシスタントに対して開発者がどのような情報を提供しているのかを、大規模に分析した研究を紹介します。 CursorやGitHub CopilotなどのAIコーディングアシスタントは、現在、多くの開発現場で利用されています。そこで注目されているのが、Cursorが提供する「cursor rules」のようなルールファイルです。 今回は、cursor rulesを含む数百件の…

---
本記事では、AIコーディングアシスタントに対して開発者がどのような情報を提供しているのかを、大規模に分析した研究を紹介します。

CursorやGitHub CopilotなどのAIコーディングアシスタントは、現在、多くの開発現場で利用されています。そこで注目されているのが、Cursorが提供する「cursor rules」のようなルールファイルです。

今回は、cursor rulesを含む数百件のオープンソースリポジトリを分析した事例から、開発者がAIに伝えるべきだと考えているプロジェクトの文脈情報の全体像を明らかにしていきます。

![[Cursorで開発者がAIに伝えるべき情報は5種類に分類できる 『正しいコード』を書かせるために必要なコンテキストとは - AIDB/AIDB_99628-1024x576.png]]

## 背景

LLMの性能は、どのようなコンテキストが与えられるかによって大きく左右される、という前提があります。実際、LLMはプロンプトだけでなく、その前後にある文脈的な情報の影響を強く受けることが、これまでの多くの研究によって示されています。

この傾向は、ソフトウェア開発のように複雑な文脈が伴う場面で、より顕著に表れます。というのも、開発者が書くコードは単体で完結することはほとんどなく、既存のプロジェクト内に組み込まれる前提で書かれるのが一般的だからです。また、実際の開発現場では複数人が協力して作業を進めるため、コーディングスタイルや設計の方針、命名規則など、一定のルールを共有し、それに従う必要があります。こうしたルールを無視してしまうと、コードの読みやすさや保守のしやすさが損なわれてしまいます。

つまり、AIにコード生成を依頼する際には、単に「こういう機能を作ってほしい」と指示するだけでは不十分です。プロジェクトの構造やチーム独自のルールなど、背景にある情報もあわせて伝えることで、はじめて実用的なコードが得られるのです。

このような課題に対応するために、CursorをはじめとするAIコーディングアシスタントでは、プロジェクトに固有の方針や制約を開発者が記述できる「ルールファイル」の仕組みが導入されています。たとえばCursorでは、この機能を「cursor rules」と呼び、セッションをまたいでもAIに一貫した指示を与えられるようになっています。ただし、開発者が実際にどのような情報をルールファイルに書き込んでいるのかについては、これまで網羅的な調査は行われていませんでした。

そこで下記では、そうした「AIに与えるコンテキスト」の実態調査結果を取り上げます。

ここから限定コンテンツ

### **忙しい人向けに、重要なポイント5選**

1.  401のオープンソースリポジトリを分析した結果、開発者がAIコーディングアシスタントに提供するコンテキストは「プロジェクト情報」「規約」「ガイドライン」「LLM指示」「例示」の5カテゴリに分類される
2.  開発者が提供するコンテキストの約33%はガイドライン、約35%はプロジェクト情報であり、LLM固有の指示を含むリポジトリは全体の約50%にとどまる
3.  静的型付け言語のプロジェクトは提供コンテキスト量が少なく、動的型付け言語のJavaScriptやPHPでは多くのコンテキストが必要とされる傾向がある
4.  cursor rulesの約28.7%の行が他リポジトリやテンプレートからの重複であり、開発者はAIが何を知っているか不確かなまま非効率なコンテキスト提供を行っている
5.  新しく作成されたリポジトリほどLLM固有の指示を多く含む傾向があり、AIの能力と限界を理解した開発者がより効果的なルール記述を行っている

**参照文献情報**

-   タイトル：An Empirical Study of Developer-Provided Context for AI Coding Assistants in Open-Source Projects
-   URL：[https://doi.org/10.48550/arXiv.2512.18925](https://doi.org/10.48550/arXiv.2512.18925)
-   著者：Shaokang Jiang, Daye Nam
-   所属：University of California, Irvine

## コンテキストエンジニアリングの研究動向

LLMの出力をより良くするためには、どのようにコンテキストを設計すべきか。こうしたテーマを扱う分野は「コンテキストエンジニアリング」と呼ばれ、近年盛んに研究が進められています。代表的な手法としては、思考の流れを誘導するChain-of-Thought promptingや、外部の文書・データベースから関連情報を取得してプロンプトに組み込むRAGなどが挙げられます。

ソフトウェア開発の領域でも、同様のアプローチが試みられています。たとえば、テストケースをプロンプトに含めるとコード生成の精度が高まるという報告があります。ただし、これまでの多くの研究では、コード補完やコード要約といった、明確に定義されたタスクを対象としてきました。一方で、実際に開発者がIDE上でLLMをどのように使っているのかについては、まだ十分に解明されていないのが現状です。

### AIコーディングアシスタント向けルールファイルの登場

こうした状況を受けて、CursorやGitHub CopilotなどのAIコーディングアシスタントには、プロジェクトごとに指示を記述できるルールファイルの機能が取り入れられるようになりました。LLMは基本的にセッションをまたいで記憶を保持しないため、ルールファイルを活用することで、毎回同じ指示を繰り返す手間が省け、より一貫性のある応答を得ることが可能になります。

![[Cursorで開発者がAIに伝えるべき情報は5種類に分類できる 『正しいコード』を書かせるために必要なコンテキストとは - AIDB/AIDB_99628_2.png]]

cursor ruleの記述例　フロントエンドとAPIに関する規約

### ソフトウェア開発におけるドキュメンテーションとの関係

ソフトウェア開発ではもともと扱う情報が多く、チームでの連携が前提となっているため、情報を文書化して共有する文化が根付いています。たとえばAPIドキュメントやREADMEファイルなど、開発者間で理解を深めるためのドキュメントに関しては、すでに多く研究されています。しかし、AIに対してどのような情報をどう伝えるべきかという視点からの検討は、これまでほとんど行われてきませんでした。今回紹介する研究は、こうした未開拓の領域に対する最初の体系的な試みとして位置づけられています。

## 研究の方法

研究者らは、オープンソースリポジトリからcursor rulesを収集し、その内容を質的に分析する方法を取られました。

### データの収集と前処理

データ収集には、コード検索ツールであるSourcegraphが使われました。GitHub 上のスターが1つ以上付いた公開リポジトリをインデックス化しており、広く利用されているプロジェクトを効率よく検索できます。

cursor rulesに使われる「.mdc」という拡張子を含むファイルを持つリポジトリを検索し、フォークやアーカイブされたものを除いた結果、487件のリポジトリが抽出されました。そこからさらに、ファイルが削除されていたもの、英語以外で書かれていたもの、完全に同一の内容を持つもの、テンプレート集だけを含むものなどを除外し、最終的に401件のリポジトリが分析対象となりました。

### データセットの概要

分析対象となった401件のリポジトリは、2008年から2025年の間に作成されたもので、中央値は2023年でした。スター数の平均は約7,000にのぼり、比較的注目度の高いプロジェクトが多く含まれていました。使われていた主なプログラミング言語はTypeScriptが最も多く、全体の約半数を占め、次いでPython、Goが続いています。

これらのリポジトリからは合計で1,876件の .mdcファイルが見つかり、1つのリポジトリにつき平均4.68ファイルが含まれていました。ファイルの平均行数は約463行で、中には1万行を超えるものもありました。

### 質的分析の進め方

cursor rulesの内容を把握するために、研究チームはまず、さまざまな分野やプログラミング言語から30件のリポジトリを選び、2人の研究者がその内容を詳しく読み込みました。cursor rulesの多くは1行に1つの指示やアイデアが書かれていたため、行ごとにラベルを付ける方法が選ばれました。

残りのリポジトリについては、効率化のためにLLMを使った自動ラベリングが行われました。信頼性を確保する工夫として、同じ処理を3回実行し、多数決で最終的なラベルを決定する方式が採られました。また、LLMによるラベリングと人間によるラベリングの一致度も0.64〜0.65と、十分に信頼できる結果となりました。

## cursor rulesに含まれるコンテキストの分類

質的分析の結果、開発者がcursor rulesに記載しているコンテキストは、主に5つのカテゴリに分類できることが明らかになりました。

Project（プロジェクト情報）、Convention（規約）、Guideline（ガイドライン）、LLM Directives（LLM向け指示）、Examples（例示）です。

![[Cursorで開発者がAIに伝えるべき情報は5種類に分類できる 『正しいコード』を書かせるために必要なコンテキストとは - AIDB/AIDB_99628_1-1024x311.png]]

cursor rulesに含まれるコンテキストの分類体系

以下では、それぞれのカテゴリについて詳しく見ていきます。

### Project（プロジェクト情報）

プロジェクトそのものに関する情報が含まれます。分析対象となったリポジトリのうち、85%がこのカテゴリの情報を記載しており、最も頻度が高いものでした。

|      サブカテゴリ       |                                           内容の概要                                           |
|-------------------|-------------------------------------------------------------------------------------------|
| Functionality（機能） |          プロジェクト全体の構成や目的、モジュールの役割を記述。ファイルやディレクトリ単位の説明、他のコンポーネントとの関係性を示すリンクも含まれる。           |
|  Environment（環境）  | 使用されている言語、フレームワーク、ライブラリなどの技術スタック、環境変数、設定ファイル、初期化コマンドなど、実行環境に必要な情報を記載。AIが適切なコードを生成するために重要。 |
|   Change（変更履歴）    |         プロジェクトや依存関係の更新情報を記載。非推奨となった技術や削除されたツールに関する記述が含まれ、AIが古い情報を使わないようにする役割を果たす。         |

### Convention（規約）

このカテゴリには、プロジェクトへの貢献時に守るべき具体的なルールや標準が含まれます。84%のリポジトリがこのカテゴリの情報を含んでいました。

|                  サブカテゴリ                   |                                              内容の概要                                              |
|-------------------------------------------|-------------------------------------------------------------------------------------------------|
|        Project Structure（プロジェクト構造）        |            ディレクトリ構成やファイル・フォルダの命名規則、モジュールの配置ルールを定義。「ルールに沿わない構造を勝手に作らない」といった指示がよく見られる。            |
| Language/Framework Specific（言語・フレームワーク固有） | 特定の言語やフレームワークに固有の記述スタイルや使用ルールを示す。例：「WordPressプロジェクトではReactを直接importせず、@wordpress/elementを使う」など。 |
|            Code Style（コードスタイル）            |  フォーマット、命名規則、コメントの書き方などを定義。Google Style Guide、Airbnb Style Guide、PEP 8といったスタイルガイドへの参照も多く含まれる。   |

### Guideline（ガイドライン）

このカテゴリでは、より抽象度の高いベストプラクティスや推奨事項が示されており、89%のリポジトリに含まれていました。最も広く共有されているカテゴリです。

|              サブカテゴリ              |                                内容の概要                                 |
|----------------------------------|----------------------------------------------------------------------|
|     Quality Assurance（品質保証）      | テスト、コードレビュー、デバッグに関する推奨事項が含まれる。「ガード句を使って不正状態を早期に処理する」などの実践的なアドバイスが多い。 |
| General Programming（一般的なプログラミング） |        関心の分離、モジュール化、型安全、再利用性など、設計や実装に関する抽象的かつ基本的な原則が記載されている。         |
|     Communication（コミュニケーション）     |       明確なコミットメッセージの書き方、コード変更の説明方法など、チーム内での効果的な情報共有の方法が示されている。        |
|         UI（ユーザーインターフェース）         |               ユーザー体験に関する設計指針や見やすさ、使いやすさに関する配慮が述べられている。               |
|         Consistency（一貫性）         |              プロジェクト全体を通じて一貫した記述や設計を保つためのルールや方針が示されている。               |
|        Dependency（依存関係管理）        |              外部ライブラリやモジュールの使い方、依存の追加・更新・削除に関する注意点が含まれる。              |
|       Performance（パフォーマンス）       |             処理速度やリソース使用量の最適化に関するベストプラクティスや改善指針が記載されている。              |
|         Security（セキュリティ）         |              脆弱性を避けるための設計、入力チェック、認証・認可などの安全対策が盛り込まれている。              |

### LLM Directives（LLM向け指示）

このカテゴリは、LLMに特有の指示を記述したもので、人間向けのドキュメントではあまり見られない特徴があります。ただし、記載されていたのは50%のリポジトリにとどまり、まだ広く使われているとは言えません。

|       サブカテゴリ       |                                                      内容の概要                                                      |
|--------------------|-----------------------------------------------------------------------------------------------------------------|
|   Behavior（振る舞い）   | LLMに対して、仮定を置かずに慎重にコードを生成すること、必要に応じて確認や質問を行うことなどが求められる。Chain-of-Thoughtのような段階的推論や、特定のライブラリのimport確認などの自己検証も含まれる。 |
|  Workflow（ワークフロー）  |                 タスクを進める際のステップを明示。「1. 要件分析、2. 解決策の計画、3. 実装」などの順序に従うよう指示される。場合によっては条件に応じた分岐も含まれる。                 |
|   Persona（ペルソナ）    |                        LLMが担う役割を定義。「あなたはPythonの専門家で、特定のAIアプリを開発している」など、技術的な立場を想定した設定が多い。                        |
| Formatting（フォーマット） |                                 出力の形式に関する指示。テンプレートの使用や、言語指定（例：「中国語で回答」）などが含まれる。                                 |
|  Granularity（詳細度）  |                            出力の粒度に関する指示。「冗長な説明を避け、必要最小限かつ完全に回答する」など、情報の深さや簡潔さの指定がある。                             |

### Examples（例示）

このカテゴリには、命名規則、フォーマット、使い方などの具体例が含まれており、50%のリポジトリに見られました。

従来のドキュメント研究でも、コード例を含む例示は非常に重要とされてきました。本研究でも同様の傾向が確認されましたが、分析ではコードブロックを除外しているため、実際の使用率はさらに高い可能性があります。

### 分析結果からの考察

全体として、開発者はcursor rulesに多様な種類のコンテキスト情報を記載していることがわかりました。Project、Convention、Guidelineの3カテゴリは、従来の人間向けドキュメントと重なる要素が多く、開発者がこれまでの文書化の慣習をAIに応用している様子がうかがえます。

一方で、LLM Directivesの記載が半数のリポジトリにとどまっていた点は注目されます。cursor rulesを主に背景情報の伝達手段として用いており、LLMの動作を積極的に制御しようとする意識がまだ一般的ではないことを示しているのかもしれません。あるいは、そうした指示が本当に必要なのか、あるいはどのように書けば効果的なのかが明確になっていない段階とも考えられます。

## cursor rulesの特徴に関する詳細分析

前節で紹介したコンテキストの分類を踏まえ、使用言語やアプリケーションの種類による違い、複数のコンテキストタイプの組み合わせ方、他のリポジトリからの流用の程度、そしてリポジトリの作成時期とコンテキストの関係について調査されています。

### プログラミング言語による違い

静的型付け言語と動的型付け言語の間には、記述されるコンテキストの量に差が見られました。Go、C#、Javaのような静的型付け言語を使うリポジトリでは、比較的コンテキストの量が少なく、JavaScriptやPHPなどの動的型付け言語では、より多くの情報が記載される傾向がありました。

![[Cursorで開発者がAIに伝えるべき情報は5種類に分類できる 『正しいコード』を書かせるために必要なコンテキストとは - AIDB/AIDB_99628_3.png]]

プログラミング言語別に見たコンテキストタイプの平均記載数

静的型付け言語では構文や型情報からLLMが多くの内容を推測できるため、追加情報が少なくても済むという見方ができます。たとえば、JavaScriptのリポジトリではガイドライン関連のコンテキストが平均92件記載されていたのに対し、TypeScriptでは平均50件と半分程度でした。

また、JavaScriptやTypeScriptを使ったリポジトリでは、例示が特に多く見られました。JavaScriptやTypeScriptは主にフロントエンド開発で使われており、ライブラリやフレームワークの更新頻度が高いため、具体的な使い方を示す必要が高いと考えられます。

### アプリケーションドメインによる違い

リポジトリが扱うアプリケーション領域を把握するため、GitHub上で設定されたトピック情報をもとにクラスタリングを実施した結果、6つのドメインが特定されました。Web開発、LLMエージェント、フロントエンド開発、データ分析、UI開発、MCPツールです。

この中で、データ分析やフロントエンド開発など、視覚的な要素を多く含む領域では、例示の記載が特に多く見られました。一方、MCPツールのように情報が少ない領域では、プロジェクト独自の背景情報がより詳しく記載される傾向にありました。

また、LLMエージェントやデータ分析といった予測困難な処理を含むドメインでは、ガイドラインが豊富に記載されており、AIに対して明確な判断基準を与える必要が強いことがうかがえます。

![[Cursorで開発者がAIに伝えるべき情報は5種類に分類できる 『正しいコード』を書かせるために必要なコンテキストとは - AIDB/AIDB_99628_4.png]]

アプリケーション領域別に見たコンテキストタイプの平均記載数

### 複数のコンテキストタイプの組み合わせ

cursor rulesには、1つのカテゴリだけでなく、複数のカテゴリを組み合わせて記載するケースも多く見られました。

37%のリポジトリが4種類のカテゴリを含み、25%は5つすべてのカテゴリを含んでいました。Project、Convention、Guidelineの3つはバランスよく記載されており、従来の人間向けドキュメントに近い構成で書かれていることがわかります。

一方で、1カテゴリしか記載されていないリポジトリも8%あり、そのほとんどはガイドラインに関するものでした。また、リポジトリあたりのユニークなコードタイプ数を調べたところ、80%以上が3〜15種類に収まっており、最も多かったのは9種類でした。開発者はLLMにとって情報が多すぎないよう、適度に取捨選択している様子がうかがえます。

### 重複コンテンツの割合

cursor rulesの内容がどれほど独自性を持っているかを調べるため、完全一致する行の割合が分析されました。

その結果、全体の約29%の行が他のリポジトリと重複しており、1リポジトリあたり平均で約50行が共有されていました。カテゴリ別に見ると、LLM Directivesは重複率が最も高く32%、逆にProjectは25%と最も低く、プロジェクト固有の情報はオリジナルである傾向が強いことがわかりました。

重複の主な出所としては、依存ライブラリの公式ドキュメントや、他のcursor rulesからのコピー、類似のセットアップを持つリポジトリ、さらには「awesome-cursor-rules」のようなテンプレート集が確認されました。また、一部にはLLMによって自動生成されたと思われる記述も含まれていました。

![[Cursorで開発者がAIに伝えるべき情報は5種類に分類できる 『正しいコード』を書かせるために必要なコンテキストとは - AIDB/AIDB_99628_5.png]]

カテゴリ別に見た重複コンテンツの割合

### リポジトリ作成時期による変化

cursor rulesの記述時期と、リポジトリ自体の作成時期の関係についても分析が行われました。

その結果、ProjectやConventionに関してはリポジトリの新旧にかかわらず、記載される内容に大きな違いはありませんでした。一方、Guidelineはリポジトリ作成から2〜5年経過した中間層で最も多く記載されていました。新しすぎず古すぎないプロジェクトにおいて、過去の設計や制約をAIに説明する必要性が高まるためと考えられます。

顕著な違いが見られたのはLLM Directivesでした。リポジトリが古くなるほどLLM向けの指示は減少しており、当初はcursor rulesが単なるドキュメントとして使われていた様子がうかがえます。逆に近年のリポジトリでは、LLMの振る舞いや限界を意識した具体的な指示が多く含まれていました。

## 実務への示唆

分析結果を踏まえて、cursor rulesの作成手法やツール設計への応用、そして今後の研究のあり方について、いくつかの重要な示唆が得られました。

### ルールファイル作成に関する示唆

#### より広範なコンテキストサポートの必要性

今回の分析によれば、開発者はソースコードにとどまらず、さまざまな種類の情報を積極的に提供していることがわかりました。たとえば、記載された内容のうち、規約に関する情報が15%、ガイドラインが33%、LLMの振る舞いに関する指示が8%を占めていました。

現在、多くのAIコードエディタでは、IDEから取得できる情報やユーザーが選択したコード断片をコンテキストとして利用するのが一般的です。しかし分析結果は少し状況が異なるようです。

AIアシスタントがコード以外の情報、つまりドキュメントや設定ファイル、明示的に記述されたルールファイルなども含めて理解できるようにするべきだという、近年の業界動向を裏付けるものです。

#### コンテキストの透明性向上

分析の結果、cursor rulesの約29%が他のリポジトリと重複していることが明らかになりました。開発者が他のプロジェクトのドキュメントやコミュニティが提供するテンプレートから内容をコピーしている可能性を示しています。また、外部のドキュメントに言及しているにもかかわらず、明確なリンクが貼られていないケースも確認されました。

開発者自身がAIにどの情報がすでに提供されているのかを把握しきれていない可能性が考えられます。もし、AIがどのコンテキストにアクセスしているかを明確に示すインターフェースや、現在どのルールが有効になっているかを即時にフィードバックする仕組みがあれば、より効果的なルール作成が可能になるでしょう。

### ツール開発に関する示唆

どのような種類のルールが有効かは、プログラミング言語やアプリケーションの性質によって異なることが示されました。たとえば、C#のような静的型付け言語ではプロジェクト固有の背景情報がより重視され、JavaScriptやTypeScriptのようなフロントエンド言語では具体的な使い方の例が多く含まれていました。

しかし現状では、多くの開発者が汎用的なテンプレートを参考にしたり、LLMにルールを自動生成させたりしています。CursorもLLMによる初期ルール生成機能を提供していますが、プロジェクトごとの特性を考慮しないままでは、十分に適したルールを生成できない可能性があります。

今後は、プロジェクトの構造や既存のドキュメントを分析し、そのプロジェクトに最適化されたルールを自動で生成するようなツールの開発が期待されます。

### 注意点

本研究で確認されたルールの多くは、開発者の直感や経験に基づいて書かれたものであり、それぞれのルールがLLMの出力の質をどの程度向上させるのかについては、まだ検証されていません。また、LLMそのものの性能が進化すれば、必要とされるコンテキストの種類や量も今後変化していく可能性があります。

そのため、本研究で示された分類は、あくまで「開発者が重要だと考えている情報」を整理したものとして活用しつつ、実際の効果については各プロジェクトごとに試行錯誤しながら確認していく必要があります。

## まとめ

本記事では、AIコーディングアシスタント向けのルールファイルに開発者がどのような情報を記述しているのかを、大規模に分析した研究を紹介しました。

AIに正確で一貫性のあるコードを書かせるためには、プロンプトの工夫だけでなく、プロジェクトの背景や設計方針を体系的に伝えることが欠かせません。

今回調査対象となったのは401件のオープンソースリポジトリで、cursor rulesに含まれる情報は、Project（プロジェクト情報）、Convention（規約）、Guideline（ガイドライン）、LLM Directives（LLM向け指示）、Examples（例示）の5つに分類されました。実践のヒントになるかもしれません。
