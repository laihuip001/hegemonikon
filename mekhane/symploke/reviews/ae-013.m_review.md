# シンプリシティの門番 レビュー

## 対象ファイル
`mekhane/anamnesis/session_indexer.py`

## 判定
発言（要改善）

## 発見事項
- 未使用の変数: `_RE_ROLE` (L516) が定義されているが使用されていない。`parse_export_md` (L540-541) では同じパターンを直接記述しており冗長である。(Medium)
- 過剰なコード重複: `index_handoffs`, `index_conversations`, `index_steps`, `index_exports`, `index_roms`, `index_from_json` の6つの関数において、LanceDBへのインデックス登録処理（重複排除、Embedding生成、テーブル追加）が完全に重複している。約150行のコピー＆ペーストコードが存在し、「Reduced Complexity」原則に違反している。(High)

## 重大度
High
