# シンプリシティの門番 レビュー

## 対象ファイル
`mekhane/api/routes/chat.py`

## 判定
発言（要改善）

## 発見事項
- 未使用の import: `asyncio` (Low)
- 過剰な複雑性: `cortex_chat` ルートが `OchemaService` のプライベートメソッド (`_get_cortex_client`, `_get_token`) に直接アクセスし、サービスへの委譲ではなく生HTTPロジックを実装しています。これはルートハンドラに不要な複雑さを追加しています。(Medium)
- コード重複: `gemini_compat` JSON構造の構築処理が `_claude_chat_from_gemini_format` と `cortex_chat` で重複しています。(Low)

## 重大度
Medium
