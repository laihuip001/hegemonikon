# シンプリシティの門番 レビュー

## 対象ファイル
`mekhane/workflow_runner.py`

## 判定
発言（要改善）

## 発見事項
- (Medium) **X-Series ロジックの重複と不整合**: `X_SERIES_RELATIONS` および `suggest_next_theorems` は、インポートされた `mekhane.fep.encoding.get_x_series_recommendations` と機能が重複しています。`run_workflow` (主機能) はインポートされたロジックを使用する一方、CLI の `--verbose` 出力だけがローカルの `X_SERIES_RELATIONS` を使用しており、Single Source of Truth に違反しています。不要なコードは削除すべきです。
- (Low) **不要な抽象化**: `get_workflow_for_theorem` は `THEOREM_TO_WORKFLOW.get()` の単純なラッパーに過ぎず、`format_derivative_selection` 等では直接辞書アクセスが行われているため、この関数は冗長です。
- (Low) **環境依存のハードコード**: `WORKFLOWS_DIR` に `/home/makaron8426/...` という特定のユーザー名を含む絶対パスが含まれています。これは環境非依存（Portable）であるべきコードの単純性を損なっています。

## 重大度
Medium
