# シンプリシティの門番 レビュー

## 対象ファイル
`mekhane/fep/derivative_selector.py`

## 判定
発言（要改善）

## 発見事項
- **重複した定義 (Medium)**: `DERIVATIVE_DESCRIPTIONS` がファイル内で2回定義されており、最初の定義（L564）は無意味です。
- **未使用のクラス (Medium)**: `DerivativeStateSpace` クラス（L66-302）は定義されていますが、ファイル内のロジックでは一切使用されていません。テストコード以外での利用がなく、YAGNI原則に違反しています。
- **過剰なコード重複 (High)**: `_select_o1_derivative` から `_select_a4_derivative` までの24個の関数、およびそれに対応する `rationale` 生成関数は、構造がほぼ完全に同一です。共通ロジックへの集約により、コード量を劇的に削減（1/5以下）できます。
- **未使用のインポート (Low)**: `json` モジュールがインポートされていますが使用されていません。
- **未使用の引数 (Low)**: `encode_for_derivative_selection` 関数の `theorem` 引数は使用されていません。
- **将来のための過剰設計 (Low)**: `update_derivative_selector` 関数は `pass` のみのプレースホルダーであり、現時点では不要です。

## 重大度
High
