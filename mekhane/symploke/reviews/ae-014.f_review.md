# 比喩一貫性の詩人 レビュー

## 対象ファイル
`mekhane/anamnesis/session_indexer.py`

## 判定
発言（要改善）

## 発見事項
- **拷問された比喩 (Tortured Metaphor)** [Medium]
  - 「セッション（時間的体験）」を「論文（静的記録）」のスキーマ（`authors`, `citations`, `doi`）に無理やり押し込めている。`citations` に `step_count` を割り当てるのは、比喩として破綻している（引用数とステップ数は意味論的に対極）。
  - 推奨: スキーマ側を汎化するか、変換ロジック内でこの「翻訳」が一時的な便宜であることを明示するコメント（謝罪）が必要。

- **手段の不統一 (Mechanism Inconsistency)** [Low]
  - `index_from_api` は外部シェルスクリプト (`agq-sessions.sh`) を叩く「工場労働者」的な振る舞いだが、`fetch_all_conversations` は `AntigravityClient` を使う「魔術師」的な振る舞いをしている。同一モジュール内でデータ取得の抽象度が揃っていない。

- **命名のゆらぎ (Naming Jitter)** [Low]
  - `parse_sessions_from_json` (Source明示)
  - `parse_handoff_md` (Format明示)
  - `parse_step_outputs` (Object明示)
  - 命名規則が「何をパースするか」ではなく「どこからパースするか」で揺らいでいる。`parse_sessions`, `parse_handoffs`, `parse_steps` に統一すべき。

## 重大度
Medium
