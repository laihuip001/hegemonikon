# 比喩一貫性の詩人 レビュー

## 対象ファイル
`mekhane/fep/derivative_selector.py`

## 判定
発言（要改善）

## 発見事項
- [Medium] 比喩の不一致（機械 vs 人間）: モジュール全体で機械的な「選択（Select/Selector）」の比喩と、人間的・助言的な「推奨（Recommendation/Rationale）」の比喩が混在している。主要関数は `select_derivative` だが、戻り値は `DerivativeRecommendation` であり、属性に `rationale`（根拠）や `confidence`（確信度）を含む。機械的処理（Factory）であれば `Selection` と `Result`、人間的助言（Garden/Cultivation/Service）であれば `Advisor` と `Suggestion` に統一すべきである。
- [Low] 抽象度の不統一: `encode_for_derivative_selection` は `select_derivative`（Manager層）と同列のパブリック関数として定義されているが、実装は特定の定理（O1）専用の内部ヘルパー（Worker層）であり、抽象レベルが混在している。`_encode_o1_context` 等への変更が望ましい。
- [Low] データ構造の不統一: `DerivativeStateSpace` クラス（Static Namespace）に状態定義が含まれる一方、密接に関連する `O1_PATTERNS` 等のパターン定義はグローバル変数（Global Dicts）として散在しており、知識の配置場所が一貫していない。

## 重大度
Medium
