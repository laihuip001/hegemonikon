# 比喩一貫性の詩人 レビュー

## 対象ファイル
`mekhane/anamnesis/session_indexer.py`

## 判定
発言（要改善）

## 発見事項
- **(Medium) 抽象度の不統一 (ManagerとHelperの混同)**: `index_handoffs`, `index_conversations`, `index_steps` などの関数において、データの取得（高レイヤー）と、重複排除・埋め込み計算・DB登録ループ（低レイヤー）が同列に記述されています。これは「工場（Factory）」の比喩において、工場長がライン工の作業も行っているような不自然さがあります。共通のインデックス処理ロジック（Helper）を分離すべきです。
- **(Medium) 比喩体系の不徹底 (Paperモデル)**: ドキュメントでは「Paper モデルに変換し」と謳っていますが、コード上は生の `dict` を操作しており、`Paper` という学術的比喩が実装レベルで放棄されています。結果として `citations` や `doi` といった学術用語が、文脈のない単なる辞書キーとして浮いています。
- **(Low) 命名規則の不統一**: `index_handoffs` (対象物に基づく命名) と `index_from_json` (ソースに基づく命名) が混在しており、関数の役割分担のメンタルモデルが揺らいでいます。
- **(Low) 動詞の活用不統一**: データの取得に関して `fetch_all_conversations` (fetch) と `parse_sessions_from_json` (parse/load implied) や `session_read` (read) が混在しています。

## 重大度
Medium
