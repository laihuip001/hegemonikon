# 比喩一貫性の詩人 レビュー

## 対象ファイル
`mekhane/anamnesis/session_indexer.py`

## 判定
発言（要改善）

## 発見事項
- (Medium) 比喩混在: `index_handoffs` や `index_conversations` などの関数内で、「図書館/知識（GnosisIndex）」のメタファーと「工場/生産（Embedder, raw processing）」のメタファーが混在しています。インデクサ（司書）が埋め込み生成（労働者）の管理も直接行っており、役割分担（Manager vs Worker）が不明確です。
- (Low) 命名規則不統一: 関数名において、`index_from_json` / `index_from_api`（ソース駆動）と `index_handoffs` / `index_conversations`（コンテンツ駆動）の命名パターンが混在しています。
- (Low) 動詞不統一: データの取得に関して、APIからの取得を `fetch_all_conversations`（fetch）としている一方、メインのエントリポイントでは `index_from_api`（index）とし、内部で取得を行っています。また、ファイル解析には `parse_...` が使われていますが、API取得は `fetch` となっており、動作の抽象度が揃っていません。

## 重大度
Medium
