# コード/コメント矛盾検出者 レビュー

## 対象ファイル
`mekhane/mcp/ochema_mcp_server.py`

## 判定
発言（要改善）

## 発見事項
- **`status` ツール定義の矛盾 (Medium)**
  - `status` ツールの `description` に "Get Language Server connection status and quota info." とあるが、実装 (`elif name == "status":`) ではクォータ情報 (`quota`) を取得・表示していない（`cortex_quota` ツールに分離されている）。

- **`call_tool` docstring の Args 不一致 (High)**
  - 関数シグネチャは `name: str, arguments: dict` を受け取るが、docstring に `Args` セクションが存在せず、引数の説明が欠落している。

- **`call_tool` docstring の Returns 不一致 (High)**
  - 関数は `list[TextContent]` を返すが、docstring に `Returns` セクションが存在しない。

- **`list_tools` docstring の Returns 不一致 (High)**
  - 関数は `list[Tool]` を返すが、docstring に `Returns` セクションが存在しない。

- **`get_service` docstring の Returns 不一致 (High)**
  - 関数は `OchemaService` インスタンスを返すが、docstring に `Returns` セクションが存在しない。

- **`main` docstring の Returns 不一致 (High)**
  - コルーチンとして動作するが、docstring に `Returns` (または動作説明としての戻り値記述) がない。

- **型アノテーションの欠落 (High)**
  - `get_service`, `list_tools`, `call_tool` (戻り値), `main` (戻り値) に型アノテーションがない（プロジェクト規約 `AGENTS.md` の "全ての新規関数に型アノテーション必須" との矛盾）。

## 重大度
High
