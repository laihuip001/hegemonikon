# コード/コメント矛盾検出者 レビュー

## 対象ファイル
`mekhane/mcp/hgk_gateway.py`

## 判定
発言（要改善）

## 発見事項
- **Args/Returns 欠落 (High)**: ほぼ全ての MCP ツール関数 (`hgk_sop_generate`, `hgk_search`, `hgk_ccl_dispatch` 等) で `Returns` のドキュメント記述が欠落しています。型ヒントは `-> str` となっていますが、ドキュメントに明記されていません。
- **Args/Returns 欠落 (High)**: 内部関数 `_trace_tool_call`, `_wbc_log_security_event`, `_estimate_input_size` 等で `Args`, `Returns` の記述が欠落しています。
- **Args/Returns 欠落 (High)**: `HGKOAuthProvider` クラスのメソッド (`authorize`, `exchange_authorization_code` 等) で `Args`, `Returns` の記述が欠落しています。
- **Args/Returns 欠落 (High)**: `_load_policy`, `_get_policy`, `_check_rate_limit` 等のヘルパー関数で `Returns` の記述が欠落しています。
- **処理乖離 (Medium)**: `hgk_search` の docstring には "HGK の知識ベース (KI / Gnōsis / Sophia) を検索する" とありますが、実装では `GnosisIndex` (ベクトル検索) とファイルシステム走査 (キーワード検索) のみを行っており、`Sophia` (KI ベクトルインデックス) を明示的に検索する処理が見当たりません (`GnosisIndex` が Sophia を兼ねている場合は説明不足、そうでない場合は実装不足)。
- **処理乖離 (Medium)**: `HGKOAuthProvider` クラスには `# PURPOSE` コメントがありますが、クラスの責務と実装の整合性を担保するための十分なドキュメントが不足しています。

## 重大度
High
