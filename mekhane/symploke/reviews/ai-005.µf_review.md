# コード/コメント矛盾検出者 レビュー

## 対象ファイル
`mekhane/ochema/antigravity_client.py`

## 判定
発言（要改善）

## 発見事項
- 関数 `ask`: 例外 `RuntimeError`, `TimeoutError` が発生する可能性があるが、Docstring の Raises に記載がない (Medium)
- 関数 `_detect_ls`: 例外 `RuntimeError` が発生する可能性があるが、Docstring の Raises に記載がない (Medium)
- 関数 `_start_cascade`: 例外 `RuntimeError` が発生する可能性があるが、Docstring の Raises に記載がない (Medium)
- 関数 `_poll_response`: 例外 `TimeoutError` が発生する可能性があるが、Docstring の Raises に記載がない (Medium)

## 提案する修正コード (Correction Proposal)

以下のように `Raises` セクションを追加することを推奨します。

```python
    # ...
    def ask(
        self,
        message: str,
        model: str = DEFAULT_MODEL,
        timeout: float = DEFAULT_TIMEOUT,
    ) -> LLMResponse:
        """LLM にメッセージを送り、応答を取得する。

        4-Step フローを内部で実行:
        1. StartCascade → cascade_id
        2. SendUserCascadeMessage → {}
        3. GetAllCascadeTrajectories → trajectory_id
        4. GetCascadeTrajectorySteps → response (polling)

        Args:
            message: LLM に送るテキスト
            model: モデル名 (enum string)
            timeout: 最大待機秒数

        Returns:
            LLMResponse with text, thinking, model, token_usage

        Raises:
            RuntimeError: LS との通信エラーやプロセス検出失敗時
            TimeoutError: 応答がタイムアウトした場合
        """
        # ...
```

同様に、`_detect_ls`, `_start_cascade`, `_poll_response` にも `Raises` を追加してください。

## 重大度
Medium
