# コード/コメント矛盾検出者 レビュー

## 対象ファイル
`mekhane/anamnesis/session_indexer.py`

## 判定
発言（要改善）

## 発見事項
- **[High] Args/Returns不一致 (ドキュメント欠落)**:
  - 以下の関数で `Args` および `Returns` の記載が docstring に欠落しています。
    - `parse_sessions_from_json`
    - `sessions_to_records`
    - `parse_handoff_md`
    - `handoffs_to_records`
    - `index_handoffs`
    - `fetch_all_conversations`
    - `conversations_to_records`
    - `index_conversations`
    - `parse_step_outputs`
    - `steps_to_records`
    - `index_steps`
    - `parse_export_md`
    - `exports_to_records`
    - `index_exports`
    - `index_from_json`
    - `index_from_api`
- **[Medium] 処理乖離**:
  - `index_from_api`: docstring には「LS API から直接セッション情報を取得」とあるが、実際には `agq-sessions.sh` スクリプトを介して間接的に取得している（"直接" の定義と実装が乖離）。
- **[Medium] Raises欠落**:
  - `index_from_api`: `subprocess.run` による例外の可能性が記載されていない。
  - `fetch_all_conversations`: `AntigravityClient` 利用時のネットワーク例外等の記載がない。
  - `index_handoffs`, `index_conversations`, `index_steps`, `index_exports`, `index_from_json`: `GnosisIndex` や `Embedder`、ファイル操作に起因する例外（`OSError` 等）の記載がない。

## 重大度
High
