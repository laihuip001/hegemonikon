# 暗黙契約違反検出者 レビュー

## 対象ファイル
`mekhane/anamnesis/cli.py`

## 判定
発言（要改善）

## 発見事項
- **STEERING_PROFILES の選択肢重複 (Medium)**: `gnosis_chat.py` の `GnosisChat.STEERING_PROFILES` キーと `cli.py` の argparse `choices` が重複定義されている。`gnosis_chat.py` でプロファイルが追加・変更された場合、CLI が追従できない（Duplicate Knowledge）。
- **Collector 定義のハードコード (Medium)**: `mekhane/anamnesis/collectors/` 配下のコレクタークラスが `cli.py` 内でハードコードされた辞書 (`collectors`) として再定義されている。新規コレクター追加時に `cli.py` の修正が必要となる（Open/Closed原則違反）。
- **Session Indexer 機能の未公開 (Low)**: `session_indexer.py` が提供する `steps` (Brain output) や `exports` (Chat export) のインデックス機能が、CLI (`gnosis`) から利用できない（機能的非対称性）。

## 重大度
Medium
