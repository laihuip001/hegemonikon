# 暗黙契約違反検出者 レビュー

## 対象ファイル
`mekhane/mcp/hgk_gateway.py`

## 判定
発言（要改善）

## 発見事項
- **`hgk_digest_run` における戻り値型の不一致 (High)**
  - `DigestorPipeline.run()` は `DigestResult` データクラスのインスタンスを返すが、`hgk_digest_run` 内では `dict` であることを期待した分岐 (`if isinstance(report, dict):`) が存在する。
  - この分岐は到達不能コードとなっており、フォールバックの `else` ブロックで `str(report)` がそのまま出力されるため、意図したフォーマット（取得数、候補数などの箇条書き）で表示されない。
  - `hgk_digest_list` では正しく `DigestResult` の属性 (`total_papers`, `candidates_selected`) にアクセスしているため、実装が一貫していない。

## 重大度
High
