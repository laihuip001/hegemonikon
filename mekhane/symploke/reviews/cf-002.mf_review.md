# 暗黙契約違反検出者 レビュー

## 対象ファイル
`mekhane/ergasterion/digestor/scheduler.py`

## 判定
発言（要改善）

## 発見事項
- **(High) Dataclassフィールド未対応**: `DigestCandidate` に追加された `suggested_templates` フィールドが `scheduler.py` のログ出力および通知で無視されています。消化候補の重要なメタデータ（推奨テンプレート）が運用者に伝わらない状態です。
- **(Medium) 定数/設定値の不整合**: `topics.yaml` で定義されている `max_candidates: 10` や `min_score: 0.45` が `scheduler.py` から参照されていません。`max_candidates` はハードコード値（10）が使用され、`min_score` は `DigestorPipeline` のデフォルト値（0.3）が適用されるため、設定変更が反映されない構造になっています。
- **(Medium) 共通パスのハードコード**: `cleanup_expired` 関数内で `incoming` ディレクトリのパスがハードコードされており、`pipeline.py` 内の定義と二重管理になっています。パス変更時に不整合が生じるリスクがあります。

## 重大度
High
