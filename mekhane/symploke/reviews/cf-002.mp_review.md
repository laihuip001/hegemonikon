# 暗黙契約違反検出者 レビュー

## 対象ファイル
`mekhane/mcp/hgk_gateway.py`

## 判定
発言（要改善）

## 発見事項
- (High) `hgk_digest_run` 関数において、`DigestorPipeline.run()` の戻り値が `DigestResult` データクラスであるにもかかわらず、`dict` または `str` であることを前提とした分岐処理が行われている。`isinstance(report, dict)` は常に偽となり、`else` ブロックで `str(report)` が実行されるため、意図した構造化出力（取得論文数、候補数などの表示）が行われない。
- (Medium) `hgk_digest_run` 関数が `DigestorPipeline.run()` の `max_candidates` 引数を利用しておらず、デフォルト値 (10) が強制される。`hgk_digest_list` では利用されているため一貫性がない。

## 重大度
High
