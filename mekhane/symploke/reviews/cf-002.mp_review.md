# 暗黙契約違反検出者 レビュー

## 対象ファイル
`mekhane/anamnesis/session_monitor.py`

## 判定
発言（要改善）

## 発見事項
- [High] `AntigravityClient.session_read` は `conversation` リストの各アイテムに `truncated: bool` フィールドを含めるが、`session_monitor.py` の `format_session_md` はこれを無視している。結果として、ログが不完全（切り捨て発生）であってもユーザーには通知されない。
- [Medium] `AntigravityClient.session_info` はセッションリスト取得時に `limit=20` をハードコードしており、外部からの指定を受け付けない。一方 `session_monitor.py` は `MAX_SESSIONS = 20` を定義しており、この値を増やしても `AntigravityClient` 側の制約により機能しないという暗黙の結合がある。

## 重大度
High
