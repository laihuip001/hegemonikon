# 暗黙契約違反検出者 レビュー

## 対象ファイル
`mekhane/anamnesis/session_monitor.py`

## 判定
発言（要改善）

## 発見事項
- **Constant/Config Value Usage (Medium)**: 定数 `MAX_SESSIONS` の設定値 20 が `AntigravityClient.session_info()` 内のハードコードされたスライス上限 `[:20]` と結合しています。呼び出し側で `MAX_SESSIONS` を増やしても、クライアント側が 20 件に制限するため機能しません。
- **Function Signature Mismatch (Low)**: `monitor_once` 内の `client.session_info()` 呼び出し後に `if "error" in info:` というエラーチェックがありますが、`session_info()` (引数なし) はエラー時に辞書を返さず、空の結果を返すか例外を送出するため、このチェックはデッドコードであり、API の挙動に関する誤った仮定に基づいています。

## 重大度
Medium
