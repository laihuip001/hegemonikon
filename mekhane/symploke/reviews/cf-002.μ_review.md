# 暗黙契約違反検出者 レビュー

## 対象ファイル
`mekhane/ergasterion/digestor/pipeline.py`

## 判定
発言（要改善）

## 発見事項
- High: Sophia index metadata のフィールド不一致（`title` vs `ki_name`）。`_load_existing_keys` は `title` を期待しているが、`sophia_ingest.py` が生成するインデックスは `ki_name` を持つ。
- Medium: Sophia index のパス不一致（`~/.hegemonikon/sophia/sophia.pkl` vs `~/oikos/mneme/.hegemonikon/indices/sophia.pkl`）。`sophia_ingest.py` および `mneme` モジュールは `mneme` 以下のパスを使用しているが、`pipeline.py` はグローバルなパスを参照している。
- Medium: Gnosis index のパス・形式不一致（`~/.hegemonikon/gnosis/*.json` vs `mekhane/gnosis/lancedb`）。`pipeline.py` は JSON ファイルを期待しているが、現在の Gnosis 実装は LanceDB を使用している可能性が高い。

## 重大度
High
