# 暗黙契約違反検出者 レビュー

## 対象ファイル
`mekhane/ergasterion/digestor/scheduler.py`

## 判定
発言（要改善）

## 発見事項
- **構造的仮定 (High)**: `sys.path` の操作において、プロジェクトルートまでの階層深度 (`parent.parent.parent`) を仮定しており、ファイル移動に対する脆弱性がある。
- **定数共有の欠如 (Medium)**: `pipeline.py` が生成する成果物のディレクトリパス (`~/.hegemonikon/incoming`) とファイル命名規則 (`eat_*.md`) が `scheduler.py` 内にハードコードされており、`pipeline.py` 側の変更に追従できない構造になっている。
- **定数共有の欠如 (Medium)**: ログ・状態保存ディレクトリ (`~/.hegemonikon/digestor`) が `scheduler.py`, `pipeline.py`, `state.py` で個別に定義されており、一貫性が保証されていない。
- **暗黙の依存 (Low)**: `notify-send` コマンドや `DISPLAY` 環境変数への依存があり、実行環境に対する暗黙の契約が存在する。

## 重大度
High
