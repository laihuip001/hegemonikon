# ネスト深度警報者 レビュー

## 対象ファイル
`mekhane/fep/derivative_selector.py`

## 判定
発言（要改善）

## 発見事項
- `_select_with_llm` 関数内の `try` ブロックにおいて、`if response and response.text:` -> `for deriv in derivatives:` -> `if deriv in result:` の3段階のネストが存在します (Medium)。早期リターンまたはガード節を使用してネストを浅くすることを推奨します。
- `_log_selection` 関数内の `try` ブロックにおいて、`if SELECTION_LOG_PATH.exists():` -> `with open(...)` -> `if data and ...:` の3段階のネストが存在します (Medium)。ファイル読み込み処理を平坦化することで可読性を向上できます。

## 重大度
Medium
