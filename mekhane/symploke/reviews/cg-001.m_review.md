# ネスト深度警報者 レビュー

## 対象ファイル
`mekhane/anamnesis/session_indexer.py`

## 判定
発言（要改善）

## 発見事項
- ネスト深度過剰 (High): `parse_sessions_from_json` 関数内で、`for` > `for` > `if` > `if` の4段ネストが存在します (L56付近)。
- try-exceptネスト深度過剰 (Medium): `sessions_to_records` 関数内で、`for` > `if` > `try` の3段ネストが存在します (L82付近)。
- ネスト深度過剰 (High): `fetch_all_conversations` 関数内で、`for` > `try` > `for` > `if` の4段ネストが存在します (L278付近)。
- try-exceptネスト深度過剰 (Medium): `conversations_to_records` 関数内で、`for` > `if` > `try` の3段ネストが存在します (L319付近)。
- ネスト深度過剰 (High): `conversations_to_records` 関数内で、`for` > `if` > `try` > `if` の4段ネストが存在します (L321付近)。
- ネスト深度過剰 (Medium): `index_handoffs` 関数内で、リスト内包表記内の辞書内包表記による2段ネストが存在します (L241付近)。
- ネスト深度過剰 (Medium): `index_conversations` 関数内で、リスト内包表記内の辞書内包表記による2段ネストが存在します (L384付近)。
- ネスト深度過剰 (Medium): `index_steps` 関数内で、リスト内包表記内の辞書内包表記による2段ネストが存在します (L478付近)。
- ネスト深度過剰 (Medium): `index_exports` 関数内で、リスト内包表記内の辞書内包表記による2段ネストが存在します (L575付近)。

## 重大度
High
