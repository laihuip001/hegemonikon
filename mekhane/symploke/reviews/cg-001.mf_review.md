# ネスト深度警報者 レビュー

## 対象ファイル
`hermeneus/src/executor.py`

## 判定
発言（要改善）

## 発見事項
- `BatchExecutor.execute_batch` メソッド内の `if parallel:` ブロックにおいて、内部関数定義と `async with` によりネスト深度が4段に達しています (High)。
  - レベル1: `if parallel:`
  - レベル2: `async def execute_with_semaphore(task):`
  - レベル3: `async with semaphore:`
  - レベル4: `return await ...`

  **修正案**: 内部関数をクラスメソッド `_execute_with_semaphore` として切り出すことで、ネストを浅くできます。

## 重大度
High
