# ネスト深度警報者 レビュー

## 対象ファイル
`mekhane/mcp/hgk_gateway.py`

## 判定
発言（要改善）

## 発見事項
- **High**: `hgk_search` 関数内のキーワード検索ロジック (ネスト深度 7)
  - `if mode` -> `if ki_base` -> `for ki_dir` -> `if ki_dir` -> `if meta` -> `try` -> `if query`
- **High**: `hgk_digest_check` 関数内のフロントマター解析 (ネスト深度 5)
  - `for f` -> `try` -> `for line` -> `if line` -> `if in_frontmatter`
- **High**: `hgk_health` 関数内の Health Metrics / WBC Alert 処理 (ネスト深度 5)
  - `if health` -> `try` -> `with open` -> `for line` -> `if line`
- **High**: `hgk_notifications` 関数内の通知読み取り (ネスト深度 5)
  - `try` -> `with open` -> `for line` -> `if line` -> `try`
- **High**: `hgk_doxa_read` 関数内の JSON 解析 (ネスト深度 4)
  - `for df` -> `try` -> `if list` -> `for item`
- **High**: `hgk_paper_search` 関数内の Abstract 切り詰め処理 (ネスト深度 4)
  - `try` -> `for paper` -> `if abstract` -> `if len`

## 重大度
High
