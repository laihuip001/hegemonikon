# Series適所配置検査官 レビュー

## 対象ファイル
`mekhane/anamnesis/cli.py`

## 判定
発言（要改善）

## 発見事項
- [Medium] 責務の越境: `mekhane/anamnesis` (K3: 想起) のCLIモジュール内に、別ドメインである `mekhane/pks` (Perceptual Knowledge System: 統合知覚) の操作 (`cmd_proactive`, `cmd_links`) が混入している。これらは `mekhane/pks` 固有のCLIとして分離するか、より上位の統合CLI (`mekhane/cli.py` 等) に移動すべきである。
- [Medium] Series不一致 (S-series混入): `cmd_collect_all` における複数ソース収集のオーケストレーション（収集戦略）や `cmd_check_freshness` における鮮度判定ロジックは、インターフェース層 (`cli.py`) ではなく、S-series (方法/計画) または A-series (精密/知識) としての実装層（`mekhane/anamnesis/service.py` や `manager.py`）に隠蔽されるべきビジネスロジックである。CLIは単なる呼び出し元であるべき。
- [Low] 実装詳細の漏洩: `update_state` 関数が `state.json` のパスや構造を直接操作しており、永続化の詳細がCLI層に露出している。これは `PersistenceManager` 等のカプセル化されたクラスに委譲すべきである。

## 重大度
Medium
