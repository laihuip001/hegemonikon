# 予測誤差審問官 レビュー

## 対象ファイル
`mekhane/workflow_runner.py`

## 判定
発言（要改善）

## 発見事項
- **副作用の不可視性 (High)**: `run_workflow` 関数は名前から「ワークフローの実行」を想起させるが、実際には実行せず、派生選択（LLM呼び出しを含む可能性が高い `select_derivative`）とログ記録を行う。名前と実際の振る舞いに乖離があり、利用者に予測誤差を生じさせる。
- **モジュールレベルの副作用 (High)**: `sys.path.insert(0, ...)` がモジュールのトップレベルで実行されており、インポートするだけでグローバルな `sys.path` が変更される。これはライブラリとして予測困難な副作用である。
- **暗黙の環境依存 (Medium)**: `WORKFLOWS_DIR` が特定のユーザーディレクトリ (`/home/makaron8426/...`) にハードコードされており、他の環境で実行した際に予測不能な失敗を引き起こす。
- **戻り値の予測困難性 (Medium)**: `suggest_next_theorems` の戻り値が `List[Dict[str, str]]` であり、辞書のキー構造が型ヒントから読み取れない。`TypedDict` やデータクラスを使用すべきである。

## 重大度
High
