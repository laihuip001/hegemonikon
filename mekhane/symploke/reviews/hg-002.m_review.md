# 予測誤差審問官 レビュー

## 対象ファイル
`mekhane/anamnesis/session_monitor.py`

## 判定
発言（要改善）

## 発見事項
- (High) 副作用非明示: モジュールレベルで `sys.path.insert` を実行しており、インポート時にグローバルなインタプリタ状態を変更する
- (High) 副作用非明示: `monitor_once` 関数がファイル書き込みと標準出力へのプリントを行うが、関数名からは観測（monitor）以上の永続化作用が読み取れない
- (Medium) 暗黙状態変更: `monitor_once` 関数が引数として受け取った `state` 辞書をインプレースで変更している
- (Medium) 暗黙状態変更: 関数群がモジュールレベルの定数 `OUTPUT_DIR`, `STATE_FILE` に依存しており、外部からの注入やテストが困難
- (Medium) 例外の発生が関数シグネチャから不明: `monitor_once` 内で `Exception` を捕捉して握りつぶしており、呼び出し元がエラーを検知できない

## 重大度
High
