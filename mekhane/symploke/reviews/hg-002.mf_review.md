# 予測誤差審問官 レビュー

## 対象ファイル
`mekhane/ergasterion/digestor/scheduler.py`

## 判定
発言（要改善）

## 発見事項
- **副作用非明示 (High):** モジュールレベルでの `sys.path.insert(0, _p)` は、このファイルをインポートするだけでグローバルなインタプリタ状態を変更してしまう。この副作用はファイル名や関数名から予測不能であり危険。
- **副作用非明示 (High):** `notify_desktop` 関数は内部で `Exception` を捕捉し、ログ出力のみを行って握りつぶしている。呼び出し元は通知の成功/失敗を知ることができず、失敗時の挙動が予測不能。
- **副作用非明示 (High):** `run_digestor` 関数も内部で `Exception` を捕捉し、エラー時も例外を送出しない。スケジューラとしての堅牢性は高まるが、関数単体としては失敗を隠蔽しており、呼び出し元にとって予測不能な挙動となる。
- **暗黙状態変更 (Medium):** `cleanup_expired` 関数はシグネチャに現れないハードコードされたパス (`Path.home() / "oikos" ...`) に依存し、ファイルシステムの状態を変更する。対象ディレクトリが明示されていないため、副作用の範囲が予測不能。
- **型予測困難 (Medium):** `log`, `notify_desktop`, `run_digestor`, `cleanup_expired`, `save_pid`, `cleanup`, `main` の全ての関数に戻り値の型ヒント (`-> None`) が欠如しており、関数の契約（何も返さないこと）が明示されていない。

## 重大度
High
