# 予測誤差審問官 レビュー

## 対象ファイル
`mekhane/anamnesis/session_indexer.py`

## 判定
発言（要改善）

## 発見事項
- (High) モジュールレベルでの `sys.path` 変更によるグローバルな副作用
- (High) `index_from_api` 内での `subprocess.run` 実行による予測不能な副作用
- (High) `print` による標準出力へのログ出力（ロガー不使用）
- (Medium) `index_...` 関数内での `GnosisIndex`, `Embedder` の暗黙的なインスタンス化（DB接続状態の隠蔽）
- (Medium) 戻り値の型が `list[dict]` であり、辞書の構造が明示されていない（TypedDict等未使用）ため予測困難
- (Medium) 例外（`Exception`, `ValueError` 等）を捕捉し、警告ログを出力して処理を継続またはエラーコードを返すため、呼び出し元で失敗を検知しにくい

## 重大度
High
