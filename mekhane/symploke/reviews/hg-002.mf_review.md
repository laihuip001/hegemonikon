# 予測誤差審問官 レビュー

## 対象ファイル
`mekhane/anamnesis/cli.py`

## 判定
発言（要改善）

## 発見事項
- update_state 関数が戻り値なしでファイルシステムへの書き込み副作用を持つ (High)
- update_state, cmd_check_freshness, cmd_collect 等で広範な Exception を捕捉・握りつぶしており、呼び出し元が失敗理由を予測できない (Medium)
- update_state がグローバル変数 STATE_FILE に暗黙的に依存している (Medium)
- main 関数内に cmd_session_index 等の関数定義がネストされており、モジュールレベルから機能が見えない (Low)

## 重大度
High
