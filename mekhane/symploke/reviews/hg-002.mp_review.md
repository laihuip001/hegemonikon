# 予測誤差審問官 レビュー

## 対象ファイル
`mekhane/ochema/cli.py`

## 判定
発言（要改善）

## 発見事項
- **副作用非明示 (High)**: `cmd_status` や `cmd_models` などの参照系コマンドが `AntigravityClient` を生成する際に、内部で `ps aux` や `ss` などの重いプロセス実行とネットワーク接続試行を行っている。これにより「状態を確認するだけ」のコマンドが予期せぬ高負荷や遅延を引き起こす。
- **例外の発生が不明瞭 (Medium)**: 各コマンド関数 (`cmd_status`, `cmd_models` 等) は戻り値が `-> None` だが、`AntigravityClient` の接続失敗時などに `RuntimeError` がそのまま送出され、CLI がクラッシュする。シグネチャからはこの挙動が予測できない。
- **戻り値の型が予測困難 (Medium)**: `cmd_sessions` や `cmd_episodes` は内部データの状態に応じて、整形されたテーブル（文字列）を出力するか、生JSONを出力するかが変化する。これにより、パイプライン処理などで出力を利用する際の予測性が低下している。
- **予防ルール不全 (Low)**: `.pre-commit-config.yaml` において `ruff` 等の静的解析ルールがコメントアウトされており、予測可能性を担保するガードレールが機能していない。

## 重大度
High
