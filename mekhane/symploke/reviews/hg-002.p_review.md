# 予測誤差審問官 レビュー

## 対象ファイル
`mekhane/symploke/run_specialists.py`

## 判定
発言（要改善）

## 発見事項
- **副作用非明示 (High)**: `create_session` は関数名からセッション作成のみを連想させるが、内部で `print` による標準出力へのログ出力を行っており、呼び出し元が制御できない副作用を持っている。
- **型予測困難 (Medium)**: `create_session` や `run_batch` の戻り値が `dict` や `list[dict]` であり、成功時のキー構造（`session_id` 等）や失敗時のキー構造（`error` 等）が型ヒントから読み取れず、呼び出し元での予測が困難。TypedDict やデータクラスの使用が望ましい。
- **例外の隠蔽 (Medium)**: `create_session` 内で広範な `Exception` をキャッチし、エラー辞書として返却しているため、呼び出し元は例外処理機構（try-except）ではなく、戻り値のキー検査（if "error" in result）を強いられる。これはPythonの慣習から外れ、予測誤差を生む。
- **暗黙状態変更 (Medium)**: `run_batch` がグローバル変数 `API_KEYS` に依存しており、関数の引数として明示されていないため、テストや再利用時に予測外の挙動を引き起こす可能性がある。

## 重大度
High
