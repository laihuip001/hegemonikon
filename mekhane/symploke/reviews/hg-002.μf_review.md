# 予測誤差審問官 レビュー

## 対象ファイル
`mekhane/api/server.py`

## 判定
発言（要改善）

## 発見事項
- **不可視の副作用 (High)**: `_cleanup_stale_socket` 関数内で `sys.exit(1)` が呼び出されている。関数名からは「クリーンアップ処理」のみが期待され、プロセス全体の終了という副作用は予測不能であり、呼び出し元の制御フローを断ち切る重大な驚き（Surprise）である。例外を送出して呼び出し元に判断を委ねるべきである。
- **不可視の副作用 (High)**: モジュールトップレベルで `sys.path` を変更している。このモジュールを `import` するだけでグローバルな Python 実行環境（パス設定）が変更されることは、呼び出し元にとって予期せぬ副作用である。
- **状態の不確定性 (Medium)**: `_register_routers` 関数内で多数の `try-except` ブロックが使用され、インポートエラーが `logger.warning` に飲み込まれている。関数は正常終了 (`None`) を返すが、実際には主要な機能が欠落した「半死半生」のアプリケーション状態になっている可能性があり、その振る舞いが予測困難になる。

## 重大度
High
