# 予測誤差審問官 レビュー

## 対象ファイル
`mekhane/anamnesis/session_indexer.py`

## 判定
発言（要改善）

## 発見事項
- (High) **Global State Modification**: モジュールレベルでの `sys.path.insert(0, ...)` は、インポート時にインタプリタ全体の `sys.path` を変更し、依存関係の予測可能性を損なう副作用である。
- (Medium) **Unpredictable Return Types**: `parse_sessions_from_json`, `sessions_to_records` 等の主要関数が `list[dict]` や `dict` を返却しており、辞書のキー構造（スキーマ）が型定義から不可視であるため、呼び出し元が戻り値を予測できない。
- (Medium) **Hidden External Dependencies**: `index_steps`, `index_handoffs` 等のデフォルト引数に `Path.home() / ...` という隠れた外部パス依存が含まれており、関数シグネチャからは特定のファイルシステム構造への依存が読み取れない。
- (Medium) **Exception Swallowing**: `fetch_all_conversations`, `index_steps` 等のループ内で `except Exception:` により広範な例外を捕捉・無視しており、予期せぬシステムエラーやバグが隠蔽されるリスクがある。

## 重大度
High
