# 予測誤差審問官 レビュー

## 対象ファイル
`mekhane/fep/derivative_selector.py`

## 判定
発言（要改善）

## 発見事項
- **High**: `select_derivative` 関数 (Line 1361) は、関数名からは予測できない副作用（`_log_selection` によるファイルI/O、`_hybrid_select` 経由での外部APIコール）を含んでいる。「選択する (select)」という純粋なロジックを示唆する名前と、副作用を伴う実装の間に乖離があり、予測誤差が大きい。
- **Medium**: `encode_for_derivative_selection` 関数 (Line 1103) の戻り値 `Tuple[int, int, int]` は、各要素の意味（抽象度、文脈依存度、反省必要度）が型情報だけでは不透明である。呼び出し元で位置と意味の対応を把握する必要があり、認知負荷が高い。
- **Medium**: `_log_selection` 関数 (Line 1300) は、ログ記録のために YAML ファイル全体を読み込み、追記して書き直す実装になっている。「ログ (log)」という名前からは軽量な追記操作が期待されるが、実際にはファイルサイズに比例したコストがかかる処理となっており、パフォーマンス面での予測誤差を生む可能性がある。

## 重大度
High
