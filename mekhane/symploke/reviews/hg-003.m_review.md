# ストア派制御審判 レビュー

## 対象ファイル
`mekhane/pks/pks_cli.py`

## 判定
発言（要改善）

## 発見事項
- **タイムアウト設定なし (High)**: `cmd_search`, `cmd_push`, `cmd_auto` 等において、`PKSEngine` や `GnosisIndex`, `EmbeddingAdapter` の呼び出しに対するタイムアウト制御が存在しません。外部APIやDB応答が遅延した場合、CLIが無期限にハングする可能性があります。
- **フォールバック欠如 (Medium)**: `cmd_search` や `cmd_stats` には例外捕捉がありますが、`cmd_push`, `cmd_auto`, `cmd_infer` などの主要コマンドでは `PKSEngine` のメソッド呼び出しが `try-except` で保護されていません。エンジンの内部エラーでCLIがクラッシュします。
- **リカバリ戦略なし (Medium)**: `cmd_rebuild` におけるファイル読み込み (`read_text`) や保存 (`save`)、およびディレクトリ作成に対してエラーハンドリングがなく、I/O障害時に適切なメッセージを出力して終了する等のリカバリが行われていません。
- **リトライ/サーキットブレーカーなし (Medium)**: 外部検索やLLM推論（質問生成など）において、一時的なネットワークエラーに対するリトライロジックがCLIレベルで実装されていません。

## 重大度
High
