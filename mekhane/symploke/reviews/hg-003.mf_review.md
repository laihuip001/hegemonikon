# ストア派制御審判 レビュー

## 対象ファイル
`mekhane/mcp/hgk_gateway.py`

## 判定
発言（要改善）

## 発見事項
- (High) `hgk_digest_run`, `hgk_digest_list` において外部パイプライン（Semantic Scholar 検索等）呼び出し時のタイムアウト設定が欠如しており、無限ブロックのリスクがある。
- (High) `hgk_search` (GnosisIndex 検索), `hgk_ccl_execute`, `hgk_ccl_dispatch` などの重量処理において、実行時間の上限を設ける防御策（`signal.alarm` や `asyncio.wait_for` 等）が適用されていない。
- (Medium) `hgk_sessions`, `hgk_ls_status` などでの `AntigravityClient` 初期化および RPC 呼び出し時に、接続失敗やハングアップに対する再試行・サーキットブレーカー機構が存在しない。
- (Medium) `hgk_idea_capture`, `hgk_sop_generate` などのファイル書き込みにおいて、I/O エラー時の代替手段（一時ディレクトリへの退避など）やリカバリ策が欠如している。
- (Medium) 外部サービス（Antigravity LS, Semantic Scholar）への依存において、障害時のフォールバック（別プロバイダへの切り替えや機能縮退モード）が不十分である。

## 重大度
High
