# ストア派制御審判 レビュー

## 対象ファイル
`mekhane/anamnesis/session_indexer.py`

## 判定
発言

## 発見事項
- High: `fetch_all_conversations` 内の外部 API 呼び出し (`client._rpc`, `client.session_read`) にタイムアウトが設定されていません。制御不能な外部システムによる無限ブロックのリスクがあります。
- High: `index_conversations` や `index_handoffs` 等で使用される `embedder.embed_batch` にリトライ/サーキットブレーカーのロジックがありません。一時的な API エラーでプロセス全体が停止します。
- Medium: `index_handoffs` および `index_exports` 内でのファイル読み込み (`parse_handoff_md`, `parse_export_md`) がリスト内包表記で行われており、個別の例外処理がありません。1つのファイル読み込み失敗がプロセス全体をクラッシュさせます。
- Medium: `index_from_api` における `agq-sessions.sh` の実行 (`subprocess.run`) にリトライ戦略がありません。

## 重大度
High
