# ストア派制御審判 レビュー

## 対象ファイル
`mekhane/mcp/hgk_gateway.py`

## 判定
発言（要改善）

## 発見事項
- **タイムアウト欠如 (High)**: `hgk_digest_run` および `DigestorPipeline.run` の呼び出しに明示的なタイムアウト設定がない。長時間実行によるリソース拘束のリスクがある。また、`hgk_sessions`, `hgk_models`, `hgk_ls_status` など `AntigravityClient` を使用するツールでタイムアウトが指定されていない。
- **フォールバック欠如 (Medium)**: `hgk_paper_search` や `hgk_ask` などの外部API呼び出し失敗時に、代替手段 (キャッシュ利用、簡易検索への切り替え等) が実装されていない。
- **リカバリ戦略なし (Medium)**: `hgk_idea_capture` や `hgk_sop_generate` におけるファイル書き込み失敗時 (ディスクフル、権限エラー) の再試行や一時保存などのリカバリ戦略が欠如している。例外がそのまま伝播する設計となっている。
- **再試行メカニズムなし (Medium)**: 外部サービス (`SemanticScholar`, `Antigravity LS`) との通信において、一時的なネットワークエラーに対する再試行 (retry) やサーキットブレーカーの仕組みが見当たらない。

## 重大度
High
