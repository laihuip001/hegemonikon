# ストア派制御審判 レビュー

## 対象ファイル
`mekhane/anamnesis/session_monitor.py`

## 判定
発言（要改善）

## 発見事項
- (High) `monitor_once` 関数内の `client.session_info()` および `client.session_read()` 呼び出しにおいて、呼び出し側での明示的なタイムアウト設定が行われていない。`AntigravityClient` の内部実装（10秒）に依存しており、制御が外部任せになっている。また、One-shot モード実行時にはタイムアウト例外（`URLError` 等）が捕捉されず、プロセスがクラッシュする。
- (Medium) `monitor_once` 関数の末尾で呼び出される `save_state(state)` が例外処理ブロックの外に配置されており、ファイルI/O失敗時（ディスクフルや権限エラー）にリカバリ戦略がなく、プロセスがクラッシュする。
- (Medium) 外部サービス（Antigravity LS）への接続失敗やエラー継続時において、`daemon_loop` は単純な定間隔スリープによる再試行のみを行っており、指数バックオフ（Exponential Backoff）やサーキットブレーカー（Circuit Breaker）の制御機構が欠如している。

## 重大度
High
