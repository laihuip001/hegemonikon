# ストア派制御審判 レビュー

## 対象ファイル
`mekhane/mcp/sophia_mcp_server.py`

## 判定
発言（要改善）

## 発見事項
- (High) `call_tool` 内の `EmbeddingAdapter` (encode/search) や `SophiaBacklinker` の処理は同期的に実行されており、計算量やI/O負荷が高い場合にMCPサーバーのイベントループをブロックし、タイムアウト制御が欠如している。
- (Medium) `SOPHIA_INDEX` / `KAIROS_INDEX` の読み込み失敗時（ファイル破損・欠損）に対するフォールバック手段（簡易検索への切り替え等）が存在しない。
- (Medium) インデックスファイル破損時のリカバリ戦略（自動再構築や管理者への通知）が実装されていない。
- (Low) `EmbeddingAdapter` のモデル初期化（初回ダウンロード発生時）に対する明示的なタイムアウト設定やリトライロジックがない。

## 重大度
High
