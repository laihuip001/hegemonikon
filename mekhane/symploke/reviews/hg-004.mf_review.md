# CCL式美学者 レビュー

## 対象ファイル
`mekhane/anamnesis/session_monitor.py`

## 判定
発言（要改善）

## 発見事項
- (Module) CCL式が60ポイント超過: `monitor_once` 関数内にAPI通信、状態管理、ファイルI/O、コンソール出力が混在しており、単一の思考の軌跡として複雑すぎる（推定65pt）。
- (Intent) 演算子の意図が不明: `monitor_once` 内の変数名 `s` (session) や `conv` (conversation) が短縮されており、文脈負荷が高い。
- (Redundancy) 冗長なCCL式: `sanitize_filename` 内での `import re` はトップレベルに移動すべきであり、ファイル保存ロジックも分離可能。

## 重大度
Medium

## 修正案
1. **責務の分離**: `monitor_once` を「変更検知 (`detect_updates`)」と「保存処理 (`save_session`)」に分割し、それぞれを単一責任にする。
2. **クラス化**: 状態管理 (`state`) を `SessionMonitor` クラスにカプセル化し、引数の引き回しを排除する。
3. **importの整理**: `import re` をトップレベルに移動し、コンテキスト切り替えを減らす。
