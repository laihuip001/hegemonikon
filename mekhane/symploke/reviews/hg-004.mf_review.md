# CCL式美学者 レビュー

## 対象ファイル
`mekhane/anamnesis/index.py`

## 判定
発言（要改善）

## 発見事項
- **CCL式が60ポイント超過 (Medium)**: モジュールが `Embedder` (推論・ハードウェア抽象化) と `GnosisIndex` (DB操作・検索) の2つの大きな責務（ドメイン）を混在させており、推定ポイントが65ptを超過しています。分割を推奨します。
- **ネストが3レベル超過 (Medium)**: `Embedder.__init__` 内の GPU/CPU フォールバックロジックが `if` > `try` > `if` > `try` と深くネストしており、可読性を損なっています。
- **冗長なCCL式 (Low)**: 218行目の `# PURPOSE: Gnōsis論文インデックス` はメソッド内に誤って配置されており、ノイズとなっています。
- **演算子の意図が不明 (Low)**: `_get_vector_dimension` 内での `import re` や、`_embed_onnx` 内の行列演算に対するコメントが不足しており、意図が直感的に伝わりません。

## 修正案 (Code Suggestion)
1. `Embedder` クラスを `mekhane/anamnesis/embedder.py` に抽出・移動する。
2. `Embedder.__init__` のネストを解消するため、初期化ロジックを `_init_gpu`, `_init_cpu` 等のメソッドに分割する。
3. 誤った `# PURPOSE` コメントを削除する。

## 重大度
Medium
