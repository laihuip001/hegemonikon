# CCL式美学者 レビュー

## 対象ファイル
`mekhane/anamnesis/session_indexer.py`

## 判定
発言（要改善）

## 発見事項
- CCL式が60ポイント超過: セッション、Handoff、会話、ステップ、エクスポートの5つの異なるソースに対するインデックス処理が混在しており、単一ファイルの複雑度が過大です。 (Medium)
- 冗長なCCL式: 各 `index_*` 関数で「重複チェック」「バッチ埋め込み」「LanceDBへの追加」という同一の処理パターンが繰り返されています。 (Low)
- ネストが3レベル超過: `parse_sessions_from_json` や `fetch_all_conversations` 内でループと条件分岐が重なり、4レベル以上のネストが発生しています。 (Low)

## 重大度
Medium
