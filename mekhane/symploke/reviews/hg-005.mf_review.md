# 定理整合性監査官 レビュー

## 対象ファイル
`mekhane/anamnesis/index.py`

## 判定
発言（要改善）

## 発見事項
- **定理参照の不備**: `[L2-auto]` は 24 定理 (O/H/A/S/P/K) に含まれない無効な参照です。
- **定理参照の欠如**: 多くのメソッド (`Embedder`, `GnosisIndex`, `add_papers`, `search` 等) の `# PURPOSE` コメントに定理参照がありません。
- **PURPOSE 配置違反**: `GnosisIndex._normalize_title` メソッドにおいて、`# PURPOSE:` コメントが `@staticmethod` デコレータの後ろに配置されています（デコレータの前に配置する必要があります）。

## 重大度
Medium

## 修正提案

各メソッドの役割に基づき、以下の定理を割り当て、`[L2-auto]` を適切な定理に置き換えることを提案します。

1. **`Embedder` クラス**: `P4` (Tekhnē - 技術実装)
   - `__new__`, `__init__`: `P4`
   - `embed`, `embed_batch`: `O1` (Noēsis - 意味理解)

2. **`GnosisIndex` クラス**: `S3` (Stathmos - 知識の貯蔵)
   - `add_papers`: `S3` (Stathmos - 貯蔵)
   - `search`: `O3` (Zētēsis - 探索)
   - `stats`: `S1` (Metron - 計測)
   - `_get_vector_dimension`: `S1` (Metron - 計測)
   - `get_by_primary_key`: `S3` (Stathmos - 取得)
   - `_normalize_title`: `S1` (Metron - 規格化)

**デコレータ配置の修正例**:

```python
# 誤
@staticmethod
# PURPOSE: [L2-auto] タイトルの正規化: 小文字化 + 非英数字除去でファジーマッチ。
def _normalize_title(title: str) -> str:

# 正
# PURPOSE: S1 タイトルの正規化: 小文字化 + 非英数字除去でファジーマッチ。
@staticmethod
def _normalize_title(title: str) -> str:
```
