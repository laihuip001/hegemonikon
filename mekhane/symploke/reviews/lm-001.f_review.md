# LLM臭気検出者 レビュー

## 対象ファイル
`mekhane/anamnesis/index.py`

## 判定
発言（要改善）

## 発見事項
- **明白なドキュメンテーション (Medium)**: `_get_vector_dimension`、`Embedder._init_onnx`、`Embedder._embed_st` などで、関数名や直前のコメントを繰り返すだけの冗長なドキュメンテーションが見られる。
- **スタイル不統一 (Medium)**: インポートがトップレベル、`__init__`、各メソッド内 (`_init_onnx`, `_get_vector_dimension`) に散乱しており、統一感がない。
- **例外の握りつぶし (High)**: `GnosisIndex._load_primary_keys` や `get_by_primary_key` で `try...except Exception: pass/return None` が使用されており、潜在的なバグを隠蔽している。
- **Happy Path ロジック (Medium)**: `add_papers` や `search` において、データベース操作（`table.add`, `table.search`）に対するエラーハンドリングが欠如している。
- **脆弱な実装 (Low)**: `_get_vector_dimension` で `str(field.type)` の正規表現パースに依存しており、ライブラリの仕様変更に弱い。

## 重大度
Medium
