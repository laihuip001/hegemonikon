# LLM臭気検出者 レビュー

## 対象ファイル
`mekhane/anamnesis/cli.py`

## 判定
発言（要改善）

## 発見事項
- Inconsistent Style (Medium): `cmd_collect`, `cmd_search` などの主要コマンドはモジュールレベルで定義されている一方、`cmd_session_index`, `cmd_handoff_index` などは `main()` 関数内で定義されており、コーディングスタイルの一貫性が欠如している。複数のソースコードが接ぎ木されたような印象を与える。
- Obvious Docstrings (Low): `update_state` のdocstring `"""Update last collected timestamp."""` のように、関数名から自明な内容を繰り返しているだけの箇所が散見される。
- Happy Path Bias (Low): `update_state` や `cmd_stats` において、`except Exception: pass` のようにエラーを握り潰す処理があり、異常系のハンドリングが不十分である。
- Import Scattering (Low): `main` 関数内や各コマンド関数内で `import` が行われており、依存関係の見通しが悪い。

## 重大度
Medium
