# LLM臭気検出者 レビュー

## 対象ファイル
`mekhane/fep/derivative_selector.py`

## 判定
発言（要改善）

## 発見事項
- (Medium) **コピペ変異体 (Copy-paste variants)**:
  `_select_O1_derivative` から `_select_A4_derivative` まで24個の関数が、変数名とパターン定義以外ほぼ完全に同一の構造を持っている。
  また、`_generate_O1_rationale` から `_generate_A4_rationale` までの24個の関数も同様に構造が酷似している。
  共通ロジックを抽出してリファクタリングすべきである。

- (Medium) **明白なdocstring (Obvious docstrings)**:
  多くの関数やクラスのdocstringが、名前をそのまま繰り返しているだけで情報量がゼロに近い。
  例: `class DerivativeStateSpace: """State spaces for derivative selection across O-series theorems."""`

- (Low) **教科書的すぎるパターン適用 (Textbook patterns)**:
  `DerivativeStateSpace` クラスは単なる定数のコンテナであり、クラスとして定義する必要性が薄い。
  データ駆動型のアプローチ（設定ファイルや辞書定義）に移行することでコード量を大幅に削減できる。

## 重大度
Medium
