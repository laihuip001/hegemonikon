# LLM臭気検出者 レビュー

## 対象ファイル
`mekhane/anamnesis/session_indexer.py`

## 判定
発言（要改善）

## 発見事項
- (Medium) **コピペ変異体**: `index_handoffs`, `index_conversations`, `index_steps`, `index_exports`, `index_from_json` の5つの関数において、LanceDBへのインデックス登録ロジック（重複除外、埋め込み生成、DB追加）がほぼ同一の構造で繰り返されています。共通化されていません。
- (Low) **スタイル不統一**: 埋め込み生成時のバッチサイズが関数によって `16` だったり `32` だったり、あるいはバッチ処理そのものがなかったり（`index_handoffs`）と、統一感がありません。
- (Low) **明白なことを説明する docstring**: 各関数の docstring が関数名を日本語に直訳した程度の内容にとどまっており、実装詳細や特記事項への言及が少ない箇所があります。

## 重大度
Medium
