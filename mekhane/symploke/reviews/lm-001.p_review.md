# LLM臭気検出者 レビュー

## 対象ファイル
`mekhane/fep/attractor_advisor.py`

## 判定
発言（要改善）

## 発見事項
- **Inconsistent Style (Medium)**: コード内のコメントが日本語で記述されており（例: `# Advice テキスト生成`, `# 重複排除しつつ順序保持`, `# 最適化: decompose() は内部で diagnose() を呼ぶため...`）、AGENTS.md の「コードコメント: 英語」という規約に違反している。
- **Happy Path Bias (Medium)**: `_retrieve_gnosis` メソッド内の例外処理が `except Exception:` で全ての例外（ImportError, LancelDB エラーだけでなく、潜在的な論理エラーも含む）を握りつぶしており、デバッグを困難にしている。
- **Inconsistent Type Annotations (Low)**: `typing.List`/`typing.Dict` (`_detect_crossings`) と組み込みの `list`/`dict` (`_retrieve_gnosis`) が混在しており、スタイルが統一されていない。
- **Obvious Docstrings (Low)**: `recommend` や `format_for_llm` の docstring が関数名の直訳に過ぎず（"ユーザー入力からワークフロー推薦を生成する"）、実装の詳細や注意点についての情報が不足している。

## 重大度
Medium
