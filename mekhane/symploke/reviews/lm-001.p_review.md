# LLM臭気検出者 レビュー

## 対象ファイル
`mekhane/mcp/hgk_gateway.py`

## 判定
発言（要改善）

## 発見事項
- **明白なことを説明するコメント (Tautological Comments)**: `HGKOAuthProvider` の各メソッドや MCP ツール関数につけられた `# PURPOSE:` コメントの多くが、関数名を日本語に翻訳しただけの冗長な記述になっている（例: `# PURPOSE: hgk_gateway の hgk search 処理を実行する`）。
- **スタイル不統一 (Inconsistent Style)**: ツール実行のトレース処理において、デコレータ `@_traced` を使用する箇所と、関数内で手動で `_trace_tool_call` を呼び出す箇所が混在しており、実装方針が一貫していない（例: `hgk_idea_capture`, `hgk_ccl_execute`, `hgk_paper_search` は手動トレース）。
- **意味のないコード (Useless Code)**: `hgk_pks_stats` 関数において `subprocess.run(..., capture_output=True)` を `contextlib.redirect_stdout` で囲んでいるが、サブプロセスの出力は `result.stdout` に格納されるため、`redirect_stdout` は機能していない（幻覚的なパターン適用）。
- **過剰な局所インポート (Excessive Local Imports)**: `import` 文が関数内に散乱しており、一貫性を欠く（例: `hgk_pks_stats` 内の `import io, contextlib` など）。

## 重大度
Medium
