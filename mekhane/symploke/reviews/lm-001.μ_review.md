# LLM臭気検出者 レビュー

## 対象ファイル
`mekhane/mcp/ochema_mcp_server.py`

## 判定
発言（要改善）

## 発見事項
- **(Medium)**: `call_tool` 関数が約250行（L217-L468）の巨大関数となっており、100行制限を大幅に超過している。
- **(Medium)**: `call_tool` 内の各分岐（`ask`, `ask_cortex`, `cortex_quota` 等）が `try...except` ブロックと `get_service()` 呼び出しを繰り返しており、構造的なコピペ変異体となっている。共通ロジックをデコレータやヘルパー関数に抽出せず、ボイラープレートを量産している。
- **(Low)**: `StdoutSuppressor` クラスは特定のライブラリノイズ対策として機能するが、教科書的なスニペット感が強く、アーキテクチャの一部として統合されていない印象を与える。
- **(Low)**: 一部の docstring（例: `Handle tool calls`）は関数名そのままであり、情報量が低い。

## 重大度
Medium
