# LLM臭気検出者 レビュー

## 対象ファイル
`mekhane/fep/derivative_selector.py`

## 判定
発言（要改善）

## 発見事項
- **Critical Copy-Paste Variants**: `_select_o1_derivative` から `_select_a4_derivative` まで（24関数）および `_generate_o1_rationale` から `_generate_a4_rationale` まで（24関数）が完全に同一構造のコピペ変異体である。これは「Reduced Complexity (10倍→1/10に圧縮)」の原則に著しく違反している。
- **Obvious docstrings**: ほぼ全ての関数において、関数名をただ繰り返しただけの docstring が付与されている（例: `list_derivatives` → "List all derivatives for a theorem."）。
- **Redundant Logic**: `DERIVATIVE_DESCRIPTIONS` がファイル中盤（L515付近）と終盤（L1140付近）で二重定義されている。前者は不完全であり、コードの混乱を招く。
- **Excessive Length**: 単純なパターンマッチングと選択ロジックのために1300行以上を費やしており、データ構造化すれば300行程度に収まる内容である。

## 重大度
High
