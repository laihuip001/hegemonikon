# LLM臭気検出者 レビュー

## 対象ファイル
`mekhane/mcp/ochema_mcp_server.py`

## 判定
発言（要改善）

## 発見事項
- (Medium) 関数 `call_tool` が約240行あり、単一関数の行数制限 (100行) を大幅に超過している。
- (Medium) `ask` と `ask_cortex` の処理ブロックが構造的に酷似しており（コピペ変異体）、共通化されていない。
- (Medium) `cortex_quota`, `status`, `models` の処理も構造的複製（try-catch-log パターン）が見られる。
- (Low) `list_tools`, `call_tool` などの docstring が自明な内容（"List available tools" 等）にとどまっている。
- (Low) `log`, `get_service` に型アノテーション（特に戻り値）が欠如している。

## 重大度
Medium
