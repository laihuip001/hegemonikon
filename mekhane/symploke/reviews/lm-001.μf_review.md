# LLM臭気検出者 レビュー

## 対象ファイル
`hermeneus/src/executor.py`

## 判定
発言（要改善）

## 発見事項
- (Medium) **コピペ変異体**: `_phase_compile`, `_phase_execute`, `_phase_verify`, `_phase_audit` の4つのメソッドが、時間計測・例外捕捉・結果ラップという全く同じ構造を持っている。デコレータ等で共通化すべきボイラープレートが4回繰り返されている。
- (Low) **明白なDocstring**: `to_dict` ("辞書に変換"), `registry` ("レジストリを取得"), `BatchExecutor` ("バッチ実行エンジン") など、関数名を見れば分かる情報を繰り返しているだけのコメントが多数ある。「なぜ」「どのように」といった文脈情報が欠落している。
- (Medium) **Happy Path偏重**: 各フェーズのエラーハンドリングが `try: ... except Exception as e:` で包括的に捕捉するだけで、具体的なエラー（コンパイルエラー、タイムアウト等）に応じた処理やリカバリ戦略がない。
- (Medium) **危険な同期ラッパー**: `execute_sync` や `run_workflow_sync` で `asyncio.run()` を使用しているが、これは既存のイベントループ内で呼び出されると `RuntimeError` を引き起こす可能性がある（LLM生成コードによく見られるパターン）。

## 重大度
Medium
