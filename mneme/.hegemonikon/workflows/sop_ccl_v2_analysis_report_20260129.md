# CCL v2.0 専門家分析報告書 (Perplexity)

> **取得日時**: 2026-01-29T19:19:00+09:00
> **ソース**: Perplexity Pro (sop_ccl_v2_control_syntax_20260129.md への応答)
> **状態**: 統合待ち

---

## 評価サマリー

### 強み ✅

| 項目 | 評価 |
|:-----|:-----|
| FEP理論基盤 | ✓ 確固たる理論的基盤 |
| HITL文法組込 | ✓ 非回避的設計 |
| 再帰深度制限 | ✓ 計算安全性確保 |
| 段階的実装 | ✓ 明確なロードマップ |

### 課題 △

| 項目 | 優先度 | 問題 |
|:-----|:-------|:-----|
| confidence/entropy計算 | **P0** | 具体的計測方法が未記述 |
| HITLセマンティクス | **P0** | 承認フロー・拒否時処理が未定義 |
| デフォルト閾値根拠 | P1 | 0.5/2.5 の正当化なし |
| 曖昧さ解決プロトコル | P1 | 「対話で解決」が形式化されていない |
| 並行実行共有状態 | P2 | `||` の競合処理が未定義 |

---

## P0 課題への対応案

### 1. confidence/entropy 計算仕様

**提案**: FEP の数学的定義を参照

```python
# confidence: 変分自由エネルギーの逆数
confidence = 1 / (1 + variational_free_energy)

# entropy: 予測分布のシャノンエントロピー
entropy = -sum(p * log(p) for p in prediction_distribution)
```

**閾値根拠**:

- `confidence > 0.5`: Bayesian majority (過半数)
- `entropy < 2.5`: 約5-6択肢の曖昧さが可管理限界

### 2. HITL セマンティクス形式化

```ccl
[審査:人間]
  ├─ 承認時: 次のステップへ進行
  ├─ 拒否時: /dia^ (メタ判定) を自動発動
  ├─ タイムアウト: 8時間後に Creator へ通知
  └─ エスカレーション: 3回拒否で設計見直し推奨
```

### 3. 曖昧さ解決プロトコル (Phase 2 へ)

```ccl
# Interactive Clarification
if entropy > 3.0:
  clarify "どちらの意味ですか？" [選択肢A, 選択肢B]
```

---

## 戦略的意思決定

> **現在の仕様は、v2.0.0「設計案」としては十分な完成度**を有しており、
> 人間による理解と解釈が可能です。
>
> v2.1.0 のパーサー実装に向けては、上記 P0 項目を優先的に仕様に組み込むことを強く推奨します。

---

## 引用された理論的根拠

1. **Free Energy Principle**: 予測、知覚、行動を統合するフレームワーク
2. **HITL Governance**: 「最終的な信頼の層」としての人間介入
3. **AI Safety Case**: 安全性を言語設計に先制的に組み込む

---

## 次のアクション

1. [ ] P0課題を CCL v2.0 仕様に追記
2. [ ] confidence/entropy の具体的算出式を定義
3. [ ] HITL セマンティクスの形式化
4. [ ] KI に統合して永続化

---

*Perplexity 分析報告書 — 2026-01-29*
