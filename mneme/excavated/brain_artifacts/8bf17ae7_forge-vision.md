# Forgeプロジェクト: ビジョン定義書

---

## プロジェクトの根幹

**Forgeの本質:**
プログラミング言語のコーディング機構・機能を、高度に設計されたプロンプトエンジニアリング（="プロンプトコーディング"）用に**完全転用**する。

---

## 検証すべき核心仮説

| # | 仮説 | 検証方法 |
|---|---|---|
| 1 | JulesがPE指示書に従ってプロンプトを生成できる | 実験: PE指示書を渡してプロンプト生成を依頼 |
| 2 | 生成不可の場合、プロンプト言語を作れば可能になる | prompt-lang構文定義 → Julesに認識させる |

**仮説1が成功すればPhase 1完了。失敗すれば仮説2へ移行。**

---

## ワークフロー構造

```
┌─────────────────────────────────────────────────────────────┐
│  CEO (ユーザー/The Architect)                               │
│  ・最終意思決定                                              │
│  ・要件提示                                                  │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│  COO (メタプロンプト君 / Claude Opus 4.5 Thinking)          │
│  ・要件定義の質問・問いかけ                                  │
│  ・意思決定への参加                                          │
│  ・システムプロンプト設計の相談役                            │
│  ・全チャットに適用されるミドルウェア層                      │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│  プロンプトコーダー (Jules / Gemini Code Assist)            │
│  ・PE指示書に従ってプロンプトを生成                          │
│  ・コード生成機構をプロンプト生成に転用                      │
└─────────────────────────────────────────────────────────────┘
```

---

## メタプロンプトSKILLの位置付け

### 誤った認識（修正前）
```
constitution.xml
└── plugins/
    └── meta-prompt/  ← ここに配置 (× 階層が低い)
```

### 正しい認識
```
┌─────────────────────────────────────────────────────────────┐
│  SYSTEM PROMPT LAYER (すべてのチャットに適用)               │
│  ├── メタプロンプトSKILL (COO)                              │
│  │   ├── Intent Crystallization                             │
│  │   ├── Archetype Selection                                │
│  │   ├── Pre-Mortem Simulation                              │
│  │   └── 質問・問いかけプロトコル                           │
│  │                                                          │
│  └── User_Context_Master (ユーザー認知特性)                 │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│  APPLICATION LAYER                                          │
│  ├── library/ (プロンプトテンプレート)                      │
│  ├── protocols/ (開発モジュール)                            │
│  └── archive/ (生成済み保存)                                │
└─────────────────────────────────────────────────────────────┘
```

**メタプロンプトSKILLは「plugins」ではなく「SYSTEM PROMPT」として最上位に位置する。**

---

## Antigravityの活用価値

| 機能 | 価値 |
|---|---|
| トークン量 | Claude単体契約より安価でなかなかの量 |
| プロジェクトナレッジ | Claude.aiより遥かに多くのファイル保存可能 |
| GitHub連携 | 優れた統合 |
| 設定機構 | Rules, Workflow, GEMINI.md の3層カスタマイズ |

**Julesが使えなくても、Antigravity自体の価値は十分にある。**

---

## プロジェクト成功の定義

| レベル | 条件 |
|---|---|
| **最低成功** | AntigravityでPE専用環境が動作する |
| **標準成功** | JulesがPE指示書でプロンプト生成できる |
| **完全成功** | prompt-lang言語が完成し、Julesが認識・生成できる |

---

## 設計への反映事項

1. **メタプロンプトSKILLはpluginsではなくSystemレベルに配置**
2. **GEMINI.mdにCOOとしてのメタプロンプトSKILLを組み込む**
3. **階層構造を再設計: System層 > Application層 > Archive層**
