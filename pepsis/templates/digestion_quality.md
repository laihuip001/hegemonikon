# η/ε 消化品質算出テンプレート

> **用途**: `/eat` Phase 3 の η (情報保存率) / ε (構造復元率) 算出を Gemini で半自動化
> **導出**: /ccl-chew 消化 (2026-02-15)

---

## Gemini プロンプト: η 算出 (情報保存率)

```
あなたは Hegemonikón の消化品質評価者です。

## 入力
- **外部概念一覧** (Phase 1 F の出力): {concepts}
- **HGK マッピング結果** (Phase 2 G の出力): {mappings}

## タスク
各外部概念について、HGK への対応付けで **何が保存され、何が失われたか** を判定してください。

## 出力形式
| 概念 | 保存された構造 | 失われた構造 | η (0-100%) |
|:-----|:-------------|:------------|:-----------|

**全体 η** = 各概念の η の加重平均 (重要度で重み付け)

## 判定基準
- **100%**: 外部概念の全情報が HGK 内で表現可能
- **75-99%**: 主要構造は保存。細部や文脈依存の情報が損失
- **50-74%**: 骨格は保存。肉付けが大幅に損失
- **25-49%**: 一部の類似性のみ。質的に異なるマッピング
- **0-24%**: ほぼ対応不能
```

---

## Gemini プロンプト: ε 算出 (構造復元率)

```
あなたは Hegemonikón の消化品質評価者です。

## 入力
- **HGK マッピング結果** (Phase 2 G の出力): {mappings}
- **元の HGK 定理/座標定義**: {hgk_definitions}

## タスク
HGK マッピングを元の外部概念に「逆変換」したとき、どれだけ原型を復元できるかを判定してください。
これは G∘F の冪等性 (εF: FGF→F) の操作的近似です。

## 出力形式
| マッピング | 復元可能な情報 | 復元不可能な情報 | ε (0-100%) |
|:---------|:-------------|:---------------|:-----------|

**全体 ε** = 各マッピングの ε の加重平均

## 判定基準
- **100%**: マッピングから元概念を完全に再構成可能 (同型)
- **75-99%**: 主要特徴は再構成可能 (埋込)
- **50-74%**: 部分的に再構成可能 (射影)
- **25-49%**: 大幅に情報損失 (弱い射)
- **0-24%**: ほぼ再構成不能
```

---

## 消化分類基準 (η/ε → Drift → 分類)

| 分類 | 条件 | 意味 |
|:-----|:-----|:-----|
| **Naturalized** | η ≥ 85%, ε ≥ 80%, Drift ≤ 15% | 既存 HGK で十分に表現可能 |
| **Absorbed** | η ≥ 65%, ε ≥ 60%, Drift ≤ 30% | 構造は保存されるが細部に損失 |
| **Assimilated** | η ≥ 45%, ε ≥ 40%, Drift ≤ 50% | HGK 拡張が必要な可能性 |
| **Foreign** | η < 45% or ε < 40% | HGK の外部。無理に取り込まない |

**Drift 算出**: `Drift = 100% - (η + ε) / 2`

---

## 使い方

```python
# ochema ask_cortex で使う場合
mcp_ochema_ask_cortex(
    message=f"<η算出プロンプト>\n\n{concepts}\n{mappings}",
    model="gemini-2.5-flash",
    system_instruction="あなたは Hegemonikón の消化品質評価者です。"
)
```

---

*Template v1.0 — /ccl-chew 消化品質半自動化 (2026-02-15)*
